

<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title>Interview - Sad man</title><meta name="Description" content=""><meta property="og:title" content="Interview" />
<meta property="og:description" content="操作系统进程同步的临界区 进程同步是多个进程在执行时为了协调他们的行为或确保共享资源的一致性而进行的相互制约。其中，临界区是进程同步的核心概念" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sad-man-shang.github.io/interview/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-12T20:39:43+08:00" />
<meta property="article:modified_time" content="2023-08-12T20:39:43+08:00" />


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Interview"/>
<meta name="twitter:description" content="操作系统进程同步的临界区 进程同步是多个进程在执行时为了协调他们的行为或确保共享资源的一致性而进行的相互制约。其中，临界区是进程同步的核心概念"/>
<meta name="application-name" content="Sad man">
<meta name="apple-mobile-web-app-title" content="Sad man">

<meta name="theme-color" content="#f8f8f8"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="canonical" href="https://sad-man-shang.github.io/interview/" /><link rel="prev" href="https://sad-man-shang.github.io/parkmate/" /><link rel="next" href="https://sad-man-shang.github.io/ios/" />
<link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/color.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/fontawesome-free/all.min.css">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/animate/animate.min.css">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Interview",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/sad-man-shang.github.io\/interview\/"
        },"genre": "posts","keywords": "面试","wordcount":  68315 ,
        "url": "https:\/\/sad-man-shang.github.io\/interview\/","datePublished": "2023-08-12T20:39:43+08:00","dateModified": "2023-08-12T20:39:43+08:00","publisher": {
            "@type": "Organization",
            "name": "Sad man"},"authors": [{
                        "@type": "Person",
                        "name": "Sad_man"                    
                    }],"description": ""
    }
    </script><script src="//instant.page/5.2.0" defer type="module" integrity="sha384-jnZyxPjiipYXnSU0ygqeac2q7CVYMbh84q0uHVRRxEtvFPiQYbXWUorga2aqZJ0z"></script>
</head>

<body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">
        function setTheme(theme) {document.body.setAttribute('theme', theme); document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark'); window.theme = theme;   window.isDark = window.theme !== 'light' }
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {let theme = localStorage.getItem('theme');theme === 'light' || theme === 'dark' || theme === 'black' ? setTheme(theme) : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light')); } else { if ('auto' === 'light' || 'auto' === 'dark' || 'auto' === 'black') setTheme('auto'), saveTheme('auto'); else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');}
        let metaColors = {'light': '#f8f8f8','dark': '#252627','black': '#000000'}
        getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
        window.switchThemeEventSet = new Set()
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Sad man">Sad man</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/series/"> 系列 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-select" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                    <select class="color-theme-select" id="theme-select-desktop" title="切换主题">
                        <option value="light">浅色</option>
                        <option value="dark">深色</option>
                        <option value="black">黑色</option>
                        <option value="auto">跟随系统</option>
                    </select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Sad man">Sad man</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/series/" title="">系列</a><a href="javascript:void(0);" class="menu-item theme-select" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
                <select class="color-theme-select" id="theme-select-mobile" title="切换主题">
                    <option value="light">浅色</option>
                    <option value="dark">深色</option>
                    <option value="black">黑色</option>
                    <option value="auto">跟随系统</option>
                </select>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
            <div class="container"><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC", "false")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Interview</h1><div class="post-meta">
            <div class="post-meta-line">
                <span class="post-author"><span class='author'><span class="author fas fa-user-circle fa-fw"></span><span class='screen-reader-text'>  </span><a href='https://sad-man-shang.github.io/authors/sad_man'>Sad_man</a></span>
                </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category">类别 <a href="/categories/interview/"><i class="far fa-folder fa-fw"></i>interview</a></span>&nbsp;<span class="post-category">和</span>&nbsp;<span class="post-series">系列 <a href="/series/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><i class="far fa-list-alt fa-fw"></i>学习笔记</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2023-08-12">2023-08-12</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime="2023-08-12">2023-08-12</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 68315 字&nbsp;<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 137 分钟&nbsp;</div>
        </div><div class="details series-nav open">
                                <div class="details-summary series-title">
                                    <span>系列 - 学习笔记</span>
                                    <span><i class="details-icon fas fa-angle-right"></i></span>
                                </div>
                                <div class="details-content series-content">
                                    <nav>
                                        <ul>
                                                    <li><a href="/springsourcecode/">Spring关键源码阅读</a></li><li><span class="active">Interview</span></li>
                                                    <li><a href="/parkmate/">Parkmate</a></li>
                                                    <li><a href="/grpc/">GRPC</a></li>
                                                    <li><a href="/%E7%AC%94%E8%AF%95%E7%9C%9F%E9%A2%98/">笔试真题</a></li>
                                                    <li><a href="/mysql/">Mysql</a></li>
                                                    <li><a href="/%E6%AF%8F%E6%97%A5%E5%88%B7%E9%A2%98/">LeetCode 热题 HOT 100</a></li></ul>
                                    </nav>
                                </div>
                            </div><div class="content" id="content"><div class="details admonition note open">
                <div class="details-summary admonition-title">
                    <i class="icon fas fa-pencil-alt fa-fwnote"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
                </div>
                <div class="details-content">
                    <div class="admonition-content">
                        本文最后更新于 <span class="timeago" datetime="2023-08-12T20:39:43" title="August 12, 2023">2023-08-12</span>，文中内容可能已过时。</div>
                </div>
            </div><h1 id="操作系统" class="headerLink">
    <a href="#%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f" class="header-mark"></a>操作系统</h1><p>进程同步的临界区</p>
<pre tabindex="0"><code>进程同步是多个进程在执行时为了协调他们的行为或确保共享资源的一致性而进行的相互制约。其中，临界区是进程同步的核心概念。

### 临界区：

**临界区（Critical Section）** 是一个访问共享资源或数据的代码段，而这些资源在同一时刻只能被一个进程（或线程）访问。在临界区内的代码，同一时刻只能被一个执行单元（如进程或线程）执行。如果不遵循这一规则，那么可能会出现数据不一致或其他不可预见的结果。

例如，假设有两个进程都要修改一个共享的变量。如果这两个进程同时修改该变量，那么最终的结果将是不确定的。为了确保正确性，修改这个共享变量的代码必须被当作临界区，并确保任何时刻只有一个进程能执行这段代码。

### 临界区的属性：

1. **互斥性**：同一时刻只能有一个进程执行临界区代码。

2. **不可剥夺**：进入临界区的进程只有在退出时才释放其对临界区的控制。

3. **等待限制**：请求进入临界区的进程不应无限期地被延迟。

4. **循环等待**：有一个约定的顺序或方法，以避免进程之间的循环等待情况。

### 实现临界区的方法：

1. **禁止中断**：这是一个简单但粗糙的方法，适用于单处理器系统。进入临界区前禁止所有中断，退出时再恢复。

2. **特殊的机器指令**：使用测试和设置锁（Test and Set Lock）或者交换（Swap）等特殊的原子操作。

3. **Peterson&#39;s Solution**：这是一个基于软件的方法，用于两个进程的同步。

4. **信号量（Semaphores）**：信号量是一个经典的同步原语，可以用来实现多个进程之间的同步。

5. **互斥体（Mutex）**：通常用于线程同步。

6. **管程（Monitors）**：这是一个更高级的同步原语，它包含了共享数据以及可以操作这些数据的一组过程。

为了保证共享资源的一致性和数据的完整性，在多任务环境中实现临界区保护是至关重要的。
</code></pre><p>操作系统的内存管理机制</p>
<p>进程线程的区别，线程调度机制，进程的状态</p>
<p>死锁：是什么、发生条件、如何避免</p>
<pre tabindex="0"><code>死锁 是计算机科学中的一个概念，尤其在操作系统和并发控制中，指的是两个或多个进程或线程在等待某个资源而永远无法进行下去的情况。

死锁的发生条件：
死锁发生时，通常满足以下四个条件（这四个条件是并发出现的，不是顺序出现的）：

1. 互斥条件（Mutual Exclusion）：资源不能被多个进程同时占用，即一次只有一个进程可以使用资源。

2. 持有并等待（Hold and Wait）：一个进程持有至少一个资源，但又提出了新的资源请求，而该资源已经被其他进程持有，所以它必须等待。

3. 非抢占条件（No Preemption）：资源不能被强制从一个进程中撤回，只能由占有它的进程自愿释放。

4. 循环等待（Circular Wait）：存在一个进程资源的等待循环，即：P0 等待 P1 持有的资源，P1 等待 P2 持有的资源，...，Pn 等待 P0 持有的资源。

只要其中一个条件不满足，死锁就可以被防止。

如何避免死锁：

1. 打破互斥条件：这个策略并不总是可行，因为有些资源（例如打印机）在其性质上是互斥的。

2. 打破持有并等待条件：要求进程在请求资源前释放其所有资源，这样它就不能持有资源并等待其他资源了。
 
3. 打破非抢占条件：操作系统可以介入并抢占资源，将其分配给其他进程。当原始进程准备运行时，如果需要的资源不可用，它就必须等待。

4. 打破循环等待条件：为系统中的所有资源分配一个线性顺序，并要求每个进程按照这种顺序递增（或递减）的方式请求资源。

除了上述的死锁避免策略，还有其他处理死锁的方法，如死锁检测和恢复（系统周期性地检查死锁，并取消或回滚某些操作以恢复正常状态）


—————————
检测：资源分配图，node是process和资源，边是分配和请求；timeout机制
避免：银行家算法
恢复：回滚process
</code></pre><p>linux上一个程序运行起来是一个进程对吗？什么是僵尸进程？</p>
<pre tabindex="0"><code>1. 进程的定义：
在 Linux 和其他 UNIX-like 系统中，当一个程序运行起来时，它确实是一个进程。进程是一个执行中的程序实例。它有自己的地址空间、内存、数据栈以及与其他进程隔离的资源。一个程序可以有多个运行中的进程实例。

2. 僵尸进程（Zombie Process）：
僵尸进程是已经完成执行但仍在进程表中的进程。简而言之，它是一个已经死去但其父进程尚未回收其状态信息的进程。以下是僵尸进程的特点：

    - 僵尸进程不消耗任何实际资源。尽管如此，它们仍会占用进程表中的位置，这可能会导致系统在达到最大进程数时无法启动新的进程。
    
    - 一个进程在调用 `exit` 系统调用或执行完毕后会变成僵尸进程，直到其父进程调用 `wait` 系统调用来读取子进程的退出状态。
    
    - 如果一个子进程变成僵尸，而其父进程没有正确地调用 `wait` 或 `waitpid` 来回收它，那么这个子进程就会一直保持僵尸状态。
    
    - 如果父进程先于子进程退出，`init` 进程（进程ID为1）将成为子进程的新父进程，并负责清理这些子进程，从而防止它们成为僵尸进程。

如果你在系统上看到大量的僵尸进程，这可能意味着有些程序没有正确地管理它们的子进程。大多数情况下，僵尸进程是无害的，但它们占据的进程表条目可能会成为问题。如果进程表满了，系统可能无法启动新的进程。
</code></pre><p>32位地址空间，高地址到地址放的什么内容？（只回答了内核空间和用户空间，具体也不了解&hellip;.）</p>
<p>用户空间又分为哪些部分？</p>
<p>os中用户态和内核态详细的交互过程</p>
<p>内核线程与用户线程怎么切换以及交互的，两个映射关系是什么</p>
<p>讲讲请求分段，请求分页，请求段页的实现方式及使用场景。请求分页的具体工作流程能不能讲讲呢？页面置换算法有哪些？（其中我说了LRU，结果后面算法题出的就是LRU😂）</p>
<h2 id="select-epoll-poll" class="headerLink">
    <a href="#select-epoll-poll" class="header-mark"></a>select epoll poll</h2><p>多路复用中select和epoll区别，epoll的水平触发和边沿触发</p>
<p><a href="https://mp.weixin.qq.com/s/OmRdUgO1guMX76EdZn11UQ" target="_blank" rel="noopener noreferrer">图解 | 深入揭秘 epoll 是如何实现 IO 多路复用的！</a></p>
<p><a href="https://mp.weixin.qq.com/s/5xj42JPKG8o5T7hjXIKywg" target="_blank" rel="noopener noreferrer">深入学习IO多路复用 select/poll/epoll 实现原理</a></p>
<p>IO多路复用了解过吗？什么是IO多路复用？（讲了概念，select、poll、epoll）</p>
<p>select、epoll分别在什么场景下使用？（讲了两者的具体实现细节（select的轮询，epoll的优化——功能分离、就绪队列，编码层面上的理解），select适用于简单、socket会变的情景，epoll使用于效率要求高的，订阅socket不变的场景）</p>
<h2 id="虚拟内存" class="headerLink">
    <a href="#%e8%99%9a%e6%8b%9f%e5%86%85%e5%ad%98" class="header-mark"></a>虚拟内存</h2><p>为什么用虚拟内存</p>
<p>一定要用虚拟内存么</p>
<p>使用虚拟内存会变慢么</p>
<p>物理地址和逻辑地址之间的转换 -&gt; 从Linux的内存管理到MMU</p>
<p>物理地址和虚拟地址区别？</p>
<ul>
<li>怎么转换？</li>
<li>为什么要多级页表和快表？</li>
<li>缺页中断处理流程？</li>
<li>页表项的结构？（页地址、页偏移，各种标记位标识 CPU 特权级、读写权限、是否在内存中&hellip;&hellip;）</li>
<li>你提到了 CPU 特权级？怎么转换的？（中断）</li>
<li>具体有哪些中断？（外部中断，异常，软中断）</li>
</ul>
<p>共享内存和进程的地址空间的关系</p>
<p>逻辑地址和虚拟地址怎么理解？</p>
<p>逻辑地址的好处是什么？</p>
<p>不加逻辑地址有什么不灵活之处吗？（我就拿虚拟内存来举例逻辑地址的灵活性，面试官帮我总结了这是内存利用效率上的）</p>
<p>还有吗？（我：便于内存回收吗？面试官： 怎么讲？讲了内存分配，扯到逻辑地址可以实现物理地址离散分配）</p>
<h2 id="linux" class="headerLink">
    <a href="#linux" class="header-mark"></a>Linux</h2><p>查看 cpu 命令，常用命令 3、 Linux 程序如何调试</p>
<p>软连接与硬连接</p>
<p><a href="https://github.com/yanfeizhang/coder-kung-fu" target="_blank" rel="noopener noreferrer">深入理解Linux网络</a></p>
<h2 id="零拷贝" class="headerLink">
    <a href="#%e9%9b%b6%e6%8b%b7%e8%b4%9d" class="header-mark"></a>零拷贝</h2><p><a href="https://mp.weixin.qq.com/s/j1KjR5bRQV6oGrU5tsyHgg" target="_blank" rel="noopener noreferrer">零拷贝说一下</a></p>
<h2 id="缓存" class="headerLink">
    <a href="#%e7%bc%93%e5%ad%98" class="header-mark"></a>缓存</h2><p>CPU 4 个核有共享缓存对吧，怎么保证缓存一致性？（总线锁，MESI）</p>
<p>channel的原理（环形队列+锁+两个读写索引号+两个等待队列），哪些channel操作会panic，如何正确判断一个channel是否关闭（多返回值或者另起一个channel告知）</p>
<p>复制粘贴的过程中操作系统做了什么？</p>
<p>read命令的内核态和用户态的流程</p>
<p>操作系统的系统调用是什么</p>
<p>为什么要分用户态和内核态</p>
<p>进程有哪些状态</p>
<p>进程运行过程详细说？在操作系统中长什么样子？   execve syscall</p>
<p>内存分配算法</p>
<p>malloc怎么实现的</p>
<p>操作系统复制拷贝的过程？</p>
<p>简介网络层模型 -&gt; 知道Linux内协议栈的实现吗</p>
<p>数据在内核空间和用户空间之间的拷贝 -&gt; 零拷贝问题（讲到CSAPP中浅显的DMA）</p>
<p>讲一讲操作系统的死锁，死锁形成的条件以及如何避免</p>
<p>在实际情况中文件相互引用也会造成死锁 -&gt; 讲了链接时候的头文件引用情况</p>
<p>操作系统如何实现CPU Cache和内存数据一致性的。</p>
<p>键盘输入字符会发生什么</p>
<p>用户态到内核态的切换有哪些方式？中断、陷阱、故障（缺页异常）、终止</p>
<p>操作系统进程间通信，管道共享内存信号，系统发送kill信号（把信号、中断、信号处理程序能讲的都讲了一遍，sigterm可以用户程序处理，但是sigkill特殊，操作系统会立刻中断进程）</p>
<p>操作系统调度的方式</p>
<p>操作系统IO多路复用</p>
<p>操作系统进程调度</p>
<p>哪一个Linux Shell命令查看端口使用情况？</p>
<p>端口的概念</p>
<p>操作系统里面有两个概念是进程和线程，你能说说他们的区别吗</p>
<h2 id="进程间通信线程" class="headerLink">
    <a href="#%e8%bf%9b%e7%a8%8b%e9%97%b4%e9%80%9a%e4%bf%a1%e7%ba%bf%e7%a8%8b" class="header-mark"></a>进程间通信、线程</h2><p>进程线程是什么？</p>
<p>进程间通信方式？信号量、消息队列、套接字、共享内存、管道、信号</p>
<p>六个通信方式里面哪个效率最高？共享内存</p>
<p>进程间最高效的通信方式</p>
<p>进程之间、线程之间怎么进行交互</p>
<p>线程之间内存是共享的吗</p>
<h1 id="计算机网络" class="headerLink">
    <a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c" class="header-mark"></a>计算机网络</h1><p>ping的底层</p>
<p>ping的数据报格式，字节数</p>
<p>session、cookie：应用场景、为什么不存数据库？会话技术存在的意义？</p>
<p>arp</p>
<p>dos 攻击怎么回事，怎么解决</p>
<p>数据从网卡到内存的过程描述一下？具体有几次中断？</p>
<p>子网是什么</p>
<p>同一局域网内如何通信</p>
<p>路由协议详解，做了什么</p>
<p>OSPF</p>
<p>计算机网络七层架构和五层的区别</p>
<p>长连接是什么？还有什么影响？</p>
<p>在刷抖音的时候，下拉出现新视频，加载下一条视频到它返回的过程中，从网络角度来看发生了什么？先做了什么，后做了什么，数据是怎么返回的，用到的一些协议等等？</p>
<p>如果没有网络连接，应该从哪些方面去排除问题</p>
<p>ARP协议</p>
<p>在ping的过程中，mac地址会变吗</p>
<p>结合七层模型讲一讲网址键入的全过程
浏览器输入地址后发生的全过程</p>
<p>五层对应的各层协议</p>
<p>dns解析域名过程</p>
<p>说说OSI七层模型？</p>
<p>用户输入网址到显示对应页面的全过程？</p>
<p>DNS 的解析过程？</p>
<p>HTTP有多少版本？</p>
<p>HTTP1.0/1.1/2.0/3.0的主要区别是什么？https和websocket和rpc</p>
<p>目前使用最广泛的是哪个HTTP版本？</p>
<p>什么是幂等？幂等方法了解哪些？</p>
<p>除了Get方法之外还了解其他幂等方法吗？</p>
<p>一个TCP连接可以发送多少次HTTP请求?</p>
<p>一个客户端与服务器用tcp连接，服务器宕机之后客户端的一系列事情</p>
<p>http怎么转为rpc</p>
<p>tcp建立连接的过程</p>
<p>http1.0、1.1、2.0，问了1.1中发一个报文丢失之后怎么办？</p>
<p>tcp过程三次握手四次挥手的状态？三次挥手可以吗？出现什么问题？</p>
<ol>
<li>
<p>​    http传输音视频数据可以吗？视频聊天在应用层用的什么协议，传输层用的什么协议？</p>
<p>udp为什么比tcp快？</p>
</li>
</ol>
<p>信息不可达怎么办？</p>
<p>浏览器输入网址到打开网页的流程</p>
<p>IPv6</p>
<p>ISO七层模型和每层常见的协议；</p>
<p>路由器和交换机区别？</p>
<ul>
<li>链路层是干什么的？有哪些协议？</li>
<li>IP 地址和 MAC 地址的区别？</li>
</ul>
<p>cookie 和 session 的区别和联系</p>
<p>知道rpc吗，详细解释一下</p>
<p>socket了解吗</p>
<ul>
<li>http的method？具体？</li>
<li>cookie和session有什么区别？</li>
<li>http和https的区别？单项认证和双向认证流程？对称加密和非对称加密？流程？</li>
<li>DNS解析的过程？域名服务器怎么解析？</li>
</ul>
<h3 id="http--https" class="headerLink">
    <a href="#http--https" class="header-mark"></a>http &amp; https</h3><p>HTTP概念、流程、格式（header里面有什么，都代表了什么 ）</p>
<p>HTTPS概念、流程、连接过程、加密解密流程原理、数字证书签发和验证流程、密钥交换流程、为什么有两种加密方式</p>
<p>常见加密算法</p>
<p>HTTP和HTTPS区别、握手过程（Keep-Alive重点&amp;与TCP的关系&amp;时长上限、长连接是什么）</p>
<p>浏览器输入 URL后发生了什么？（八股）具体到 HTTP 协议？</p>
<p>HTTP常见状态码</p>
<p>如果一个项目全都使用POST会如何</p>
<p>然后问了ssl加密过程（这里问了一个问什么需要用ca确认证书的方式拿到公钥，（我的回答是为了安全））， http1.0 1.1 2.0之间的区别（问了为什么1.0 1.1无法解决头部阻塞，（他告诉我是因为之前是使用文件协议，不像2.0用的二进制分帧））</p>
<p>项目里用到了HTTPS，说一下HTTP和HTTPS的区别</p>
<p>加密算法有几大类（没回答出来，但其实我是知道的，后来面试官提示了对称加密和非对称加密）</p>
<p>怎么理解对称加密和非对称加密？（介绍了两者的细节）</p>
<p>HTTPS秘钥的过程了解吗？（从设计角度讲了这个过程，包括数字证书、公钥、私钥）</p>
<p>服务端怎么解析的请求</p>
<p>Cookie原理</p>
<p>cookie和session</p>
<p>问：你能介绍一下HTTP协议吗？</p>
<p>答：HTTP协议是一个无状态的协议，本次请求和之前的请求无关。它是一种报文交换格式的约定，规定了响应码、请求头、请求方法等内容，比如说常用的GET、POST、DELETE、PUT请求等，为了解决HTTP请求的无状态，我们通常会使用服务端的会话管理机制或者COOKIE来追踪客户端状态，对于响应码，有多种响应码表示不同的响应状态，比如正常响应是200，302重定向、404资源不存在、500服务端错误等。HTTPS是HTTP的安全版本，具体安全机制的实现方案不太了解（非计算机专业），但是了解其安全加密方案是基于公私钥的加密方案。</p>
<ol>
<li>HTTP 怎么拆包的？（CRLF 分隔，同时有一个 Content-Length 字段决定 body 长度）</li>
<li>HTTP 如何传输大文件呢？（分块传输，Transfer-Encoding: chunked）
<ul>
<li>分块传输怎么判断什么时候传输完成呢？（最后一个包是空的）</li>
</ul>
</li>
</ol>
<p>CA证书</p>
<p>SSL加密过程</p>
<p>怎么验证服务器证书就是服务器的证书（我没理解明白，应该问的是中间人攻击）</p>
<p>http的无状态指的是什么？</p>
<p>HTTP请求方法各种方法的应用场景</p>
<p>HTTP状态码从1到5是什么意思？500，502，504分别什么意思 ？</p>
<p>HTTPS加密、解密过程是怎么样的，总共需要加密几次？</p>
<p>什么是RESTful ，增删改查对应的HTTP动词是什么？</p>
<p>HTTP request的格式</p>
<p>如果没有ConTent-Length 怎么使用HTTP （Transfer-Encoding为chunked）</p>
<p>HTTP 与 HTTPS的区别？ 为什么要有两种加密？</p>
<p>HTTP的请求报文的形式</p>
<p>GET和POST的区别</p>
<p>POST还支持什么编码类型</p>
<p>GET保留的完整记录是什么</p>
<p>1.HTTP的请求方法有哪些</p>
<p>2.HTTP的状态码</p>
<p>3.HEAD方法有什么作用</p>
<p>4.HTTP各版本的不同</p>
<p>非对称加密为什么不安全？</p>
<p>（自己问http有拥塞控制吗？讲一下time-wait状态 是http的问题吗）</p>
<p>应用层除去HTTP之外还有什么 -&gt; SMTP, FTP</p>
<h3 id="tcpip--udp" class="headerLink">
    <a href="#tcpip--udp" class="header-mark"></a>TCP/IP &amp; UDP</h3><p>TCP 如何保证可靠性，拥塞控制如何实现？拥塞窗口讲一讲，为什么要用慢启动算法;</p>
<p>结构</p>
<p>TCP和UDP对比，区别，使用场景，分别有哪些协议？面向what？是否可靠？内部数据结构？TCP基于数据流川叔，UDP基于包传输</p>
<p>tcp中拥塞控制算法、流程</p>
<p>TCP如何做到稳定连接？（拥塞控制那些）</p>
<p>TCP重传、滑动窗口、流量控制、拥塞控制</p>
<p>如何不断的装包？</p>
<p>哪些发生在内核态？从java的socket写出到收到，经历了那些？如何进入内核态？</p>
<p>为什么 TCP 会粘包？（TCP 是字节流）</p>
<ul>
<li>怎么解决粘包？（刚才不一直在聊 HTTP 解决粘包吗。。。）</li>
</ul>
<p>如何设计一种机制在UDP上实现可靠传输？Q</p>
<p>TCP粘包现象</p>
<ol>
<li>TCP和HTTP长连接的区别。</li>
<li>TCP保活机制是谁实现的。</li>
</ol>
<h6 id="三次握手--四次挥手" class="headerLink">
    <a href="#%e4%b8%89%e6%ac%a1%e6%8f%a1%e6%89%8b--%e5%9b%9b%e6%ac%a1%e6%8c%a5%e6%89%8b" class="header-mark"></a>三次握手 &amp; 四次挥手</h6><p>tcp fin和ack可以在一个报文中吗</p>
<p>握手、挥手过程，为什么要这样做</p>
<p>最后一次握手丢失后服务端和客户端会处于什么状态？</p>
<p>序列号为什么是随机的。</p>
<p>为什么是三次。</p>
<p>TCP 三次握手交换了什么东西？ 为什么有窗口大小？</p>
<p>第三次握手丢失后服务端和客户端会处于什么状态？（这个因为第一次面试的时候发现一个问题 所以跟面试官讨论了一会） 那这个问题你有没有自己去抓包<a href="" rel="">测试</a>？</p>
<p>TCP可靠性怎么保证，三次握手，两次握手可行否？TCP三次握手，TIME_WAIT，三次握手 四次挥手；</p>
<p>四次挥手没有第四次会怎么样？（超时关闭？）</p>
<p>TIME_WAIT和CLOSE_WAIT区别</p>
<p>大量连接处于CLOSE_WAIT是什么原因</p>
<p>close_wait状态多久出现，出现原因是什么</p>
<p>time-wait存在的意义 ，TIME_WAIT状态的详细分析，何时出现，何处出现，为何出现，是否有弊端，如何避免</p>
<ol>
<li>介绍下四次挥手？ 三次行不行</li>
<li>每次挥手的状态？（7个状态）</li>
<li>contect 和 accept对应 TCP 三次握手的什么阶段？</li>
</ol>
<h3 id="dns" class="headerLink">
    <a href="#dns" class="header-mark"></a>DNS</h3><p>DNS的工作原理</p>
<p>DNS劫持
DNS的作用</p>
<p>dns是一个webserver吗？</p>
<h1 id="linux-1" class="headerLink">
    <a href="#linux-1" class="header-mark"></a>linux</h1><p>Linux指令，查看文件大小，ls和du的区别，查看网络io和磁盘io使用指令（nstat、iotop）</p>
<p>linux怎么在文件里查找特定单词<code>grep 'word' filename</code></p>
<p>给定文件，每行都有时间、用户、id、url组成，统计行数、人数</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wc -l
</span></span><span class="line"><span class="cl">cut -d <span class="s1">&#39;,&#39;</span> -f <span class="m">2</span> filename.txt <span class="p">|</span> sort <span class="p">|</span> uniq <span class="p">|</span> wc -l
</span></span></code></pre></div><p>Linux nio怎么实现的？</p>
<p>Linux的硬链接和软链接</p>
<p>io多路复用，epoll底层原理（红黑树、rdlist、epoll_wait</p>
<p>linux socket函数</p>
<p>有在linux上部署过什么吗？</p>
<p>Linux常用命令</p>
<p>具体描述一下如何用epoll实现I/O多路复用？ 介绍一下触发条件（边缘触发、水平触发）</p>
<p>多路复用解决了什么</p>
<p>select、poll、epoll优缺点、区别、使用场景、如何使用</p>
<p>多路复用原理（为什么1 1.1不行呢）</p>
<p>流 帧的概念</p>
<p>vim编辑模式，常用快捷键</p>
<h1 id="数据库mysql为主" class="headerLink">
    <a href="#%e6%95%b0%e6%8d%ae%e5%ba%93mysql%e4%b8%ba%e4%b8%bb" class="header-mark"></a>数据库（MySQL为主）</h1><p>MySQL集群中主库宕机，从库如何立即感知到并接管?</p>
<p>数据库分库分表</p>
<p>如何实现串行化？</p>
<p>changeBuffer、页分裂合页合并</p>
<p>mvcc</p>
<p>假设我们是单机数据库，不考虑分布式的情况，自增主键的缺点是什么？（想了一会，不了解）</p>
<p>有接触过分布式系统RAFT协议吗？（没有）</p>
<p>timezone</p>
<p>当我们输入一个SQL查询语句时，mysql数据库引擎是如何执行并得到最终结果的？（答：先查询缓存-&gt;解析器-&gt;优化器）</p>
<p>死锁是什么，怎样解决银行家算法，事务回滚</p>
<p>写过SQL优化？</p>
<p>SQL优化？日志查询定位SQL，explain解析</p>
<p>数据库的锁，共享锁互斥锁和共享锁悲观锁的区别和关系是什么</p>
<p>对范式有哪些了解呢，范式的作用是什么，后端的业务系统是否适合范式理论，了解过数据库除范式之外的其他理论吗</p>
<p>串行化如何实现 ，可重复读的特性，如何解决幻读</p>
<p>性别字段要建立索引吗？为什么？什么是区分度？MySQL查看字段区分度的命令？</p>
<p>MySQL主从复制流程和原理？</p>
<h4 id="mysql如何查看查询是否用到了索引如何查看sql执行时间" class="headerLink">
    <a href="#mysql%e5%a6%82%e4%bd%95%e6%9f%a5%e7%9c%8b%e6%9f%a5%e8%af%a2%e6%98%af%e5%90%a6%e7%94%a8%e5%88%b0%e4%ba%86%e7%b4%a2%e5%bc%95%e5%a6%82%e4%bd%95%e6%9f%a5%e7%9c%8bsql%e6%89%a7%e8%a1%8c%e6%97%b6%e9%97%b4" class="header-mark"></a>MySQL如何查看查询是否用到了索引？如何查看SQL执行时间？</h4><p>MySQL 中可以使用以下几种方法来检查查询是否使用了索引：</p>
<p>EXPLAIN命令：EXPLAIN 命令可以分析 SQL 语句的执行计划，并显示该语句是否使用了索引。如果使用了索引，会显示 &ldquo;Using index&rdquo;。explain结果有哪些字段？</p>
<p>记录查询语句：在 MySQL 中，可以通过启用查询语句记录功能，记录下所有执行的查询语句。然后，可以使用 MySQL 日志文件来检查某个查询是否使用了索引。</p>
<p>performance_schema：MySQL 中提供了 performance_schema 功能，它可以记录查询的执行情况，包括是否使用了索引。</p>
<p>通过使用以上方法，可以方便地检查某个查询是否使用了索引，从而帮助优化查询的性能。</p>
<p>type列的最好，最好级别？都代表了什么意思？</p>
<h4 id="mysql中一个update语句什么情况下会很慢" class="headerLink">
    <a href="#mysql%e4%b8%ad%e4%b8%80%e4%b8%aaupdate%e8%af%ad%e5%8f%a5%e4%bb%80%e4%b9%88%e6%83%85%e5%86%b5%e4%b8%8b%e4%bc%9a%e5%be%88%e6%85%a2" class="header-mark"></a>mysql中一个update语句什么情况下会很慢？</h4><p>一个UPDATE语句在以下情况下可能会非常慢：</p>
<p>缺少索引：如果UPDATE语句涉及的列没有索引，MySQL就需要扫描整张表以找到所需的行，这可能会导致很慢的查询性能。</p>
<p>过多的数据：如果需要更新的数据量非常大，这也可能导致UPDATE语句执行很慢。</p>
<p>复杂的表关系：如果UPDATE语句涉及复杂的表关系，例如外键，这也可能导致UPDATE语句执行很慢。</p>
<p>触发器和存储过程：如果UPDATE语句触发了触发器或调用了存储过程，这也可能导致UPDATE语句执行很慢。</p>
<p>服务器负载过高：如果服务器负载过高，UPDATE语句执行可能会非常慢。</p>
<p>通过确定上述因素，可以帮助改进UPDATE语句的性能。</p>
<p>针对上述情况，给出详细的解决办法</p>
<p>说了因为主键问题导致分页合并页</p>
<p>update加载的段太大</p>
<p>changbuffer中没有语句命中的行(没答出来)</p>
<p>mysql中null值怎么存放？有什么好处？行中（标记位），辅助索引中（不存），null！=null</p>
<p>mysql事务执行过程中，未提交的事物会被持久化吗？</p>
<p>隔离级别，以及其实现方式，一致性实现方式</p>
<p>如何解决丢失修改的问题?</p>
<p>了解CAS吗？</p>
<p>缺少主键的话MySQL如何处理</p>
<p>建表语句、一条sql和这条sql的explain之后的结果？问为啥不走索引，怎么做？我回答的是有个字段没有建索引，可以增加一个联合索引，顺序可以改变吗？最左匹配原则</p>
<p>接着又给了一道题，在一个事务中有两条sql，select语句和update语句，问在你说的各个隔离级别下，mysql会出现什么问题？RR：有锁和mvcc控制不会有问题，读未提交：会看到其他事务的脏数据，读已提交：读已提交会造成不可重复读问题和幻读问题，但是这里只有一个select，应该不会有问题，大家觉得呢？这里没有updata和insert所以也不会造成幻读这里好像不可重复读和幻读的概念搞反了，这才反应过来</p>
<p>了解SQL注入吗？如何去防止SQL注入？</p>
<p>MySQL自己有一些支持SQL注入的方式，了解吗？</p>
<p>MySQL内部有哪些锁？（server层，engine层）</p>
<p>数据库B+树</p>
<p>Pagecache</p>
<p>数据库两种引擎，索引结构</p>
<p>关系型数据库和非关系型数据库</p>
<p>数据库的引擎</p>
<p>\4. Sql语句</p>
<p>\5. 数据库的锁</p>
<p>\6. 数据库的隔离状态</p>
<p>\7. 怎么防止幻读</p>
<p>\3. sql两种引擎区别</p>
<p>\4. 聚簇索性和非聚簇索性</p>
<p>\5. Sql语句查询前七天数据</p>
<p>\13. 问问db数据库（g了，中间被锁搞短路了，本来能说出来四个隔离级别解决什么问题，被锁给卡傻了）</p>
<p>\14. 讲讲mysql的锁机制，查询语句命中索引是把锁加到哪</p>
<p>\15. mysql的间隙锁有了解吗</p>
<p>\16. mvcc解决什么问题</p>
<p>\17. 幻读在innodb下怎么解决的？</p>
<p>\18. 隔离级别</p>
<p>mysql 的事物 ACID 以及都是如何实现的？</p>
<p>答:A原子性用 undo log 实现</p>
<p>I隔离性说了 MVCC，以及 readview，表隐式字段，快照读，版本链，如何判断当前事物能不能读某个版本，等等&hellip;(MVCC 推荐看 b 站 IT 老哥讲解的视频)</p>
<p>D 持久性说了 redo log 和 mysql 的 buffer 那一套(这里面问的特别深，顺序 IO 和随机 IO，redo log写入策略..)</p>
<p>C一致性:一致性怎么实现这个问题难我很久了,之前搜博客也没看到很好的解答,我就按照自己理解说其他三个都能保证的话就具备了一致性,面试官否定~</p>
<p>\9. mysql的锁有哪些?</p>
<p>答:行锁,间隙锁,表锁,以及锁升级过程</p>
<p>追问:就这些了吗? next-key lock 没有没有了解过,我:&hellip;&hellip;</p>
<p>后面还问了一些暂时想不起来了</p>
<p>MySQL的聚簇索引以及为什么要这样设计（为什么面试没答上来，可能是局部性原理）</p>
<p>\11.</p>
<p>\14. 隔离级别，可重读是怎么实现的？幻读是怎么回事？间隙锁知道不？</p>
<p>读写锁互斥关系，其他分类的锁</p>
<p>6.读已提交和可重复度底层实现的区别？（没答好）</p>
<p>可重复读</p>
<p>主从复制， 是基于binlog复制的,有3种格式:statement:记录的是修改SQL语句row：记录的是每行实际数据的变更mixed：statement和row模式的混合</p>
<p>那Mysql在5.0这个版本以前，binlog只支持STATEMENT这种格式！而这种格式在读已提交(Read Commited)这个隔离级别下主从复制是有bug的，因此Mysql将可重复读(Repeatable Read)作为默认的隔离级别！</p>
<p>\15. 介绍下事务，如果了解的话，介绍下事务是怎么实现的</p>
<p>\16. 平常使用较多的数据库是？mysql吗？mysql用的比较多的特性或者命令？</p>
<p>\19. 设计一个短信验证码验证的一个用户登录系统，怎么设计mysql的数据表，或者说怎么设计数据结构</p>
<p>traceroute的底层</p>
<p>mysql 如何存储nullhttps://mp.weixin.qq.com/s/sqW51yqeAXcDs9r84UFP7A</p>
<p>行级锁https://mp.weixin.qq.com/s/Ef73pSWb_k6yiTTlNCrEjg</p>
<p>全剧锁https://mp.weixin.qq.com/s/SgteE94sZfAMv5mZJYrTqw</p>
<p>解析器：词法（关键词、符号匹配）、语法（形成语法树）、语义分析（存在性与合法性）</p>
<p>优化器:</p>
<p>​	RBO基于规则优化:简化条件(删除类似的条件)，表链接优化(query tree优化)，scan优化（索引-&gt;全表）</p>
<p>​	CBO基于代价优化:</p>
<p>执行器：火山模型，优点：独立抽象实现，互相之间没有耦合，逻辑结构简单</p>
<p>缺点：没计算一条数据又多次函数调用开销磨，导致CPU效率不高</p>
<p>向量化</p>
<p>每个Operator每次操作计算的不再是一行数据，而是一批数据(Batch N行数据)，计算完成后向上层算子返回一个Batch。
优点
函数调用次数降低为1/N :
CPU cache命中率更高
可以利用CPU提供的SIMD(Single Instruction Multi Data)机制</p>
<p>mysql查询语句
mysql底层数据结构，查询过程
mysql和mongo的区别，为什么选mysql</p>
<p>编译执行：动态编译执行技术LLVM</p>
<p>mysql锁机制</p>
<p>9、MVCC</p>
<p>11、保证幂等性的方案</p>
<p>有聚合函数时select的列需要在聚合或者groupby中</p>
<p>内存缓冲池、到extendible hashtable索引、到火山模型、到事务控制, 哈希索引的并发控制）</p>
<p>MYSQL的端口号</p>
<p>项目数据库的表组成，表的设计，三范式（优劣）</p>
<p>对范式有哪些了解呢</p>
<p>范式的作用是什么</p>
<p>Mysql为什么要使用两阶段提交？</p>
<p>后端的业务系统是否适合范式理论</p>
<p>了解过数据库除范式之外的其他理论吗</p>
<p>自增id用尽</p>
<p>null存储形式</p>
<p>数据库的四大范式讲一讲？</p>
<p>数据一致性？</p>
<p>写并发如何执行</p>
<p>数据库是如何实现分页查询的， 当数据量很大的时候， 如何提高效率。</p>
<p>mysql 数据误删怎么还原（给的方案是找到最近的备份文件，然后通过bin日志和relay日志恢复剩下的数据）其实还可以回滚</p>
<p>Sql注入攻击</p>
<p>设计数据库连接池需要考虑:1. 连接池容量及初始大小设置;2. 获取连接超时时间设置;3. 连接最大生命周期设置; 4. 连接的获取与释放实现;5. 连接的定期检测与维护;6. 是否实现连接池规范如DataSource; 7. 额外功能如连接泄漏检测等;8. 不同数据库的特点,如Oracle限制的连接数。</p>
<h2 id="server-层" class="headerLink">
    <a href="#server-%e5%b1%82" class="header-mark"></a>Server 层</h2><p><a href="https://www.baeldung.com/java-connection-pooling" target="_blank" rel="noopener noreferrer">数据库连接池怎么设计的？</a> jdbc database connection pool</p>
<p><a href="https://www.progress.com/tutorials/jdbc/jdbc-jdbc-connection-pooling" target="_blank" rel="noopener noreferrer">https://www.progress.com/tutorials/jdbc/jdbc-jdbc-connection-pooling</a></p>
<p>数据库的几种连接和区别</p>
<p>MySQL的blob和text的区别？</p>
<p>SQL执行过程</p>
<p>数据库连接池怎么设计的？ 用什么数据结构？ 连接池满了，此时要建立新的连接怎么办？</p>
<p>执行计划了解吗？</p>
<p>优化器的原理知道嘛？</p>
<p>连接操作join了解嘛？（左连接，右连接，内连接）</p>
<p>inner join连接操作怎么实现的？（问底层）</p>
<p>join的时间复杂度？（加索引和不加索引）</p>
<h2 id="引擎层" class="headerLink">
    <a href="#%e5%bc%95%e6%93%8e%e5%b1%82" class="header-mark"></a>引擎层</h2><p>设置自增主键索引时，如果达到上限的话怎么办？这条SQL还能执行成功吗？</p>
<p>分库分表，不借助中间件怎么实现，MyCat了解过吗（不了解），分库和分表怎么选择？结合项目场景讨论划分规则</p>
<h3 id="innodb特性与其他引擎对比" class="headerLink">
    <a href="#innodb%e7%89%b9%e6%80%a7%e4%b8%8e%e5%85%b6%e4%bb%96%e5%bc%95%e6%93%8e%e5%af%b9%e6%af%94" class="header-mark"></a>innodb特性与其他引擎对比</h3><p>哪种情况下该使用innodb，哪种情况下使用myisam呢？</p>
<p>MYSQL常用的存储引擎，介绍一下它们索引的实现方法</p>
<p>为什么MyISAM效率高 顺带索引结构，聚簇索引和非聚簇索引</p>
<p>innodb特点</p>
<p>innodb索引物理结构</p>
<p>主键，回表，覆盖索引</p>
<p>与MyISAM对比</p>
<h3 id="文件" class="headerLink">
    <a href="#%e6%96%87%e4%bb%b6" class="header-mark"></a>文件</h3><p>Undolog redolog binlog，写了一些什么内容？用什么方法写的？什么时候写？</p>
<p>持久化先提交redolog还是binlog</p>
<h3 id="事务" class="headerLink">
    <a href="#%e4%ba%8b%e5%8a%a1" class="header-mark"></a>事务</h3><p>什么是数据库事务？事务的作用是什么？</p>
<p>1.事务的四种性质 ，如何保证，如何实现，实现原理（MVCC原理扩展到了InnoDB可重复读级别的实现</p>
<p>2.如何实现的隔离性、原子性</p>
<p>MVCC是怎么实现的</p>
<p>mysql是怎么实现RR的？</p>
<p>既然串行化能解决幻读，为什么还用间隙锁去解决幻读？</p>
<p>四种隔离等级，分别做了什么，带来什么问题，怎么解决。隔离级别如何实现的（深入到ReadView和next-key lock，需不需要索引？） -&gt;什么情况下next-key会退化</p>
<p>什么时候会用到Serializable？</p>
<p>默认RR</p>
<h3 id="索引" class="headerLink">
    <a href="#%e7%b4%a2%e5%bc%95" class="header-mark"></a>索引</h3><p>MysQL主键索引，唯一索引的区别，两种索引的存储结构是怎样的，在内存方面是怎么存的，查询时是怎么走的？</p>
<p>mysql优化、索引、执行过程、缓存</p>
<p>InnoDB里聚簇索引和普通索引区别是什么？（扯了B+树模型本身以及两个索引的区别）</p>
<p>为什么有最左前缀原则，为什么要设计最左前缀原则？（即B+树中为什么要排序）？（从磁盘存储，磁盘寻道过程上答，推荐宝宝睡前故事这本书）</p>
<p>为什么普通索引里存储的是主键的值，为什么不是像文件偏移量这种数据呢？（因为地址在变）</p>
<p>索引为什么用B+树实现呢？（围绕减少磁盘IO开扯）</p>
<p>除了提升磁盘效率以外还有什么原因呢？（围绕范围查询开扯）</p>
<p>除了这两点以外还有什么原因吗？有一个非常基础的原因（有利于顺序写吗，因为数据是有序的&hellip;）</p>
<p>mysql推荐自增主键的原因，我能不能用字符串和随机数取做一个主键？（扯到B+树结构，追加写，防止页分裂&hellip;）</p>
<p>那使用自增主键也有一些坏处，有哪些？（分布式场景中自增主键的比较难获取&hellip;）</p>
<p>设计联合索引的时候，如何考虑字段的顺序？查询频率、数据独特、字段长度</p>
<p>不同引擎的索引种类，数据结构，优缺点</p>
<p>innodb的索引种类：数据结构划分，btree，hash，倒排索引，r，各种索引实现的数据结构？</p>
<p>主键索引需要将索引全部加载到内存里面吗</p>
<p>mysql的主键索引和非主键索引是什么</p>
<p>索引分类-&gt;非聚簇索引和聚簇索引-&gt;区别？</p>
<p>物理上分为聚簇索引和非聚簇索引</p>
<p>性别字段要建立索引吗？为什么？</p>
<p>什么是区分度？</p>
<p>索引的缺点，优点，三种添加方式</p>
<p>主键索引需要将索引全部加载到内存里面吗</p>
<p>叶子节点满了，叶子节点最大有多少</p>
<p>联合索引？能做范围查询吗</p>
<p>怎么进行索引调优</p>
<p>Mysql的索引底层实现</p>
<p>除了B+树之外还有吗？adaptive hash index，倒排索引，</p>
<p>B+树的操作时间复杂度</p>
<p>有其他数据结构更低的吗</p>
<p>数据库为什么不使用哈希表做底层索引</p>
<p>什么是索引覆盖</p>
<p>ABC建立联合索引，什么走索引？</p>
<p>为什么有这个最左匹配现象？</p>
<p>11.B+树和B树建立索引会表现出什么性能区别？举例子</p>
<p>12.举一个sql例子，能充分利用上叶子节点的双向链表</p>
<p>13.只有叶子节点有数据，这个有什么影响？</p>
<p>14.场景题（update语句group by)</p>
<p>聚集索引和辅助索引的区别？ 索引覆盖是啥啊？</p>
<p>辅助索引的叶子节点存的是啥啊？ 建立索引的列的value 和对应主键</p>
<p>MySQL有哪些索引相关的规则</p>
<p>讲一讲索引下推</p>
<p>MySQL 有哪些索引？（主键，唯一，普通）</p>
<p>聚类、非聚类索引区别？</p>
<p>联合索引 abc，查 a（走索引），查 b （不走），查 b = 1 and a = 1（走），查 a &gt; 0 and b = 1 （走，但 b 列走不了）</p>
<p>最后一个情况，为什么 a 走 b 不走？（最左匹配）</p>
<ul>
<li>你给我详细分析一下 a &gt; 0 and b = 1 查询索引的过程？（我说先匹配 a，再通过叶子节点<a href="" rel="">链表</a>取出<a href="" rel="">数据</a>过滤 b）</li>
<li>如果一定要用索引匹配 b，怎么设计这个<a href="" rel="">算法</a>？（二分？想了一下挺麻烦的）</li>
<li>B+ 树叶子节点是<a href="" rel="">链表</a>怎么二分？（同页上的<a href="" rel="">数据</a>可以二分，页结构中有一个数组）</li>
</ul>
<ol>
<li>怎么知道命中索引了没？（explain）</li>
<li>like 左边有通配符为什么不匹配？（不知道，感觉和最左匹配差不多）</li>
</ol>
<p>索引的种类</p>
<h4 id="数据结构" class="headerLink">
    <a href="#%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84" class="header-mark"></a>数据结构</h4><p>mysql的索引用的什么数据结构</p>
<p>B+树属于二叉树么</p>
<p>为什么不用红黑树</p>
<p>红黑树和B+树的区别</p>
<p>mysql为什么用B+树做索引为什么不用（B树、跳表、红黑树、二叉树、哈希表）做索引？</p>
<p>mysql中B+ Tree索引和Hash索引的实现，各自优缺点（比如hash为什么不能范围查找？二叉树的时间复杂度，页读取减少IO次数，范围查找）</p>
<p>b+树为什么设计成非子叶节点只有索引？</p>
<p>B+树有什么缺点？</p>
<p>B树和B+树的区别？</p>
<ul>
<li>B+树存储的形式</li>
<li>B+树的并发问题，效率问题</li>
</ul>
<p>红黑树跟b+树的区别</p>
<p>索引优化有哪些</p>
<p>B+树在mysql里的实现</p>
<p>B+树插入数据的流程</p>
<p>如何查看sql命令是否用到索引</p>
<p>主键索引和非主键索引的B+树的区别？</p>
<p>为什么非主键索引的叶子节点为什么不存记录的地址</p>
<p>创建索引时需要注意什么</p>
<p>建立索引有什么要求？一个表能建多少个索引？</p>
<p>如果删除索引出现问题了导致锁表怎么办？</p>
<p>索引结构？</p>
<h4 id="回表" class="headerLink">
    <a href="#%e5%9b%9e%e8%a1%a8" class="header-mark"></a>回表</h4><p>什么事回表？</p>
<p>怎么减少回表？</p>
<p>回表出现错误怎么办产生回表的原因？</p>
<p>举一个需要回表的例子？</p>
<p>innodb 辅助索引为什么存主键 id，回表不是要浪费时间？</p>
<h4 id="索引失效" class="headerLink">
    <a href="#%e7%b4%a2%e5%bc%95%e5%a4%b1%e6%95%88" class="header-mark"></a>索引失效</h4><p>mysql索引什么情况下会失效, 正在创建中的索引。为什么会失效。 能够使用&gt;和&gt;=的时候你会使用哪一个？为什么？</p>
<p>组合索引（a,b,c），查询a，c能不能走索引，为什么不能？</p>
<p>mysql的索引设计</p>
<p>前面提到了有时候索引的大小会比原来的<a href="" rel="">数据</a>还大，举例？</p>
<p>如果是一样的数据，有序插入和随机插入，对于索引来说哪一种更好一些（答有序，插入会大体集中在同几个node上，磁盘cache友好，最后的node空间利用率也更高。随机会随机访问node，而且node分裂也不集中）</p>
<p>小奖励：如果在事务提交的过程中宕机了，那么在恢复数据的时候，是如何恢复的？</p>
<p>mysql事务提交的详细过程以及在其中失败了要怎么恢复？</p>
<p>为什么不符合最左前缀匹配原则会不走索引</p>
<p>为什么不适用哈希索引，效率不是更高吗？ 那么自适应哈希索引又是干什么的呢？</p>
<p>当查询条件有xx == null 时索引一定会失效吗</p>
<p>不加索引怎么优化连接操作？（大表在前，小表在后）还有嘛？（加缓存？不太确定）</p>
<h3 id="coding" class="headerLink">
    <a href="#coding" class="header-mark"></a>coding</h3><p>求连续出现3次的数字</p>
<p>mysql如何查看最近慢查询</p>
<p>Mysql的慢查询如何排查？</p>
<p>如何监控redo日志的刷盘频率？</p>
<p>l0层的sstable<a href="https://zhuanlan.zhihu.com/p/51360281?from_voters_page=true" target="_blank" rel="noopener noreferrer">MyRocks</a>介绍一下</p>
<p>如果使用 MySQL，怎么实现原子自增</p>
<p>简单sql：查询班上英语成绩最高的同学（可能有多个）</p>
<p>求所有女性平均年龄大于30的城市</p>
<p>用户关系表，主键id字段，用户id(user_id)，组织id(group_id)，表中有8000万+数据，每个用户对应几百个组织id，组织id不重复，你会怎么建索引，（建联合索引好还是单纯user_id好，实际两个都不好，这是一个场景问题？？）（可能得从数据库范式方面分析这个表结构是否合理）</p>
<p>表 学生id 班级id 分数</p>
<p>第一题:查询每个班的平均分和班级id</p>
<p>第二题:查询每个班分数最高的人的id 和分数</p>
<p>当查询数据库时使用limit 10000，10有什么弊端？有什么好的解决方案吗？</p>
<p>Sql题：表1 “id,score,type”   type中存有1，2，3三种类型</p>
<p>将其转换成表2 “id,score_1,score_2,score_3”</p>
<p>Sql题：找到热搜列表中一天内点赞次数最多的前十条博客，找出最新更新的十篇帖子</p>
<p>找到用户最近的登陆时间</p>
<p>一个城市的所有用户</p>
<p>Sql题：找到热搜列表中一天内点赞次数最多的前十条博客，找出最新更新的十篇帖子</p>
<p>来了一堆乱序的sql请求，有一堆update和insert，没有版本号没有时间戳，如何让它们正确执行？（懵了…面试官提醒后意识到是考察具体sql语句，但没写过insert和update合并语句，不会</p>
<p>两个表，一个personid一个address，不管有没有地址信息，输出所有personde的表中信息</p>
<p>一个表，有姓名、学号和性别，查找出学号最小的10个学生（写出来）（<a href="" rel="">排序</a>） 新增一个学生信息进去（写出来）</p>
<p>sql题,查询age第二大的行</p>
<p>select * from t order by age limit 1,1;</p>
<p>追问:如果有age重复数据,把重复数据都查出来(没想到子查询,没做出来,平时八股文,mysql原理背的多，实际操作好烂)</p>
<p>有一张product表，product(id, title, category, sub_category)，索引index(sub_category, category)，写一条SQL来查询product表中category = 10并且sub_category = 10010的<a href="" rel="">数据</a></p>
<p>答：</p>
<p><a href="#" rel="">复制代码</a></p>
<p><code>select * from </code>product<code>where</code>sub_category<code> = ``10010</code> <code>and </code>cate_gory<code> = ``10``;</code></p>
<p>问：为什么要把sub_category放在这里</p>
<p>答：因为要符合索引的最左匹配原则</p>
<p>问：那把sub_category的查询条件改成大于10010，这条语句还能走索引吗？</p>
<p>答：（实在没想明白）能</p>
<p>问：那把category的查询条件改成大于10呢？</p>
<p>答：（依旧没想明白）不能</p>
<p>查询薪水最大值；每个主管的薪水最大值员工</p>
<p>2.1 写一个MySQL语句 -&gt; 类似 185. 部门工资前三高的所有员工</p>
<h3 id="引擎" class="headerLink">
    <a href="#%e5%bc%95%e6%93%8e" class="header-mark"></a>引擎</h3><p>InnodB怎么实现崩溃后数据恢复的</p>
<p>数据库内核实现</p>
<p>mysql常用的存储引擎</p>
<p>mysql的乐观锁、悲观锁详细介绍一下</p>
<p>InnoDB和MyISAM的区别</p>
<p>姓名 学科 成绩 选出所有科目成绩都在80以上的同学的名字</p>
<ol>
<li></li>
</ol>
<p>添加一个用户<a href="" rel="">数据</a>类型，讲了<a href="" rel="">数据</a>库堆页、TOAST、overflow、vacuum、超大row的插入、行插入最近使用页、脏页落盘。实验里的细节：端序，变长类型的存储。<a href="" rel="">数据</a>库事务、MVCC、隔离等级（隔离等级因为自己项目用不上，不是非常熟悉，说得不咋样）
PG里面的页，插入<a href="" rel="">数据</a>的时候是从后面插入的，能讲一下吗？（不太清楚）</p>
<p>幻读</p>
<p>select d from table where a &gt; 100 and b = 1 order by c desc.如何建立索引？（联合索引，索引实效，底层B+树，回表等）联合索引顺序 (a,b,c)？（是的）</p>
<p>范围查找可以用索引嘛？（可以，但具体执行要看优化器如何优化）</p>
<p>共享单车这个场景需要什么表，我回答需要用户表，单车分配表，车辆维修管理表</p>
<p>然后就问怎么分析出哪个地方的车不够用需要增加自行车，我说可以根据区域内开锁和解锁的数量，或者根据区域用户活跃度。</p>
<p>然后面试官说 华强北每天几万人上下班车辆都不够用，你怎么知道够不够用？？ 我想着这怎么分配都不可能够用呀。。我学校每天上下课高峰车都不够用，而且车已经很多了，高峰期也不会够用呀。。</p>
<p>我后面还是坚持这个说法，他又开始举例，比如说这个区域只有十辆车，每天开锁解锁也就这10辆，怎么知道车够不够用。（我实在是不会，脑瓜子热 分析不出来啊。。）</p>
<ol>
<li>
<p>隔离级别。</p>
</li>
<li>
<p>为什么选RR隔离级别。</p>
</li>
<li></li>
<li>
<p>统计连续三天访问同一个网站的活跃用户</p>
</li>
<li>
<p>MySQL的隔离级别。</p>
</li>
<li>
<p>各级别有什么问题（脏读，不可重复读）。</p>
</li>
<li>
<p>RR级别是如何解决幻读的。</p>
</li>
<li>
<p>MVCC是如何实现的。</p>
</li>
<li>
<p>MySQL有哪些锁，有什么作用。</p>
</li>
</ol>
<p>MySQL事务特性，ACID，隔离级别，MVCC怎么实现？可重复读？</p>
<p>mysql同步原理  如何做主从和<a href="" rel="">数据</a>同步</p>
<p>什么是事务</p>
<h3 id="分页分段管理" class="headerLink">
    <a href="#%e5%88%86%e9%a1%b5%e5%88%86%e6%ae%b5%e7%ae%a1%e7%90%86" class="header-mark"></a>分页、分段管理</h3><p>7.分段和分页的区别？</p>
<h3 id="锁" class="headerLink">
    <a href="#%e9%94%81" class="header-mark"></a>锁</h3><p>数据库的锁介绍一下</p>
<p>你提到的共享锁互斥锁和共享锁悲观锁的区别和关系是什么</p>
<p>select for update 是加表锁还是行锁</p>
<p>行锁最大并发数</p>
<h2 id="分布式事务" class="headerLink">
    <a href="#%e5%88%86%e5%b8%83%e5%bc%8f%e4%ba%8b%e5%8a%a1" class="header-mark"></a>分布式事务</h2><p>seata</p>
<p>分布式事务</p>
<p>数据库之间的主从同步</p>
<p>MySQL实现分布式锁</p>
<p>分布式事务的中间件和解决方案</p>
<p>MySQL 的乐观锁和悲观锁</p>
<p>具体的乐观锁悲观锁的实现场景</p>
<p>讲一下脏读和幻读的区别</p>
<p>怎么解决脏读和幻读的问题</p>
<p>MVCC 怎么解决脏读</p>
<p>MySQL 有哪些锁</p>
<p>间隙锁的作用是什么</p>
<p>读写锁了解吗</p>
<p>自旋锁的概念</p>
<p>如果递归地进行自旋锁会怎样</p>
<p>怎么设计可重入锁</p>
<h1 id="java基础和多线程" class="headerLink">
    <a href="#java%e5%9f%ba%e7%a1%80%e5%92%8c%e5%a4%9a%e7%ba%bf%e7%a8%8b" class="header-mark"></a>Java基础和多线程</h1><p>jit</p>
<p>封装、继承、多态</p>
<p>反射</p>
<p>多态的实现机制</p>
<p>面向对象，多态的底层原理，接口和抽象类有什么区别与联系，说说使用场景</p>
<p>泛型，</p>
<p>多线程，线程，创建线程的方式，线程池底层原理和参数设置</p>
<p>集合框架：原理，源码，使用场景，时间复杂度，Collections.sort（）底层原理，Set 了解过吗?知道 add() 会出什么问题吗?</p>
<p>异常处理：Exception，Error</p>
<p>关键字（底层与语义与实际保障）：final、finally、finalize、synchronized、volatile</p>
<p>关键类（类中的方法与作用）：Object，ThreadLocal，String，System</p>
<p>concurrenthashmap与hashmap底层数据结构，jdk1.8的锁如何实现</p>
<p>hashCode 和 equals 方法有什么关系，尤其是当使用哈希表的时候，这两个方法要同时重写吗，如果两个对象的 equals 为 true 那他们的 hashCode 的值是不是必须要一样，反过来呢，那什么叫哈希冲突呢，哈希冲突怎么处理呢，wait 和 notify 有什么用，wait 和 sleep 方法有什么区别，wait 方法的参数指定时间有什么用吗，finalize 方法有什么用、什么时候调用呢</p>
<p>异常有哪些分类？Error 和 Exception都是谁的子类？</p>
<p>锁的类型</p>
<p>讲讲Java底层结构集合 hashmap，底层是什么，版本区别，怎么线程不安全，为什么有segment分段索</p>
<p><a href="https://tech.meituan.com/2014/03/06/in-depth-understanding-string-intern.html" target="_blank" rel="noopener noreferrer">String.intern()</a>，使用场景</p>
<p>spinlock单核实现（不知道，底层是CAS吗？讲了下CAS原理，老哥说没这么复杂就是死循环）</p>
<p>StringBuilder及StringBuffer的区别</p>
<p>concurrentHashmap提升效率的原因</p>
<p>Java 的 Object 有哪些方法？</p>
<ul>
<li>equals() 和 hashcode() 八股</li>
<li>哈希冲突如何解决？（开放定址，链接法，再哈希）
<ul>
<li>这些办法的优缺点？</li>
<li>负载因子是什么？怎么算？</li>
</ul>
</li>
<li>clone() 怎么用？引用拷贝深拷贝浅拷贝？</li>
<li>wait() 和 sleep() 八股，包括区别</li>
</ul>
<p>HashMap，结构，插入，扩容等，相同hashcode一定插入一个key value吗</p>
<p>TreeMap对key有什么要求，它是根据什么来排序的</p>
<p>父子进程用过没？ 父子进程的内存是拷贝还是共享？ 公共库之类的资源，操作系统是怎么实现父子进程共享的？</p>
<p>乐观所与悲观所</p>
<p>进程线程的区别，多进程比多线程稳定吗，进程如何通信，线程如何通信</p>
<p>管道自己用过没</p>
<p>IO多路复用</p>
<p>介绍ThreadLocal，ThreadLocal为什么会出现内存泄露问题，ThreadLocal的key为什么设计成弱引用</p>
<p>我设计如何多线程安全地修改共享变量， 同时性能高。</p>
<p>线程同步中，锁的实现原理</p>
<p>举一个多线程和多进程软件的例子，浏览器页面为什么要用多进程</p>
<p>synchronized</p>
<p>多线程如何不加锁实现同步？多线程不加锁 实现同步怎么做</p>
<ol>
<li>缓存一致性。</li>
<li>进程间通信方式。</li>
</ol>
<p>java的io了解吗？ 多路复用说一下</p>
<p>僵尸进程</p>
<p>五种io模型</p>
<p>synchronized和lock区别</p>
<p>深拷贝浅拷贝说一下</p>
<p>乐观锁和悲观锁你的理解。使用场景</p>
<p>进程间同步的几种方式</p>
<p>多线程</p>
<p>进程、线程、虚拟线程</p>
<p>乐观锁和悲观锁、乐观锁实现方式（没答上来）</p>
<p>死锁概念及产生条件</p>
<p>死锁怎么办？</p>
<p>守护进程
double占多少个字节，double为什么会精度丢失</p>
<p>hash冲突的解决</p>
<p>java的hashCode和equals
hashCode的设计原则（怎么保证离散性）
线程安全的Map
怎么自己设计一个Synchronized
ReentrantLock
CAS
volatile</p>
<p>ReentrantLook和Synchronized的区别</p>
<p>减少Hash冲突的办法？</p>
<p>一致性hash</p>
<h1 id="jvm" class="headerLink">
    <a href="#jvm" class="header-mark"></a>JVM</h1><p>变量从产生到结束，字符串常量呢？</p>
<h2 id="实战" class="headerLink">
    <a href="#%e5%ae%9e%e6%88%98" class="header-mark"></a>实战</h2><p>如何查看堆内存信息</p>
<p>出现OOM如何排查</p>
<p>jps</p>
<p>jstack</p>
<p>jmap</p>
<p>jvm 虚拟机老年代什么情况下会发生 gc，给你一个场景，一台 4 核 8G 的服务器，每隔两 个小时就要出现一次老年代 gc，现在有日志，怎么分析是哪里出了问题</p>
<h2 id="内存模型" class="headerLink">
    <a href="#%e5%86%85%e5%ad%98%e6%a8%a1%e5%9e%8b" class="header-mark"></a>内存模型</h2><p>jvm内存模型</p>
<p>每个地方是做什么的，作用、相关错误、如何检测、如何解决</p>
<p>什么时候内存泄漏？如何解决？</p>
<p>怎样排查 CPU 彪高、内存彪高</p>
<h2 id="gc" class="headerLink">
    <a href="#gc" class="header-mark"></a>GC</h2><p>gc时机</p>
<p>如何查看垃圾收集器状态</p>
<p>如何分析gc日志，分析堆转储快照</p>
<p>为什么jdk8移除永久代，并把方法区移至元空间？元空间需要GC吗？是young gc还是full gc</p>
<p>G1的使用场景和实现原理，rememberd set的作用，什么时候会往里面写更新？Collection set的作用？</p>
<p>g1和cms区别</p>
<p>老年代频繁回收如何分析解决</p>
<p>如何gc调优</p>
<p>垃圾收集器和垃圾回收算法</p>
<p>可达性分析算法中根节点有哪些</p>
<p>gc算法：老年代和新生代使用了什么算法？对象如何进入老年代？</p>
<p>乐观锁和悲观锁</p>
<p>乐观锁的使用场景、使用乐观锁的产品或者中间件</p>
<p>锁升级介绍一下</p>
<p>Java进程和线程、以及jvm以及操作系统中间的关系</p>
<p>Java类加载过程</p>
<p>JVM强引用/弱引用在内存中的分布</p>
<p>线程池空闲线程到底是杀掉还是保留</p>
<p>JVM怎么查有什么线程，JVM常用的命令（啊？真没用过，我只背了八股，看来是不够）</p>
<p>JVM怎么判断一个对象要回收，可达性算法的根节点是什</p>
<p>空类占几个字节；字节对齐的好处</p>
<p>加载器双亲委派模型及破坏</p>
<p>死锁的原因及预防</p>
<h2 id="类加载" class="headerLink">
    <a href="#%e7%b1%bb%e5%8a%a0%e8%bd%bd" class="header-mark"></a>类加载</h2><p>类加载器</p>
<p>双亲委派模型</p>
<p>类加载机制</p>
<h1 id="juc" class="headerLink">
    <a href="#juc" class="header-mark"></a>JUC</h1><p>Semaphore</p>
<p>多线程怎么同步</p>
<p>线程中断有什么用，若某个线程的 run()方法正常运行，执行累加运算，调用 Thread. interrupt()，会发生什么?</p>
<p>多线程是不是肯定比单线程好?
什么样的任务适合用多线程什么适合单线程?</p>
<p>单 CPU 的情况下适合用多线程吗?</p>
<p>wait 和 sleep 区别</p>
<p>rentrantlock使用场景</p>
<p>ThreadLocal的应用会导致什么问题？如何用Mybatis的原理解决？</p>
<p>AQS原理</p>
<p>线程实现方式</p>
<p>COuntyDownLatch和CyclocBarrier区别</p>
<p>volatile 从指令重排序，内存屏障，聊到总线风暴</p>
<p>父子线程如何共享数据？interitableThreadLocals</p>
<p>NIO、多路复用、NIO、BIO 区别，NIO 解决了什么问题，Netty 线程模型</p>
<p>多线程是什么?为什么需要多线程?什么情况下需要多线程?</p>
<p>什么是线程安全？</p>
<p>加锁会带来哪些性能问题。如何解决?</p>
<p>线程优先级：</p>
<p>setPriority 这个方法，他是 jvm 提供的一个方法，并且能够调用 本地方法 setPriority0. 我们发现优先级貌似没有起作用，为什么？ 1. 我们现在的计算机都是多核的，t1，t2 会让哪个cpu处理不好说。由不同的cpu同时提供资源执行。 2. 优先级不代表先后顺序。哪怕你的优先级低，也是有可能先拿到我们的cpu时间片的，只不过这个时间片比高优先级的线程的时间片短。 优先级针对的是 cpu时间片的长短问题。 3. 目前工作中，实际项目里，不必要使用setPriority方法。我们现在都是用 hystrix， sential也好，一些开源的信号量控制工具，都能够实现线程资源的合理调度。这个 setPriority方法，很难控制。实际的运行环境太复杂。</p>
<p>有多少种实现线程的方法？</p>
<p>synchronized，如何通知阻塞的线程锁释放？cas、waitinglist</p>
<h2 id="线程池" class="headerLink">
    <a href="#%e7%ba%bf%e7%a8%8b%e6%b1%a0" class="header-mark"></a>线程池</h2><p>线程池，线程池的参数，线程池提交一个任务后的的运行过程，什么时候会触发饱和策略?</p>
<p>如何实现</p>
<p>线程池参数</p>
<p>核心2，等待3，max10，已有两个任务，新来一个任务如何处理？</p>
<p>缓存线程池的参数如何处理？</p>
<p>ThreadLocal是什么?</p>
<p>ThreadLocal的实现原理？</p>
<p>使用ThreadLocal有什么问题吗？如何解决？</p>
<p>拒绝策略</p>
<p>阻塞队列应用场景 阻塞队列是一个支持附加操作的队列。这两个附加操作是:在队列为空时。获取元素的线程 会等待队列为非空;当队列满时，存储元素的线程会等队列可用。阻塞队列常用于生产者和 消费者的场景，生成者是往队列里添加元素的线程，消费者是从队列里拿走元素的线程。</p>
<h1 id="redis和分布缓存分布式锁" class="headerLink">
    <a href="#redis%e5%92%8c%e5%88%86%e5%b8%83%e7%bc%93%e5%ad%98%e5%88%86%e5%b8%83%e5%bc%8f%e9%94%81" class="header-mark"></a>redis和分布缓存、分布式锁</h1><h2 id="redis" class="headerLink">
    <a href="#redis" class="header-mark"></a>redis</h2><p>还有哪些缓存技术？</p>
<p>哪些高并发场景不能使用缓存？</p>
<p>sentinel和cluster区别和使用场景</p>
<p>redis单线程为什么快？</p>
<p>qps能上多少？如何知道的？</p>
<p>如何实现分布式锁</p>
<p>Redis 的哈希环最多有 16384 个槽，为什么是 16384?哈希环出现数据倾斜如何解决？</p>
<p>大key什么是大？热key产生原因、后果、如何解决</p>
<p>Redis 哨兵模式用的什么原理？主从切换如何实现？</p>
<p>Redis里面使用了Raft协议？Raft和Paxos的区别？</p>
<p>和LevelDB的区别</p>
<p>如何确保数据库一致性？（删缓存、延时双删）</p>
<p>数据结构种类、底层数据结构实现？</p>
<p>什么是缓存穿透、击穿、雪崩、预热？如何解决？</p>
<p>Redis如何实现分布式锁？</p>
<p>如何搭集群</p>
<p>单线程的Redis的QPS是多少？</p>
<p>单线程的Redis为什么这么快？</p>
<p>项目中说用 Redis 维持了用户登录状态，怎么实现的，还有其他实现方式吗</p>
<p>Redis 的主从原理</p>
<p>什么是增量复制</p>
<p>什么时候进行全量复制</p>
<p>Redis 有哪些持久化方式</p>
<p>说说 AOF</p>
<p>RDB 的原理呢</p>
<p>Redis 有哪些具体的数据结构，你都用过吗</p>
<p>Set 和 Zset 你会在什么时候用呢</p>
<p>Redis的持久化机制？</p>
<p>Redis切片集群？数据和实例之间的如何进行映射？</p>
<p>Redis扩容之后，哈希槽的位置是否发生变化？</p>
<p>Redis缓存和数据库不一致解决方法？</p>
<p>Redis的数据类型及应用、缓存击穿、穿透、雪崩</p>
<p>redis是否支持事务</p>
<p>redis如何做持久化</p>
<p>redis为啥支持高并发，为啥性能优越</p>
<p>redis6.0新特性</p>
<p>redis内存淘汰策略</p>
<p>问问redis（底层压缩列表和对应结构忘了）</p>
<p>redis底层5大类型</p>
<p>redis类型对应的底层实现</p>
<p>为什么用跳表，跳表和链表区别</p>
<p>为什么数据小用链表、大的用跳表（节省空间，优化性能，性能和空间折中）</p>
<p>redis为什么是单线程</p>
<p>redis数据结构</p>
<p>MySQL 和 Redis 数据一致性问题</p>
<p>Redis 中 ZSet 的底层（压缩链表，哈希表，跳跃表）</p>
<p>Redis 内存淘汰策略</p>
<p>Redis在项目中的使用？做了什么功能？用了什么数据结构？（答map。面试官说没有这个）</p>
<p>Redis有哪些数据结构，底层实现了解过吗？（有看过博客，没有系统学习，时间久远已忘却。）</p>
<p>redis解决写热key的问题（热key读，热key写）</p>
<p>我看你项目用到了 redis 具体用到了哪些数据结构？（string，hash，zset）</p>
<p>zset 实现，跳表是怎么回事？高度？时间复杂度？为什么不用 b+ 树？</p>
<p>redis 是单进程还是多进程？</p>
<p>项目用到了 redis 哪些结构（zset，hash），说一说底层实现</p>
<p>zset 除了跳表+hash表外还有其他实现吗？</p>
<p>才想起来数据量较小时会用压缩列表实现</p>
<p>压缩列表实现的主要目的，答节省内存</p>
<p>key的过期机制</p>
<p>redis的io多路复用模型</p>
<p>redis和mysql的一致性怎么保证（先删后更新、双删，面试官后来指出用个mq异步删除更好，这块确实接触不多</p>
<p>Redis缓存和数据库的一致性，延迟双删</p>
<p>redis里内存淘汰是LRU对吧？（还可以是其他机制，一般是LRU）</p>
<p>假如让你去实现LRU cache的话，你会怎么实现？（链表基本实现，扯了下MySQL的LRU策略优化——冷热数据分离）</p>
<p>LRU cache不适用于什么场景？（想了一会儿，因为没碰到具体啥业务场景，所以开始一堆假设，反推，自言自语。然后说——数据量很大，一个周期取数据，取完数据就马上被淘汰了）</p>
<p>如何实现LFU？（我其实也不太记得了，只记得要存储频率这种关系，所以说的比较模糊，因为大致也提到了频率、map啥的，而且LFU有好几种实现方案，所以也就混过去了）</p>
<p>那这样的话如何找到频率最小的删除掉呢？（开始胡言乱语，又扯到用红黑树这种结构去实现，当然这是可以的）</p>
<p>这样做的查找插入时间复杂度是多少？（继续开始胡言乱语，又开始假设用hashmap去实现，O(1),后来提醒是TreeMap，所以又改成O(logn)）</p>
<p>那插入时间复杂度是多少？(logn)</p>
<p>有没有时间复杂度更低方式？</p>
<h2 id="分布式" class="headerLink">
    <a href="#%e5%88%86%e5%b8%83%e5%bc%8f" class="header-mark"></a>分布式</h2><p>CAP原则</p>
<p>分布式锁如何添加？放在什么位置？</p>
<h2 id="分布式id" class="headerLink">
    <a href="#%e5%88%86%e5%b8%83%e5%bc%8fid" class="header-mark"></a>分布式id</h2><p>uuid算法：随机数、时间戳+结点编号、基于哈希（根据唯一input来确保唯一output</p>
<p>雪花算法不同于以往的随机数算法，雪花算法是基于时间戳的64bits长度的算法，41bit（69年）、时间戳++5bit数据中心+5bit机器编号+12bit顺序码</p>
<p>聊一聊雪花算法。还有其他的唯一id算法，背后的原理</p>
<p>随机数：UUID.ramdomUUID()\v4</p>
<p>时间戳：雪花算法 \ v1 (基于时间戳、随机数和MAC地址) \v2（时间戳的前4位置换为POSIX的UID或GID) \</p>
<p>hash-based：UUID(byte[]) 和UUID(long,long)\v3</p>
<p>redis通过源自自增（初始值和步长可以设置），也可以添加日期，进行日期+自增号</p>
<p>雪花算法就可以谈各种，比如id 他是怎么分布的，哪一些位放什么信息，以及单台机器上生成id是否有序，雪花算法的缺点啊，推特最后为什么没有继续用呢？</p>
<p>还有比如java的uuid，或者美团的overleaf 方案等等，都可以谈。最起码我可以引入redis/mysql，做一个自增的id，然后引入了他就可能有各种的问题，比如单点故障啊等等，可以一直说。z</p>
<p>redis数据结构有哪几种？（讲了四种，忘了一种，开始扯高级结构补了，不过后面想起来了补上了list）</p>
<p>redis里的hash扩容了解吗？（不了解）</p>
<p>redis过期策略（一开始答偏了，答到了内存淘汰算法，后来面试官换了种问法，也答了惰性删除和定期删除）</p>
<p>redis持久化机制，说一下你的理解（RDB、AOF、混合方式）</p>
<p>aof刷盘机制有哪几种？（说了三种和优缺点）</p>
<p>4、redis的数据结构</p>
<p>5、zosrt的时间复杂度以及为什么是logn</p>
<p><a href="" rel="">redis</a>的跳表，如何查找，插入，删除，维护索引，隔2个建索引和隔3个建索引的时间复杂度和空间复杂度分析。</p>
<ul>
<li>真实的分布式文件系统介绍一下</li>
<li>GFS一致性说一下</li>
<li>GFS负载均衡说一下</li>
<li>GFS如何保证client最快获取文件</li>
</ul>
<p>raft会不会出现双主？双主对外能提供服务吗</p>
<p>什么时候leader提交日志</p>
<p>raft出现follower日志不一致的情况怎么办</p>
<p>9.Redis主从复制</p>
<ol>
<li>对象存储架构</li>
<li>看过分布式论文没？为什么写这个项目</li>
<li>接口实现，研究过公有云其他的对象存储接口没</li>
</ol>
<p>9.<a href="" rel="">redis</a>中hash<a href="" rel="">数据</a>结构的rehash为什么快</p>
<p>项目里<a href="" rel="">redis</a>的作用，存了什么<a href="" rel="">数据</a>
为什么不用memcached</p>
<p>跳表了解吗？</p>
<p>有向图的循环依赖检测并打印出循环的环，可能存在多个环。</p>
<p>Redis的基本<a href="" rel="">数据</a>结构有哪些？布隆过滤器具体原理？</p>
<p>5.<a href="" rel="">redis</a><a href="" rel="">数据</a>模型，重点问跳表，跳表跟<a href="" rel="">平衡二叉树</a>的优劣</p>
<p>5.<a href="" rel="">redis</a>的zset底层实现，跳表，与其相同的接***衡<a href="" rel="">二叉树</a>的实现，<a href="" rel="">红黑树</a>，还有吗（我提了b树 b+树但是必须是二叉）</p>
<p>（不确定是不是redis）动态链接库，静态链接库</p>
<ol>
<li>Redis清理过期Key的时机。</li>
<li>Redis持久化机制。</li>
<li>Redis用来干什么的（项目相关）。</li>
<li>Redis持久化方式。</li>
<li>Redis为什么快。</li>
</ol>
<p><a href="" rel="">redis</a>你了解它整体有哪些<a href="" rel="">数据</a>结构？zset的<a href="" rel="">数据</a>结构？
14.<a href="" rel="">redis</a>持久化？<a href="" rel="">redis</a>运行很久，AOF执行语句会一直膨胀很大吗？
15.了解<a href="" rel="">redis</a>热key和大key？解决手段？
16.<a href="" rel="">redis</a>分布式集群搭建？</p>
<p>介绍一下锁</p>
<p>布隆过滤器。</p>
<p>知道分布式锁吗</p>
<p>常用<a href="" rel="">redis</a>使用分布式锁，你知道吗</p>
<p>在使用<a href="" rel="">redis</a>的时候采用的是什么模式</p>
<p>Gossip协议，为什么没用Paxos。</p>
<p>分布式CAP。</p>
<p>\5. CAP里面只能满足两个么。</p>
<p>\6. 了解BASE么</p>
<p>分布式锁（这个讲的挺久的）</p>
<ol>
<li>布隆过滤器为什么有差错</li>
<li>建立多大的hash表，时间复杂度</li>
</ol>
<h1 id="设计模式" class="headerLink">
    <a href="#%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f" class="header-mark"></a>设计模式</h1><p>介绍常用的设计模式</p>
<p>尽可能得写出多种单例模式、优缺点</p>
<p>装饰和模板？</p>
<p>实现设计模式中简单工厂模式</p>
<p>\1. 了解哪些设计模式？</p>
<p>\2. 单例模式有几种实现方式？</p>
<p>\3. 单例模式最常用的实现方式是哪种？为什么？</p>
<h1 id="项目" class="headerLink">
    <a href="#%e9%a1%b9%e7%9b%ae" class="header-mark"></a>项目</h1><p>分布式session如何实现？为了解决什么问题？ban了cookie怎么办？</p>
<p>. 介绍一下自己最熟悉的项目，项目使用的技术栈？项目的微服务是怎么划分的？</p>
<p>\2. 项目的签到功能是怎么实现的？</p>
<p>项目的搜索附近的人功能是怎么实现的？</p>
<p>为什么选择使用这项技术？有没有和其他技术进行过对比？可扩展性如何？</p>
<h1 id="go" class="headerLink">
    <a href="#go" class="header-mark"></a>go</h1><p>go语言 new 和 make 的区别</p>
<p>进程、线程、协程</p>
<p>gc</p>
<ul>
<li>golang的协程 是怎么实现的？和线程比有什么不一样，又给他带来哪些的好处？</li>
</ul>
<p>这个问题1面有涉及到，所以后面也好好准备了一下。可以谈的点很多，除了上一篇提到了，还可以说栈，保护现场恢复现场，用户态内核态，对比等等。最后可以加上一句，避免了内核频繁状态切换的成本。</p>
<ul>
<li>go channel的调度机制有了解吗？泛型？</li>
</ul>
<p>这两个确实不了解，直接说不太清楚。</p>
<p>go语言的内存逃逸（我不会go，问go八股了😭）</p>
<p>进程线程和协程</p>
<p>go slice的日常使用坑（我讲了浅拷贝和底层数组扩容的问题）</p>
<ul>
<li>协程介绍一下</li>
<li>为什么协程快</li>
</ul>
<p>go slice 扩容</p>
<p>recover为什么能处理panic，换句话说为什么recover要写在defer里（让讲底层原理，我讲了讲defer的，但是panic的底层结构我还真不了解……</p>
<ol>
<li>
<p>Go协程同步方式。</p>
</li>
<li>
<p>Go里面各类锁。</p>
</li>
<li>
<p>GMP模型。</p>
</li>
<li>
<p>Go的字符串转byte数组，底层会复制还是沿用原<a href="" rel="">数据</a>。</p>
</li>
<li>
<p>如何沿用原<a href="" rel="">数据</a>。</p>
</li>
<li>
<p>内存逃逸。</p>
</li>
<li>
<p>GMP（阐述、P和M代表啥、为什么引入P）</p>
</li>
<li>
<p>怎么限制goroutine的拉起数？ goroutine之间是怎么实现同步的？</p>
</li>
<li>
<p>内存管理（阐述、为什么对象分三种、怎么避免内存资源浪费（比如16B的大小的对象，一个页中使用了10%有效，90%无效））</p>
</li>
</ol>
<p>进程、线程和协程（问得很细，cfs，pid，tgid</p>
<p>3、gmp模型、goroutine是并行还是串行（并发）、并发安全</p>
<p>4、mvcc原理、mysql中各种锁、解决幻读的方式</p>
<p>项目中，如果高并发请求怎么限制goroutine？</p>
<p>5、</p>
<p>6、grpc的调用流程，为什么可以跨语言（项目里用到了grpc</p>
<p>7、go语言异常处理，和python的比较</p>
<p>go语言slice的深浅拷贝，成功被绕晕 😂</p>
<p>grpc原理、protobuf和json的比较（编码方式、应用场景</p>
<h1 id="coding-1" class="headerLink">
    <a href="#coding-1" class="header-mark"></a>coding</h1><p>跳表实现</p>
<h3 id="基本算法" class="headerLink">
    <a href="#%e5%9f%ba%e6%9c%ac%e7%ae%97%e6%b3%95" class="header-mark"></a>基本算法</h3><p>非递归不用栈如何遍历二叉树</p>
<p>二叉树中序遍历（非递归）</p>
<p>矩阵左上角走到最下角最小路径和，为了写得快写了dfs，分析时空复杂度，其他方法说了bfs，因为都是非负的，可以把值看成边，然后dijkstra</p>
<p>判断树B是否是树A的子结构？</p>
<p>中序遍历递归和非递归
一个栈的最大元素</p>
<p>lru缓存结构的实现</p>
<p>约瑟夫环</p>
<p>数组找出乘积为n的两个数</p>
<p>非递归遍历二叉树</p>
<p>二叉树的最大宽度</p>
<p>两个有序链表的Topk</p>
<p>二叉树转双向链表</p>
<p>给定数字二进制位反转之后输出</p>
<ol>
<li><a href="" rel="">二叉树</a>和<a href="" rel="">红黑树</a>的区别</li>
<li>trie树</li>
<li>红黑树的性质，为什么增删改查都是O(logn)</li>
<li>最大子序和</li>
</ol>
<h3 id="lc" class="headerLink">
    <a href="#lc" class="header-mark"></a>lc</h3><p>岛屿系列</p>
<p>第K系列</p>
<p>括号系列</p>
<p>股票系列</p>
<p>拓扑排序系列/课程表系列/一个有向无环图，找出每个节点的层数</p>
<p>无重复字串系列</p>
<p>N数之和系列</p>
<p>最长子串系列</p>
<p>跳跃系列</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p>15</p>
<p>20</p>
<p>21</p>
<p>22</p>
<p>23</p>
<p>25</p>
<p>32</p>
<p>36</p>
<p>40-&gt;变形：考虑有负数的情况呢</p>
<p>42</p>
<p>41.缺失的第一个整数( <a href="https://leetcode.cn/problems/first-missing-positive/" target="_blank" rel="noopener noreferrer">Leetcode 41</a>)</p>
<p>46</p>
<p>47.全排序II( <a href="https://leetcode.cn/problems/permutations-ii/" target="_blank" rel="noopener noreferrer">Leetcode 47</a>)</p>
<p>48</p>
<p>49</p>
<p>53</p>
<p>54</p>
<p>56</p>
<p>70</p>
<p>76</p>
<p>78</p>
<p>92</p>
<p>93</p>
<p>102</p>
<p>114</p>
<p>122</p>
<p>123</p>
<p>124</p>
<p>139</p>
<p>140</p>
<p>142</p>
<p>143</p>
<p>152</p>
<p>156</p>
<p>149</p>
<p>162</p>
<p>188</p>
<p>207</p>
<p>210</p>
<p>221</p>
<p>316</p>
<p>340</p>
<p>394</p>
<p>402</p>
<p>407</p>
<p>438</p>
<p>448.找到所有数组中消失的数字</p>
<p>498</p>
<p>543</p>
<p>740</p>
<p>887</p>
<p>1106</p>
<p>1115</p>
<p>1195</p>
<p>1372</p>
<p>1498</p>
<p>1502</p>
<p>树的子结构</p>
<p>状态机的题目</p>
<p>给定一个单<a href="" rel="">链表</a>，<a href="" rel="">链表</a>的奇数位置节点递增，偶数位置节点递减，把它变成一个递增单<a href="" rel="">链表</a>。</p>
<p>给一个数字的字符串，排列出全部的合法ip组合</p>
<p>队列求相同元素</p>
<p>给你一个整数数组 nums ，请你找出数组中乘积最大的非空连续子数组（该子数组中至少包含一个数字），并返回该子数组所对应的乘积。</p>
<p>最长连续子数组1438?581?offer42</p>
<p>两个数组A,B里面元素相同，顺序不同，B元素之间不能比较，A元素间不能比较，A,B可以比较，返回-1则为小于，0等于，1大于</p>
<p>给定一个数字n=34563，一个数组{5,4,1,3}，求由数组中的数字组成的小于n的最大整数</p>
<p>不包含重复数字的数组的所有子集</p>
<p>数组中有正数有负数有0，子数组之和等于K，求有多少个这样的子数组（一开始想滑动窗口来着，写出来不行，因为有负数的原因？ 又换成前缀和，行了。）</p>
<p>生成全排列去重排序之后的结果</p>
<p>两个list求相同元素（无限流怎么办）</p>
<p>01字符串中找到合乎条件的</p>
<h3 id="智力题" class="headerLink">
    <a href="#%e6%99%ba%e5%8a%9b%e9%a2%98" class="header-mark"></a>智力题</h3><p>两个箱子，50个红球50个黄球，怎么放才能让每次拿到红球概率最大？</p>
<p><a href="https://zhuanlan.zhihu.com/p/513984373" target="_blank" rel="noopener noreferrer">山羊和车</a></p>
<p>甲和乙在一个圆形棋盘中下棋，问甲先下怎么下能赢。</p>
<p>说的是有个小虫，每隔2s繁殖翻倍，2只2s后就是4只，以此类推&hellip;1个瓶子放入1只小虫，装满小虫用了2min；现在1只瓶子里放入2只虫子，装满用了多久？</p>
<p>64马赛马8次一组，决出前4名最少次数？8+4+2+1=15次，还有更优的嘛？有，<a href="https://zhuanlan.zhihu.com/p/398143738" target="_blank" rel="noopener noreferrer">10次</a></p>
<p>25个马5个赛道 最少比几次得出最快的五只马？</p>
<p>两张桌子，一张3个，一张4个，A、B玩游戏，轮流拿，每次只能拿1-2个，不能不拿，也不能一次拿两张桌子，这个游戏如果先手的话有什么必胜的策略吗？</p>
<p>那有没有初始的不是3、4，而是4、5？</p>
<p>最后面试官说回到3、4这个问题，刚刚说到3、4变0、3，有没有别的思路？（后面问了别的思路是不经过0、3）</p>
<p>经过自言自语也回答了1、2这种情况，然后和面试官聊这种情况，相当于我当A，他当B</p>
<p>最终和面试官扯了15min</p>
<h3 id="实践" class="headerLink">
    <a href="#%e5%ae%9e%e8%b7%b5" class="header-mark"></a>实践</h3><p>给一个具体的csv文件，实现一些读写操作</p>
<p>写一个判断文件相互引用的程序 a. 每个文件可引用多个文件，应该是结构体的形式 b. 形成一个图的形式，需要dfs和bfs</p>
<p>多线程打印123</p>
<p>字符串里<a href="" rel="">数据</a>存入<a href="" rel="">数据</a>库</p>
<p>两个线程交替打印a、b，sychronized、Semaphore、LockSupport</p>
<p>写一个解析csv文件的类</p>
<h3 id="理论" class="headerLink">
    <a href="#%e7%90%86%e8%ae%ba" class="header-mark"></a>理论</h3><p>lsm介绍一下</p>
<p>LRU的实现，优化，实例，linux的实现（最后这个不清楚）</p>
<ul>
<li>LRU的性能有问题知道吗（不知道，加减都是o(1)，性能有问题可以用LFU）</li>
</ul>
<h3 id="其他" class="headerLink">
    <a href="#%e5%85%b6%e4%bb%96" class="header-mark"></a>其他</h3><p>松鼠捡松子（n个格子，每个格子有不同数量的松子，松鼠在第一个格子，每次可以向前跳3-5格，到了一个格子拿走松子，问跳出去后松鼠最少捡多少松子）</p>
<p>溢出问题，一个数组vector&lt;int32_t&gt;，整体和是不溢出的，但部分和会溢出，怎么求和？双指针</p>
<h3 id="排序" class="headerLink">
    <a href="#%e6%8e%92%e5%ba%8f" class="header-mark"></a>排序</h3><p>归并<a href="" rel="">排序</a>和快排的实现，时间复杂度和空间复杂度。</p>
<p>写一个快排并实现</p>
<p>快排，堆<a href="https://www.nowcoder.com/jump/super-jump/word?word=%e6%8e%92%e5%ba%8f" target="_blank" rel="noopener noreferrer">排序</a>的原理，写一下用归并<a href="https://www.nowcoder.com/jump/super-jump/word?word=%e6%8e%92%e5%ba%8f" target="_blank" rel="noopener noreferrer">排序</a>合并两个有序数组</p>
<p>写出所知道的<a href="" rel="">排序</a>方法的时间复杂度和空间复杂度</p>
<p><a href="" rel="">排序</a><a href="" rel="">算法</a>中堆<a href="" rel="">排序</a>，是否是不稳定<a href="" rel="">排序</a>，为什么是不稳定，已经一些<a href="" rel="">排序</a>相关扩展</p>
<p>什么是稳定的<a href="" rel="">排序</a> 快排和归并<a href="" rel="">排序</a>稳定吗？</p>
<p>介绍一下堆<a href="" rel="">排序</a>的思想</p>
<p>（3）给定两个有序数组，找出其中的第K大</p>
<p>1,给出一个数组a,一个整数k,你每次可以选择一个数加一,进行k次,求k次之后数组乘积最大值%1e9+7。（秒）
2,给出n个以坐标系原点为左下角,(xi,yi)(1 =&lt; i &lt;= n) 为右上角的矩形,再给出一个数组,每个数组项(x,y)代表一个点。返回数组，表示每个点被包含在几个矩阵之中。(x轴无限大，y轴小于等于100)(写出来了，但是有个函数没用对导致跑不起来，但是面试官表示理解<a href="" rel="">算法</a>应该没问题)</p>
<p>1,给出一个水管（两条直线构成），底边在x轴上，顶部的y轴坐标为w.给你n个圆（x,y,r三元组表示）在水管中，若圆之间交叉或正好相切则水无法通过，求水是否无法流通。（并查集秒）
2，给你n个数，只能遍历一次，空间复杂度O(1),你需要在数组里的最大值中，等概率地随机返回其中一个最大值的下标。（不会，面试官稍加引导之后想出来了）
3，2的升级版，给你n个数，只能遍历一次，空间复杂度O(1),你需要在数组里的最大值中，等概率地随机返回其中k个最大值的下标，保证最大值不小于k个。（真不会，面试官尝试引导，后来懂了，最后没时间就没写了。）</p>
<p>页面置换算法</p>
<p>手撕lru算法</p>
<p><a href="" rel="">二叉树</a>的之字形遍历</p>
<p>给你多个ip地址（可能涵盖所有的ip地址），判断是否为国内ip，事先给你一些不相交的ip地址段表示国内ip。 <strong>思路</strong>：将ip转化为long数值存储，然后比较。考虑时间复杂度（朴素法O(n2)，二分法O(nlogn)）</p>
<p>二叉搜索树中第K大的节点</p>
<p>一天中有n个用户 变量有userid, logintime,logouttime （用户号，登陆时间，登出时间）</p>
<p>问最大峰值和持续时间</p>
<p>例 1 1 10</p>
<p>2 8 10</p>
<p>3 8 12</p>
<p>最大峰值3个用户 持续时间是8~10 可能有多个峰值</p>
<p>滑动窗口最大值（做的太快，6分钟a了。面试官说我做过，很不爽）又出一题</p>
<p>\2. 已知一个函数f() 可以生成0或1，概率为1/2 让你实现一个函数生成1的概率为P</p>
<p><strong>3.用两个栈实现数组<a href="https://www.nowcoder.com/jump/super-jump/word?word=%e6%8e%92%e5%ba%8f" target="_blank" rel="noopener noreferrer">排序</a> 十分钟写完 面试官质疑我的思路 但是结果正确</strong></p>
<p>https://<a href="" rel="">leetcode</a>-cn.com/problems/word-break-ii/</p>
<p>连续数组最大值-》进阶-》连续数组 两段的最大值</p>
<p>写代码 三个字符‘(’,’)’,’*’ *代表任意字符 判断括号是否匹配</p>
<p>5、<a href="" rel="">算法题</a>：</p>
<p>1、<a href="" rel="">二叉树</a>中找到两个节点最近的公共父节点</p>
<p>2、写一个带过期时间的lru</p>
<p>一个日志（结构为ip+时间）</p>
<p>岛屿涨潮（二维数组，模拟</p>
<p>一道简单的dp（类似于加油站问题</p>
<p>一道模拟，网球桶装网球</p>
<p>一道比较难的dp（集卡）  位操作状压+回溯+备忘录，四十分钟a出来了</p>
<h1 id="kafkarabbitmq" class="headerLink">
    <a href="#kafkarabbitmq" class="header-mark"></a>kafka/RabbitMQ</h1><p>消费者没收到消息、消息顺序错误、发功过程中损坏</p>
<p>Kafka实现主从数据的一致性，是否会造成数据的丢失？</p>
<p>ISR队列</p>
<p>怎么去避免消息重复发送或者漏发送</p>
<p>kafka 如何保证不重复消费
kafka 保证顺序消费吗以及为什么</p>
<p>kafka实现高吞吐的原因</p>
<p>kafka重复消费问题</p>
<p>消息队列如何保证不丢消息</p>
<p>消息队列的作用有什么</p>
<p>消息的可靠性如何保证</p>
<p>消费端获取到消息但是失败了怎么办</p>
<p>多次消费怎么解决</p>
<p>消息队列：RabbitMQ有什么特点</p>
<p>消息队列有什么作用</p>
<p>\9. kafka的产生背景和在项目中的使用</p>
<p>\10. topic和partition，partition是干什么的</p>
<p>\11. Consumer Group是干什么的</p>
<p>\12. 怎么将partition分配到多个broker上？怎么动态调整partition和broker的数量？</p>
<p>\13. rebalance什么时候发生，rebalance过程（这个真不知道）</p>
<p>\8. 项目中使用Kafka的原因？为什么不用RocketMQ或者其他的MQ？</p>
<pre tabindex="0"><code>kafka性吞吐量更高，主要是由于Producer端将多个小消息合并，批量发向Broker。kafka采用异步发送的机制，当发送一条消息时，消息并没有发送到broker而是缓存起来，然后直接向业务返回成功，当缓存的消息达到一定数量时再批量发送。
</code></pre><p>\</p>
<p>我有一个项目的类似网关，就是与第三方对接，负责报文加密解密，解析报文(参数转换)这些，然后再向核心系统推送</p>
<p>面试官问我：如果消息推送失败了怎么办？</p>
<p>答:在推送之前有一个 log 表先保存这些消息,然后再向核心系统推送,确保消息不会丢失</p>
<p>又问:万一 log 也插入失败了呢?我说这属于系统故障了，他说只是这条记录插入失败，mysql 能保证 100% 插入成功吗? 我&hellip;.</p>
<p>给我说有没有考虑用消息队列</p>
<p>消息队列用的什么?为什么用RabbitMQ,kafka有没有考虑过</p>
<p>我说并发量不高,所以没用kafuka,追问:为什么kafuka能有高吞吐?我根本没用过&hellip;..</p>
<p>追问mq的其他使用场景,我说异步,限流,削峰</p>
<p>2、项目里的MQ用到了什么地方</p>
<p>3、为什么用RabbitMQ，对比过其他的MQ吗</p>
<p>4、RabbitMQ消息丢失怎么处理</p>
<p>5、如果生产者没有收到消息队列的确认ACK，怎么处理这个投递失败的消息</p>
<p>6、RabbitMQ消费者端消息幂等性怎么保证</p>
<ol>
<li>
<p>消息队列有了解过吗</p>
</li>
<li>
<p>Rabbitmq有什么应用场景</p>
</li>
</ol>
<p>kafka为什么这么快</p>
<p>kafka怎么解决重复消费</p>
<p>kafka重复消费问题</p>
<p>\1. kafka如何做到高可用（不会，面试官不太满意，因为我的工作经历没有互联网高并发，而且kafka的确没怎么看）</p>
<p>kafka特殊的一致性（ISR,OSR）</p>
<h1 id="spring-spring-boot框架" class="headerLink">
    <a href="#spring-spring-boot%e6%a1%86%e6%9e%b6" class="header-mark"></a>Spring Spring Boot框架</h1><h2 id="ioc" class="headerLink">
    <a href="#ioc" class="header-mark"></a>IOC</h2><h2 id="aop" class="headerLink">
    <a href="#aop" class="header-mark"></a>AOP</h2><h2 id="组件" class="headerLink">
    <a href="#%e7%bb%84%e4%bb%b6" class="header-mark"></a>组件</h2><p>过滤器监听器</p>
<p>设计模式的使用</p>
<p>springboot 和 spring 的区别</p>
<p>spring如何设置bean单例非单例</p>
<p>对于final的类，可以代理吗？cglib</p>
<p>servlet规范，业务流程</p>
<p>aop 怎么去拦截异常用 around;ioc 中如 果两个 bean 有依赖关系，怎么先加载其中一个，后加载需要依赖的那个，显式(@Order 或 者配置 xml)隐式</p>
<p>谁管理Bean的生命周期？</p>
<p>AOP面向切面编程，spring aop的两种方式。</p>
<p>bean的生命周期，源码细节、设计思路</p>
<p>RESTful</p>
<p>什么是ioc</p>
<p>怎么解决ab对象互相引用问题</p>
<p>用到什么注解</p>
<p>Spring 的 BeanFactory 和 FactoryBean 有什么区别？BeanFactory和ApplicationContext的关系</p>
<p>Autowired和resource的区别</p>
<p>JPA</p>
<p>手撕Mapper</p>
<p>Spring 的 IoC 和 AOP 能讲一下吗，DI 和 IoC 是什么关系，AOP 的切面是什么意思</p>
<p>Spring 的反向代理</p>
<p>Spring 如何解决循环依赖问题</p>
<p>Spring 常用的注解</p>
<p>Spring Boot 与 Spring MVC 的区别</p>
<p>MyBatis 原理。(简单说了下 Dao 到 mapper.xml 的过程和原理)对比其他的 ORM 框架，mybatis #{}和${}的区别是什么?JPA规范</p>
<p>springboot 如何实现自动装配的?</p>
<p>aop 在项目中用过吗?怎么用 的?底层如何实现的?介绍一下动态代理。jdk 原生的动态代理和 cglib 的动态代理有什么 区别?</p>
<p>apollo</p>
<p>过滤器、拦截器</p>
<h1 id="锁-1" class="headerLink">
    <a href="#%e9%94%81-1" class="header-mark"></a>锁</h1><p>乐观锁悲观锁：java、mysql</p>
<p>java锁</p>
<p>mysql锁</p>
<h1 id="场景题" class="headerLink">
    <a href="#%e5%9c%ba%e6%99%af%e9%a2%98" class="header-mark"></a>场景题</h1><p>下单过程中，是下订单减库存还是付款减库存比较好？分析优劣</p>
<p>现在有一亿条数据，要求你利用 HashMap 对数据进行去重并排序，你会怎么做?</p>
<p>设计一个数据库连接池怎么设计</p>
<p>设计一个侵入性最小的限流服务</p>
<p>限流标准(并发数? qps?并发数和 qps 关系?说出了 5 种限流方案 和对应算法原理)</p>
<p>设计一个分布式缓存架构，需要考虑数据结构，考虑页面置换策略，考虑分布式怎么存储，考虑本地缓存和过期时间</p>
<p>多表更新，分布式事务如何解决？</p>
<p>设计一个分布式缓存架构</p>
<p>1）考虑<a href="" rel="">数据</a>结构。（key value结构）</p>
<p>2）考虑页面置换策略（FIFO，LRU，LFU）</p>
<p>3）分布式怎么存储。（中心结点通过HASH来分布，Redis集群分片存储）</p>
<p>本地缓存怎么设计？要有过期时间？要考虑并发</p>
<p><a href="https://blog.csdn.net/xiaoxiaole0313/article/details/104604093" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/xiaoxiaole0313/article/details/104604093</a></p>
<p>大数据的场景题：微博热搜1-50怎么设置？如果要你做一个热搜怎么搭建数仓？设置哪些字段？怎么提取关键词？按什么规则排热搜？如果用户输入关键词怎么过滤出热搜？</p>
<p>有10万个URL黑名单，如何用布隆过滤器数据结构实现快速判断？（trim树、布隆过滤器、hashmap）各种情况的时间复杂度</p>
<p>爬虫爬一个网站，里面有重复的记录，怎么存储不重复</p>
<p>有两个文件，找出相同的行</p>
<p>场景题：字符串左右模糊匹配，比如“我爱中国”匹配“爱中”怎么设计索引？（我说存一个反序，通配符都加后面行不行？面试官说有问题，不过也没往下聊了）</p>
<p>场景题：2T 的两个大文件，每一行存储一个字符串，内存只有 1G，如何找出两个文件中相同的字符串？你设计的算法，每一个字符串需要被读几次？</p>
<p>设计一个火车票购票系统需要考虑哪些方面的问题</p>
<p>去检索10秒内ip出现次数超过100 的ip</p>
<p>大文件上传怎么做的分包处理，重传处理</p>
<p>情景题： 设计一个真实的电梯运行模型，一个电梯需要有哪些信息，以及实现它的状态转移函数。 主要是谈谈思路， 我根据磁盘的电梯算法来答的， 基本做出来了。</p>
<p>看到我使用了redis实现帖子的热度榜单，让我设计如何使用多台机器处理帖子（我当时答的使用消息队列），然后让我用redis的数据结构设计帖子的评论功能</p>
<p>有1亿个浮点数，找出最大的10000个数据，限制内存为16kb</p>
<p>两个设计题：</p>
<p>（1）设计一个秒杀系统，要求不能超卖并且秒杀的成功率高</p>
<p>（2）设计一个王者荣耀的排行榜，要去按照区服排</p>
<p>redis怎么实现分布式锁</p>
<p>设计题1：使用redis实现分布式锁、写代码 ，只写了线程获取锁的步骤和伪代码</p>
<p>设计题2：商家入驻抖音电商需要缴纳一笔保证金，设计一个系统，记录商家缴纳的保证金及相关信息，缴纳的保证金可以修改，比如商家入驻第一年缴纳5w，第二年为10w，不同商家缴纳的保证金是不同的。聊了挺久。</p>
<p>秒杀场景</p>
<ol>
<li>秒杀的流程</li>
<li>限流怎么做的</li>
<li>token存在哪？（限流的程序放在哪）</li>
<li><a href="" rel="">数据</a>库与缓存的一致性问题</li>
<li><a href="" rel="">redis</a>减库存使用的什么命令？判断是什么命令？</li>
<li>订单延时取消怎么做？</li>
<li>延时队列怎么实现？考察原理</li>
</ol>
<p>场景秒杀</p>
<ol>
<li>一般项目的秒杀流程，是如何处理高并发的？</li>
<li><a href="" rel="">redis</a>减库存成功但是已经超时，用户重新请求怎么处理？</li>
<li>限流怎么设置（分布式，系统总qbs1000，怎么设置？）</li>
<li>系统设计：微信步数排行榜（如何存储，如何查询出排行榜）</li>
<li>接上题，假设微信1个小时上传一次步数，当用户查看排行榜时，拥有100个好友的时候怎么做，5000个好友呢？</li>
<li>接上题，5000个好友的时候，都查询出来吗？</li>
<li>智力题：一个圆形的棋盘，棋盘没有方格（即棋子可以随意摆放），棋子也是圆形的，两人交替落子，只要棋盘还能放得下棋子就可以落子，最后谁的棋子多谁赢，问先手如何落子能赢。</li>
<li>生产者给消息队列发送消息的时候，消息队列反馈的ack丢失，怎么办？</li>
<li>生产者没收到ack，重发消息，会重复减库存吗？</li>
</ol>
<p>问：看到你的简历上面写了用过varnish做缓存构建CDN，能介绍一下他的实现原理吗？</p>
<p>答：varnish提供了两种缓存机制，既可以将缓存放入文件中，也可以在内存中进行缓存。如果接收到了客户端请求，会根据请求去检查本地是否有对应缓存，如果有就返回给客户端，如果没有，就转发请求给后端服务，并对响应的静态资源进行缓存。</p>
<p>问：如果让你去实现varnish，你会考虑哪种<a href="" rel="">数据</a>结构？</p>
<p>答：因为是缓存，所以首先要保证高效的读写（这里我<a href="" rel="">联想</a>到了<a href="" rel="">数据</a>库55555），所以我可能会选择使用<a href="" rel="">平衡二叉树</a>这样的<a href="" rel="">数据</a>结构来保存<a href="" rel="">数据</a>。</p>
<p>追问：这样的<a href="" rel="">数据</a>结构在我看来不是最优解，有没有想过使用<a href="" rel="">哈希表</a>来进行实现？</p>
<p>答：（这里犯了迷糊，反问面试官<a href="" rel="">哈希表</a>是不是指数组+<a href="" rel="">链表</a>）</p>
<p>追问：你认为的<a href="" rel="">哈希表</a>是什么？</p>
<p>答：<a href="" rel="">哈希表</a>的核心是哈希函数，通过哈希函数将键值对中的键进行映射，通过一些<a href="" rel="">数据</a>结构来进行保存。</p>
<p>追问：你聊到了哈希函数，那我们知道有哈希函数就不可避免地会产生哈希冲突，那你有了解过怎么解决哈希冲突吗？</p>
<p>答：我所了解到地解决哈希冲突方式有两种，第一种就是使用数组+<a href="" rel="">链表</a>这样地存储方式，如果产生了哈希冲突，我们还是将键值对放进数组的对应位置，只不过这个位置上存储的是一个<a href="" rel="">链表</a>，我们可以利用头插法或者尾插法将键值对插入到<a href="" rel="">链表</a>中去进行保存；第二种是当检测到哈希冲突的时候，我们从当前位置开始往后检测，直到检测到一个空位进行保存。（忘了两种方法名字叫什么了）</p>
<p>追问：那你认为，使用<a href="" rel="">哈希表</a>和使用<a href="" rel="">二叉树</a>来实现，哪种效率更高？</p>
<p>答：使用<a href="" rel="">哈希表</a>时，采用数组+<a href="" rel="">链表</a>这种<a href="" rel="">数据</a>结构的话，查找和插入效率都是O(1)，在极端情况下，查找效率可能会退化为O(n)，使用<a href="" rel="">二叉树</a>的话， 其插入和查找效率都是在对数级，因此，在哈希冲突发生概率不大的情况下使用<a href="" rel="">哈希表</a>效率要高一些</p>
<p>场景题：如何设计一个秒杀系统？ mq削峰、顺序消费、服务降级、代理；面试官又问如何防止超量下单，（懵了，说了个锁+固定数量的令牌桶，又说了我项目里类似的设计；面试官又问碰到下单不支付怎么办，答设置一个超时时间；继续问还可能有什么问题，想不出来，最后从可靠性上说了个异步的持久化</p>
<h1 id="其他-1" class="headerLink">
    <a href="#%e5%85%b6%e4%bb%96-1" class="header-mark"></a>其他</h1><p>缓存的使用策略和从底层数据库开始往上各个层级中缓存的使用（mysql的缓存、mybatis、java的haspmap、redis）</p>
<p>缓存更新策略</p>
<p>常见的负载均衡算法</p>
<p>一致性哈希的一致性是什么意思？</p>
<p>正向代理和反向代理</p>
<p>微服务拓扑图</p>
<p>git如何避免代码冲突？如何退回代码？</p>
<p>MongoDB想对指定 id 的某一个 document 进行自增，怎么实现（$inc 就行，但我忘记了，说了在业务层的实现方式）</p>
<p>对称加密和非对称加密区别</p>
<p>前端鉴权方案统一介绍一下，项目里用的是哪一种，各自的缺陷和改善策略（有后端鉴权吗）</p>
<p>jwt</p>
<p>JWT 的工作原理吗，JWT 和 Session、Cookie 有什么关系吗，JWT 不依赖 Cookie 那一套实现吗</p>
<p>权限模型怎么做的，</p>
<p>使用token做安全认证，OAuth2授权认证，<a href="" rel="">数据</a>脱敏</p>
<p>压测主要测啥？（多线程<a href="" rel="">测试</a>最大并发量）怎么判断系统稳定？</p>
<p>目前开视频用的是那种？</p>
<p>登录流程？（token认证）</p>
<p>josn格式</p>
<p>在微信小程序使用ajax与后端交互过程中，当发送post请求传输参数给后端时，后端SpringBoot会出现不支持的媒体类型这样的错误，根据官文，需要在请求头中加入‘Content-Type’字段，后来的解决方案是请求头加入&rsquo;Content-Type&rsquo;字段，SpringBoot对每个请求的参数封装成Bean接收请求参数。</p>
<p>设计，架构，容灾等等。</p>
<p>grpc底层原理，和其它rpc的区别，http2的原理、protobuf的编码问题（varint、zigzag，你项目里是如何设计服务注册中心的（一般来说可以用etcd实现，我讲了下我们项目的实现方法）、为什么grpc用http不用tcp（……）、你觉得直接用tcp有什么问题，哪个效率会更高</p>
<p>dubbo</p>
<p>github远程分支推错到别人的分支了怎么办</p>
<p>channel的底层实现？</p>
<p>如果不用go，怎么应对高并发的http请求</p>
<p>项目搭建在哪</p>
<p>QUIC协议</p>
<p>部署的过程中有什么问题</p>
<p>hdfs存储原理和mr</p>
<p>(1)关于线程池设计问题(抽象了很多场景，应该怎么去设计最合适的线程池)</p>
<p>(2)关于限流场景的设计</p>
<p>(3)日志模块的设计</p>
<p>5、token放在哪个位置？（前端放到请求体里面吧）</p>
<p>mq如何消峰</p>
<p>1.介绍秒杀系统功能
2.整体QPS多少？
3.有正常订单吗？
4.整体订单<a href="" rel="">数据</a>存在mysql里是吧？
5.秒杀倒计时如何实现？
6.<a href="" rel="">数据</a>库表如何设计？
7.秒杀表索引如何设计？除了主键ID还有其他索引吗？有unique的key吗</p>
<p>介绍一下项目中自己负责的部分和技术应用、难点（感觉自己答得非常拉胯。。。大家有项目的还是要好好准备一下，不但加分，而且说得好还能把流程往自己熟悉的方向引导）</p>
<p>了解ngnix的正向代理和反向代理吗？</p>
<p>先问的<a href="" rel="">redis</a> 是用来做什么的， 然后到rocketMQ是做什么的，</p>
<p>然后选rocketMQ是为什么， 问了如果要做一个限流器，会用什么方式（我没答出来：一开始的思路是有延时队列的成分， 他给的回答是用<a href="" rel="">redis</a>，key值有时效性这个特点，可以来保证1秒内100qps这种情况，如果有需求的话，也可以是0.1秒内保证30qps这样。）然后问了，<a href="" rel="">redis</a> 过期的逻辑，主从<a href="" rel="">数据</a>通讯的方式，然后到<a href="" rel="">数据</a>落地的方式。</p>
<h1 id="heading" class="headerLink">
    <a href="#heading" class="header-mark"></a>————————————————————————————</h1><p><strong>大数据方面</strong></p>
<p>1.spark streaming和flink的区别</p>
<p>2.hbase的数据结构</p>
<p>3.LSM树为什么要用布隆过滤器</p>
<p>4.LSM树和B+树做比较</p>
<p>5.HBase的memStore的刷写</p>
<p>6.HBase的大合并和小合并</p>
<p>7.Hbase的HFile的格式</p>
<p>8.Hbase为什么适合写</p>
<p>9.Hbase的大读小写问题（这个压根没听过，应该都记错了，反正是个它会产生的问题，我听都没听过的一个东西）</p>
<p>10.Kafka怎么保证有序性、不丢失、不重复的，生产者怎么做消费者怎么做都讲</p>
<p>11.Kafka设置ack = -1时一定会保证消息不丢失吗</p>
<p>12.如果ISR集合中的所有副本全部挂了会发生什么</p>
<p>13.spark streaming消费kafka的两种方式</p>
<p><strong>Java</strong></p>
<p>1.为什么密码一般都要用char数组来存，而不是String呢</p>
<p>2.String在JVM中的存放形式是怎么样的</p>
<p>3.手写单例</p>
<p>4.为什么要加volatile</p>
<p>5.这里不用volatile会发生什么</p>
<p>6.指令重排会影响什么</p>
<p>7.HashMap、TreeMap、LinkedHashMap的区别，底层都是什么</p>
<p>8.为什么要遗弃hashtable</p>
<p>9.我现在向TreeMap和LinkedHashMap依次插入B,C,A，你遍历打印都会得到什么</p>
<p>10.Java出现了OOM问题时，我怎么去定位它是哪里出现的问题</p>
<p>11.讲一下Spring</p>
<p><strong>MySQL</strong></p>
<p>1.说说你知道的索引</p>
<p>2.联合索引的最左匹配</p>
<p>3.我现在给你一个（a,b,c）联合索引，我where a = 1 and c = 2索引怎么走的，where a = 1 and b like怎么走索引，什么时候索引失效</p>
<p>4.讲一下binlog的组织格式</p>
<p><strong>计网</strong></p>
<p>1.tcp和udp的区别</p>
<p>2.tcp怎么实现可靠的</p>
<p>3.tcp校验码怎么做的</p>
<p>4.说说你知道的校验码都有哪些</p>
<p>5.http状态码204、401、405、407、301、302</p>
<p>6.ping用过吗，说一下ping的数据报格式，字节数</p>
<p>大流量：水平拆分，分布式，代理层，hash</p>
<p>流量徒增：</p>
<p>![image-20221201162134475](/Users/shengquan/Library/Application Support/typora-user-images/image-20221201162134475.png)</p>
<p>![image-20221201162238909](/Users/shengquan/Library/Application Support/typora-user-images/image-20221201162238909.png)</p>
<p>![image-20221201162643218](/Users/shengquan/Library/Application Support/typora-user-images/image-20221201162643218.png)</p>
<p>![image-20221201162800057](/Users/shengquan/Library/Application Support/typora-user-images/image-20221201162800057.png)</p>
<p>![image-20221201162832473](/Users/shengquan/Library/Application Support/typora-user-images/image-20221201162832473.png)</p>
<p>HA（高可用）</p>
<p>对于订单，金额，直接磁盘，对于评论，浏览记录，可以缓存。</p>
<p><a href="https://mp.weixin.qq.com/s/sqkYBM-4l4qFFPkjY_zCJA" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/sqkYBM-4l4qFFPkjY_zCJA</a></p>
<p>给定一个机器，cpu是一核，跑一个程序会有线程安全的问题吗？</p>
<p>1）超线程技术，一个核心可以对应两个线程，也就是说它可以同时运行两个线程。Intel 酷睿i7 4770K是四核心 八线程</p>
<p>2）单核cpu仍然存在线程安全问题，因为如果操作不是原子操作，你无法控制cpu在什么时机切换线程</p>
<p>\4. 解释下什么是线程安全</p>
<p>\5. cpu调度去执行其他线程时把栈存起来，栈存起来会涉及线程安全吗</p>
<p>进程或线程切换，将cpu寄存器中上下文保存在任务自己的堆栈里（PCB或TCB）。若其他任务修改了其中变量的值，则栈里的值失效，线程不安全。</p>
<p>6.多线程操作全局变量有线程安全问题，还有其他情况吗</p>
<p>hashMap（put后一个线程写操作覆盖前一个线程），单例（实例化多个单例对象）</p>
<p>\7. Java里对上述情况（6），做了哪些操作来避免线程安全问题</p>
<p>cs-Notes</p>
<p>\8. 操作系统层面，如何管理内存，具体的如虚拟内存？</p>
<p>\9. 实际电脑16g内存，有无可能分配出32g内存给程序用</p>
<p>\10. 平常比较熟悉的数据结构</p>
<p>\18. 北京上海都有机房，刷抖音，在上海走上海机房，在北京走北京机房，网络中哪个阶段哪个协议实现</p>
<p>\20. 算法题：求一个数的平方根</p>
<p><strong>【三面】</strong></p>
<p>\1. 自我介绍</p>
<p>\2. 反射</p>
<p>\5. synchronized和reentrantlock</p>
<p>\6. 公平锁和不公平锁如何实现</p>
<p>\7. CPU调度算法</p>
<p>\8. Linux常用命令，统计一个文件夹下有多少文件</p>
<p>\10. 浏览器自动补全的实现有哪些方法</p>
<p>不太熟，大概描述了一下，提了一嘴 Python（简历上写了熟悉 Python），小姐姐说没关系，说下 Python 是怎么做的</p>
<p>\4. hashmap（说了 go 的 map 和 redis 的 hash 结构）</p>
<p>\5. redis rehash 过程</p>
<p>rehash 过程中添加数据，查询数据怎么办？（就是问渐进式 rehash，刚好没看到，瞎猜了半天）</p>
<p>hash 冲突用的什么方法解决的？查询时间？最坏时间？</p>
<p>你说链地址法冲突到一条链上会退化成 O(n)，它不好为什么要用？为什么不用其他的？</p>
<p>没太明白她的意思，我只是说最坏情况可没说它不好。。然后只能说它们各有优缺点吧</p>
<p>应该再说一下链地址法的主要优势的</p>
<p>\7. 一道没见过的算法题</p>
<p>给出一个分子式，比如：HMg2(H2ON3)3N2，计算这个分子式中每个原子出现了多少次，输出一个map，比如上面的分子式中：map[string]int {&ldquo;H&rdquo;: 7, &ldquo;Mg&rdquo;: 2,&ldquo;O&rdquo;: 3, &hellip;}</p>
<p>都以大写字母开头，后面跟 0 个或者 1 个小写字母，比如 Mg, H</p>
<p>单个原子后面跟 0 个或者 1 个数字表示它出现的次数，比如 Mg2 表示 Mg 出现 2 次，数字范围 2-9</p>
<p>分子式中可能有括号，括号后面可能跟 0 个或者 1 个数字表示整个括号内的原子出现的次数，比如 (N3Ag)2 表示 N出现 6 次，Ag 出现 2 次 4. 括号可以嵌套</p>
<p>输入是合法的</p>
<p>上来就遇到这么长的题让我很慌，加上之前 redis 被问到不会，这里感觉都要停止思考了。看了半天说想办法从后往前把数字乘进去去掉括号再处理，问她思路有没有问题，得到肯定回答才松了一口气，然后说了下具体方法，理清之后面试官把括号去掉了，然后说时间不够了写下简化版代码吧</p>
<p>\1. gmp</p>
<p>\2. 协程的优势</p>
<p>\3. 进程线程区别</p>
<p>\4. 进程地址空间有哪些划分</p>
<p>\5. 进程间通信</p>
<p>\6. 共享内存是怎么回事？映射到实际物理内存的虚拟地址在地址空间的哪一部分（我猜在堆区）</p>
<p>\7. 虚拟内存</p>
<p>\8. 页面置换算法（说了局部算法和全局算法）</p>
<p>\9. LRU 实现思路</p>
<p>\19. 扒项目（另一个爬虫项目）</p>
<p>\20. 代理服务的默认端口？（第一次听说代理还有默认端口）</p>
<p>\21. 页面解析用的什么？</p>
<p>\22. 爬虫比较困难的场景？</p>
<p>\23. 纯js渲染的页面怎么爬？</p>
<p>\24. （第一个项目）压测怎么做的？其他一些可以优化的点</p>
<p>\25. 力扣原题，舒服：力扣33. 搜索旋转排序数组</p>
<p>\26. 反问</p>
<p>二面面试官超级 nice，各种引导，问到我不会了就说ok没问题，全程给我信心，越面越顺</p>
<p>晚上另一个hr小哥哥加我微信约了三面时间，之前联系我的小姐姐不见了，唉</p>
<p><strong>【三面】30min</strong></p>
<p>\1. 扒项目（收获什么的）</p>
<p>\2. 我看你项目用了 mongodb，mongodb 存储索引知道吗？和 mysql 比有哪些优势？（回答 mongodb 并不熟，只是毕设想用用新东西，优点就知道非结构化扩展容易，速度快）</p>
<p>\3. mysql 存储引擎</p>
<p>\8. 进程通信方式</p>
<p>\9. io多路复用的几种方法（不熟，就提了下名字）</p>
<p>\10. cookie session</p>
<p>\11. 拥塞控制</p>
<p>\12. 力扣原题，舒服：力扣15. 三数之和</p>
<p>三面面试官应该是某个部门老大，面相和蔼，问了30分钟就结束了，有点慌，没想到结束后10分钟hr就发来微信约hr面了。</p>
<p>面试官:本次面试将持续30~45分钟(实际约45分钟)</p>
<p>1.自我介绍（学校，专业，姓名，应聘职位，专业知识，项目简介）</p>
<p>2.tcp/udp的区别（八股文）</p>
<p>3.tcp的拥塞控制（八股文）</p>
<p>4.进程与线程（八股文）</p>
<p>5.常见的排序算法及时间复杂度（非典型八股文，刚结束的一学期上过算法课，凭借记忆讲述）</p>
<p>6.算法题：a. 合并三个有序数组，&ndash; 执行两次两路合并</p>
<p>b. 最长非重复子串&ndash; 秒给双指针+哈希表的思路，面试官问是否之前做过这道题？</p>
<p>但是写的时候，由于第一次面试太过紧张，左指针的更新方式写错了，绕了半天没改对，以为GG</p>
<p>7.反问：a. 问部门负责什么？</p>
<p>答：UG部门，你知道UG吗？教育部门下的，负责用户拉增（什么玩意儿？U净？那不是洗衣机嘛？）</p>
<p>b.从您的四十多分钟观察来看，我有什么以后可以提升的点？</p>
<p>答：写代码题的时候要想清楚点。你思路很清晰，但写的时候有点乱</p>
<p>面完后咨询HR（本校的实习学姐），她告诉我过了，安排后续面试。感谢一面面试官不杀之恩/抱拳</p>
<p>紧张的来源分析：对成功的渴望、对失败的恐惧</p>
<p>10.算法题：复杂链表的复制（剑指offer原题）</p>
<p>2.问了下项目是什么（第一个极光数据库运用了MongoDB，并且加了Redis做图缓存巴拉巴拉，第二个商城项目 三个面试官都没理过）</p>
<p>3.MongoDB和MySQL的区别？MongoDB为什么读写快？（非关系型数据库，表结构松散，但也会带来编程难题。具体读写快肯定是设计架构上有精巧之处，具体的还没有深入系统学习过）</p>
<p>4.Redis和MongoDB与MySQL的区别（内存数据库，避免了磁盘IO，读写快）</p>
<p>5.做一道编程“大”题。</p>
<p>第一回合：给出一个乱序的数组，且元素可能重复，找出和为0的所有数字对。</p>
<p>其实这个题乍看很简单，不就是两数之和嘛？存哈希表，O（n）解决。但是这里比其刷题要考虑去重、找出所有而非一个。</p>
<p>于是就用HashSet来存，希望借助set自动去重。但是数组的默认比较方法是比较内存地址，两个数组即使有相同的元素也会被判定为不同的数组。</p>
<p>第二回合：如何解决这个问题？</p>
<p>如果是一个对象的话，可以重写hashCode和equals方法，但这是数组。无法重写。诶，那我构造一个新的类吧，numPair存储这两个数字。面试官说好，你写。</p>
<p>mmp，我以前没有重写过equals方法和hashCode，只能摸着石头过河，凭着理解写了，最后解决了这个问题</p>
<p>第三回合：如果数组中只有一个0，不允许构造[0,0]，而且不是找和为0而是和为定值要怎么改？</p>
<p>一通乱改，更改了程序逻辑。</p>
<p>第四回合：两数之和升级为三数之和</p>
<p>如果是三数之和的话，我肯定要先排序了，因为排序复杂度是O（nlogn），然后指针放在一个位置，剩下转换为两数之和。</p>
<p>讲完思路，我问就这样吧？别写了吧，前面坑挖太大了。面试官和蔼可亲地说：还是写一下吧。</p>
<p>又一通乱写。</p>
<p>后来时间快到了，面试官说就先告一个段落吧，确实也不太好写。能这样就挺好的了（其实咱心里明白，这种题最关键的不是有没有写出完全正确的程序，而是在面试官刁难我的过程中展现我见招拆招的能力。虽然我越写越慌，脸也逐渐胀成了红皮鸭子，但还是相信面试官不会刷我的）</p>
<p>6.最后问两个问题吧：ArrayList设置了上限吗？超过了怎么办？HashMap底层数据结构？扩容？（哈哈，正中下怀，八股文我太会了）</p>
<p>7.啥时候能实习？（年后吧，年后要是急，我可以尽快来的）</p>
<p>面试官说好的：年前就算了，也没几天了。希望你可以多实习几个月，因为刚上来看文档可能就要一个月，三个月的话做不了太多东西就走了，提升不大</p>
<p>8.反问：a.到底是啥部门？一会儿又教育增长，一会儿又产品研发与工程架构？</p>
<p>答：哦~确实有点费解哈。我们是负责技术中台的，然后教育增长是下面的小部门。</p>
<p>\2. 聊项目 （40分钟左右）</p>
<p>\3. 对内存的理解</p>
<p>\8. HTTP 状态码</p>
<p>\9. HTTP 的有状态与无状态</p>
<p>\10. HTTP 的长连接</p>
<p>\11. 线程占有的资源</p>
<p>\12. 算法题：230.二叉搜索树</p>
<p>\13. 算法题：498.对角线矩阵（改编了一点）</p>
<p>\1. 自我介绍（这次准备了一下，自我介绍比第一次长一点）</p>
<p>\2. 线上内存泄漏的经历和调试情况</p>
<p>\3. 多态的理解</p>
<p>\4. 输入一个网址到页面展示（编码、DNS、缓存、TCP握手、HTTPS（忘说了）、dom解析、js解析、css抽象语法树）</p>
<p>\6. 知道的所有排序方法，分析复杂度</p>
<p>\7. 进程间通信方式以及哪种方式最快</p>
<p>\8. 设计LRU cache</p>
<p>\9. 乐观锁和悲观锁以及应用场景</p>
<p>\10. 知道的其他锁和应用场景以及用过哪些锁</p>
<p>\11. 为什么选择 go 语言和以及项目为什么用 gin 框架</p>
<p>\12. IO多路复用中 select、poll、epoll</p>
<p>\13. 算法题：162.寻找峰值（二分最优时间复杂度）</p>
<p>\14. 算法题：440.字典序的第K小数字</p>
<p>\2. 算法题：128.最长连续序列 （上来就写题，体验真的很不好）</p>
<p>算法题：时钟动态规划（力扣上没找到这个题）</p>
<p>\3. DNS 解析详细过程（路由器的作用没答上来）</p>
<p>\4. 数据在计算机网络每一层间的转换</p>
<p>\5. 数据在空气中如何传播的（面试时候懵了，寻思这个跟计网没关系吧，被面试官吐槽计网学的不好，甚至还怀疑我没学过）</p>
<p>\6. web Server 如何处理请求</p>
<p>\7. Gin 中的路由</p>
<p>\8. HTTP 中 3xx 和4xx 状态码，304介绍协商缓存以及服务器如何判断资源未改变（判断没答上来面试官说我理解不够深入）</p>
<p>1.为什么密码一般都要用char数组来存，而不是String呢</p>
<p>2.String在JVM中的存放形式是怎么样的</p>
<p>3.手写单例</p>
<p>4.为什么要加volatile</p>
<p>5.这里不用volatile会发生什么</p>
<p>6.指令重排会影响什么</p>
<p>7.HashMap、TreeMap、LinkedHashMap的区别，底层都是什么</p>
<p>8.为什么要遗弃hashtable</p>
<p>9.我现在向TreeMap和LinkedHashMap依次插入B,C,A，你遍历打印都会得到什么</p>
<p>10.Java出现了OOM问题时，我怎么去定位它是哪里出现的问题</p>
<p>11.讲一下Spring</p>
<p>2.实习做了什么,第一个项目,消息队列怎么保证 消息不丢失的</p>
<p>3.https填写url后全过程(包括dns解析,三次握手,报文加解密(对称非对称))</p>
<p>4.进程与线程的区别(提到了协程,还好我看过)</p>
<p>6.redis在项目中的使用,如何加载数据到缓存的,有10亿条数据怎么加载,</p>
<p>用给的表手写加载过程,我说分段加载,我分页查询忘排序了(给我提示半天才发现&hellip;面试官开始用怀疑的眼光看我了)</p>
<p>多台服务器如何保证只有一台服务器在加载缓存,答:分布式锁,怎么用redis实现(本来想说用zookeeper的实现的,非让用redis实现)</p>
<p>redis的rdb和aof,还问了aof如果几十台服务器几个月都不关闭,aof怎么处理,我说定期将失效的insert和update语句删除,防止文件过大</p>
<p>7.数据库主从复制是如何实现的,什么时候查主库,什么时候查从库(答:用aop通过调用的方法名来做)</p>
<p>8.synchornized和Lock都是可重入锁吗,我想了想答都是的,又问我有没有不可重入锁,我说没遇到过,当时好憨啊,就说获取锁的线程在没有释放锁之前递归调用再次尝试获取锁就获取失败不就是不可重入锁了吗</p>
<p>9.算法题:蛇形打印二叉树(leetcode好像有原题)我说我做过了(用队列和一个flag变量%2==0 选择实现),他让我讲一下思路,让我用栈实现</p>
<p>10.算法题:给定一个有序数组,一个k和m,从数组中选出离k最近的(差的绝对值最下)m个数</p>
<p>用二分找到索引index,然后双指针指向index两边移动,同时维护最小的绝对值差</p>
<p>还问了我高考考了多少分&hellip;二本的我还能怎么回答:离一本差一道选择题,后来才知道我原来居然不是计算机专业的(我是数学专业)</p>
<p>总结:人生第二次面试(第一次是实习面试)就是字节,内心慌得一,</p>
<p>发挥的不是很好(想引导面试官往我掌握的比较好的八股文方向问,结果他不上当,哈哈),还有就是我面的JAVA后端,可是java方面的问题都问的很少,我&hellip;</p>
<p>两道算法题都AC很快,不过出的也不难,希望有二面机会(感觉希望不大)~~</p>
<p>\3. 谈一个你擅长的吧~,我说redis(给自己挖大坑!)</p>
<p>说吧,你都会redis哪些, 我balbalba把五种数据结构,geoadd，hyperloglog，bitmap，redis的持久化操作，主从复制一大堆都说了一下&hellip;</p>
<p>这些数据结构怎么实现的呢?具体说一下</p>
<p>答:我说了 list 是双向链表，hash 是类似与 hashMap(又说了hashMap的实现),散列表只能用你说的那种方式实现吗？后来我才了解到原来 hashMap 的数组+链表+红黑树是叫做拉链法,还有一种开放寻址法, 非科班的悲哀&hellip;</p>
<p>\4. 那你说说 set 是怎么实现的吧，zset 呢？我猛一下发现我并不知道 set(不重复集合)是怎么实现的，联想了 hashSet 的实现,说和 hash 一样的实现,被否定，zset一下子居然忘了是干啥的了&hellip;</p>
<p>\5. hyperloglog 底层怎么实现的?为什么会有误差呢?(说实话,我在面试前5分钟还专门大致看了一下和统计学有关就没细看,结果还是没答出来)</p>
<p>\6. redis只做了缓存吗?分布式锁做过没(上次面试也问了,当时答得不好恶补了一下，大家面试没答出来的一定要看啊,可能继续问)</p>
<p>答了 setnx 那一套,又追问过期时间那一套，解锁加锁同一个线程那一套</p>
<p>\7. mysql 和 mongo 的区别</p>
<p>题目:给一个 N*M 的数组，0 表示可以访问，1 表示不可以访问,可不可以从左上角(起始)到右下角(结束)并且把每个 0 结点都访问到,且每个结点只能访问一次,输出路径,如果不能访问返回空</p>
<p>我想了一会，唉!还就内个暴力 dfs 加回溯</p>
<p>大概思路就是先预处理数组，把所有能访问结点的个数 count 出来,然后维护一个是否访问的数组 isVisit，和结果集 List&lt;Point(x,y)&gt;res</p>
<p>每次 dfs 先判断当前结点是否是最后一个结点，如果是，那 count 是否为0了,为 0 返回 res；不为 0，res.remove()，设置未访问，count++;</p>
<p>然后快乐的 dfs 暴搜了~</p>
<p>最后面试官说可不可以剪枝,考虑过dp吗,这些优化我想了一想还就内个都没想出来,我是菜鸡!</p>
<p>\6. TCP四次挥手各个状态</p>
<p>\7. 为什么要有time_wait</p>
<p>\8. 如果有多个客户端都处于time_wait状态怎么办(不会)</p>
<p>\9. 进程间的通信方式?</p>
<p>管道 消息队列 共享内存 信号 Socket, 并把每种原理都讲了一遍</p>
<p>\10. 算法题,给定一个数组nums,nums[i]表示每个木头的长度,木头可以截断,现在需要k根长度一样的木头,每根木头的最大长度是多少?</p>
<p>我先找出最大长度,和最小长度,然后二分长度看当前长度可不可行,判断当前长度可不可行就是遍历nums,int curK += nums[i]/curLen,如果curK&gt;=k当前长度满足,然后向长度向max二分,否则向min二分,时间O(nlogn),过了</p>
<p>\20. TCP怎么保证稳定</p>
<p>\21. TCP滑动窗口机制</p>
<p>\22. 怎么判断超时？序列号具体的公式/逻辑？</p>
<p>\23. 问问数据结构（概念突然想起来了，但具体哪几个算法忘了，尴尬）</p>
<p>\24. 排序算法-什么是稳定的排序算法</p>
<p>\25. 排序算法-有什么是稳定的排序算法</p>
<p>\26. 归并排序思想（递归 + 回溯）</p>
<p>\27. 那我们做个递归回溯剪枝吧</p>
<p>算法：</p>
<p>括号匹配，输入n，返回所有符合条件的括号</p>
<p>输入2 返回()() (())。如何优化，剪枝？（秒杀）</p>
<p>二叉搜索树找第k下数。（秒杀）</p>
<p>中序遍历 得到数组输出 arr[k]</p>
<p>不行。想想空间优化，不用数组直接输出。</p>
<p>最后想问的：</p>
<p>Q：我有什么要提升的地方</p>
<p>A：东西挺多的，但基础不扎实，问一个点问不下去。表达能力要提升，分点回答，要有脉络 有逻辑别谈一会a又扯回B，整体还行。</p>
<p>Q: 实习几个月？</p>
<p>A：三个月以上</p>
<p>感觉学到了很多，自己还是要多多面试，巩固底层。</p>
<p><strong>【二面】1h</strong></p>
<p>整体给我整不自信了</p>
<p>自己基础还是不行，感觉总是容易卡顿，讲不下去，虽然有能讲的点，但随机抽基础题总容易出现答不上的情况，并且仍然一个项目没提。感觉这次面试内容很少，自己也没达到上次面试效果一半，留个纪念吧~以后加油</p>
<p>\1. 自我介绍</p>
<p>\2. 网络七层模型、http(中间漏了一层，开始就起调低了)</p>
<p>\3. 进程之间7种通信方式（全部答了）</p>
<p>\4. 线程间怎么通信（没讲清楚）</p>
<p>\5. 两个单链表找交集。set，不行，不开辟空间，两个for循环，不行再优化到On，感觉看过但答不上来了。</p>
<p>\6. 算法1：列表找最大连续子序列。(一开始有点小紧张，感觉这么快就算法求成了max最大值，然后写出来了，但中间一直被反问可能是感觉我写的有点乱实现不了，但没运行过)</p>
<p>\7. 算法2：2个队列模拟栈(写成了2个栈模拟队列，但很快又调整回来了，说了下思路又实现了)</p>
<p>e. 用的什么协议前后台交互？HTTP</p>
<p>f. 讲讲HTTP协议，1.0和2.0区别</p>
<p>g. websocket又和http协议有什么不同</p>
<p>\3. 进程和线程切换哪个性能消耗大，为什么？</p>
<p>忘了，记得问了不少</p>
<p>算法题：</p>
<p>4x4的密码地图{abcd，efgh，ijkl，lmno}，给定i，j起点，以及长度L，走‘日’字获取到的L长度的密码有几种。</p>
<p>● bfs遍历 8种方向，遍历L层，返回L层的长度</p>
<p>● 忘记去重了qwq（但面试官也没提醒）</p>
<p>● 时间复杂度、空间复杂度。（最后整出O(8^(L-1))，我晕了0.0）</p>
<p>● 怎么优化(带权，但具体的我也没想出来)</p>
<p>开启两个线程轮流打印ab(wait和notify没idea写着总报错，开个条件变量while卡死循环)</p>
<p>最后在面试官帮助写写出来了，qwq，这个我都写过，硬是没想起来。。还是底层要打扎实啊。</p>
<p>反问 ：</p>
<p>如果有机会进来，你觉得实习生更注重的品质或者能力是什么？</p>
<p>画面尬住了10s，我连忙补充提问，你觉得在校生和进入工作人需要有哪些提升？</p>
<p>画面尬住了30s，我内心：gg了问错了？。然后突然发现是网络卡了(对面)。尴尬。</p>
<p>敲字提醒后，面试官重新回答：做你自己感兴趣的就行（我是不是前面漏听了一段qwq）</p>
<p>部门实习生来是大概承担什么内容？</p>
<p>学习、小接口、文档、后期尝试接入项目</p>
<p>\8. DNS的过程</p>
<p>\9. 处理中断，恢复中断</p>
<p>\10. 程序编译的过程</p>
<p>\11. http的缓存机制</p>
<p>\12. 乐观锁和悲观锁</p>
<p>\13. 修课程问题，拓扑排序？</p>
<p><a href="https://leetcode-cn.com/problems/course-schedule/submissions/" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/course-schedule/submissions/</a></p>
<p>\3. 操作系统内存管理</p>
<p>\4. 逻辑地址和物理地址的转化</p>
<p>\5. http状态码</p>
<p>\6. tcp怎么保证可靠性</p>
<p>\7. tcp的拥塞控制</p>
<p>\8. http1.0 1.1 1.2区别</p>
<p>\9. 输入数组nums，要求输出升序排序后的结果。已知数组元素为非负整数，且当数组长度为n时，所有元素的值都小于n；时间复杂度为O(n)</p>
<p>\1. 固态硬盘和机械硬盘区别</p>
<p>\2. C++ 多态</p>
<p>\3. HTTP请求的过程，keep-alive</p>
<p>\4. https加密过程，为什么不是非对称加密</p>
<p>\5. 虚拟内存</p>
<p>\6. 页式管理和段式管理</p>
<p>\10. DNS过程，问的很细</p>
<p>\11. 进程通信的方式，匿名管道，命名管道如何生成，信号怎么生成，头文件？</p>
<p>\12. 虚继承</p>
<p>\13. 网关</p>
<p>\14. http状态码，502,504？</p>
<p><a href="https://blog.csdn.net/wangtingting_100/article/details/81106767" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/wangtingting_100/article/details/81106767</a></p>
<p>\15. http2.0 了解3.0吗</p>
<p>\16. go对于c++的优点</p>
<p>\17. 寻找第K大</p>
<p>\2. http报文格式</p>
<p>\6. 用户态和内核态</p>
<p>\7. Get post还有什么方式</p>
<p>\8. 登录的时候用什么保存状态session和cookie</p>
<p>\9. 最小栈怎么实现</p>
<p>\10. N叉树每层求最大值</p>
<p>\3. 设计rpc框架考虑什么</p>
<p>\4. 检查手机号是否存在于百万数据电话号中</p>
<p>\2. 算法题，丑数</p>
<p>\2. 在java中垃圾回收是怎么做的？</p>
<p>\3. CMS是如何减少STW的？答：并发标记与用户线程同时执行</p>
<p>\4. CMS并发标记和用户线程同时进行，这段时间产生的垃圾怎么办？</p>
<pre tabindex="0"><code>重新标记阶段：修正并发标记期间因为用户程序继续运作而导致的标记产生变动的那一部分对象浮动垃圾：新产生的垃圾等待下一次垃圾回收时才能清除
</code></pre><p>\5. 三色标记法的基本原理</p>
<pre tabindex="0"><code>可达性分析算法从GC Roots开始向下遍历对象图，按照是否访问过来把对象标记成三种颜色白色：对象未被垃圾收集器访问过，分析结束时如果依旧为白色，则不可达黑色：对象被垃圾收集器访问过及其所有引用都被垃圾收集器扫描过。灰色：对象已经被垃圾收集器访问过，但是至少存在一个引用还没有被扫描过
</code></pre><p>\6. 三色标记法出错？问题？写屏障？</p>
<pre tabindex="0"><code>“对象消失”问题：当增加了一条由黑色对象到白色对象的引用且灰色对象与该白色对象的引用被删除时，该白色对象无法被正确标记为黑色，导致该异常消亡。两种解决方案：增量更新：当黑色对象要指向白色对象时，使用写屏障将对象记录下来，扫描结束再以黑色对象为根重新扫描一次原始快照：当灰色要删除白色对象引用关系时，写屏障将对象引用关系记录下来，扫描结束再以灰色为根原关系重新扫描一次
写屏障：类似与AOP，虚拟机对“引用类型字段赋值”操作的切面，分为写前屏障和写后屏障
</code></pre><p>\7. synchronized原理，Monitor对象？</p>
<pre tabindex="0"><code>当重量级锁时，Mark word中会记录指向Monitor对象的指针。Monitor是基于C++的ObjectMonitor类，维护了当前线程，竞争链表、entryList、waitSet。Monitor enter方法通过CAS方式设置当前线程字段，自旋数次不行的话包装成ObjectWaiter对象加入竞争链表
</code></pre><ol start="9">
<li>虚拟内存的概念？</li>
</ol>
<p>\10. 父进程fork出来一个子进程，他们的物理地址是一样的吗？“写时复制“</p>
<p>\11. 缺页中断？支持的算法？</p>
<p>\12. 常见的IO模型</p>
<p>\13. 怎么理解阻塞IO和非阻塞IO</p>
<p>\14. 异步IO和同步IO</p>
<p>\15. IO多路复用由哪些？select、poll、epoll</p>
<p>\16. 怎么理解句柄</p>
<p>\17. Reactor和Proactor模型，nignx是那种？</p>
<p>\18. 异步IO使用场景？实现原理？</p>
<p>\19. Redis分布式集群是怎么实现的？</p>
<p>\20. Redis选主？如何避免脑裂？</p>
<p>\21. 如果有个leader宕机，选举出来一个新的leader，这时候旧leader恢复了，怎么办？</p>
<p>\22. 在Raft中怎么解决选不出来节点的问题？</p>
<p>\23. Raft同步日志</p>
<p>\24. 使用Spring Cloud 时候的架构设计，best practice</p>
<p>\25. 注册中心用的啥？怎么快速上线和下线？注册节点很多的时候会不会有性能问题？注册中心节点之间是怎么同步的？</p>
<p>\26. 讲讲做的比较好的项目？</p>
<p>\27. 算法题：139. 单词拆分</p>
<p>\2. Java常用并发容器有哪些？</p>
<p>\3. ConcurrentHashMap时怎么做到线程安全？</p>
<p>\4. CountDownLatch的底层实现？</p>
<p>\5. 为什么使用 volatile？volatile怎么保证可见性？</p>
<p>\6. 了解内存屏障吗？</p>
<p>\7. 栈和堆的主要区别？</p>
<p>\8. 堆上分配内存的过程</p>
<p>\9. 对象创建过程？</p>
<p>\10. 如何检查类已被加载？</p>
<p>\11. 一个对象分为哪些部分？对象头有哪些信息？</p>
<p>\12. 上次没说出来的三色标记法，现在会了吗？说说</p>
<p>\13. 增量更新是怎么做的？</p>
<p>\14. 简历中的JVM调优经历</p>
<p>\25. 了解Redis底层的数据结构？</p>
<p>\26. zset为什么使用跳表不使用红黑树？</p>
<p>\27. 项目中使用的哪种分布式锁？超时时间怎么设置？</p>
<p>\28. zk的分布式锁怎么实现？</p>
<p>\29. 分布式id怎么生成？怎么保证他的唯一性？</p>
<p>\30. 140. 单词拆分 II - 力扣（LeetCode）</p>
<p>\3. 智力题（过段时间回来更）</p>
<p>\4. 算法题：84. 柱状图中最大的矩形</p>
<p>\2. 在java中垃圾回收是怎么做的？</p>
<p>\3. CMS是如何减少STW的？答：并发标记与用户线程同时执行</p>
<p>\4. CMS并发标记和用户线程同时进行，这段时间产生的垃圾怎么办？</p>
<pre tabindex="0"><code>重新标记阶段：修正并发标记期间因为用户程序继续运作而导致的标记产生变动的那一部分对象浮动垃圾：新产生的垃圾等待下一次垃圾回收时才能清除
</code></pre><p>\5. 三色标记法的基本原理</p>
<pre tabindex="0"><code>可达性分析算法从GC Roots开始向下遍历对象图，按照是否访问过来把对象标记成三种颜色白色：对象未被垃圾收集器访问过，分析结束时如果依旧为白色，则不可达黑色：对象被垃圾收集器访问过及其所有引用都被垃圾收集器扫描过。灰色：对象已经被垃圾收集器访问过，但是至少存在一个引用还没有被扫描过
</code></pre><p>\6. 三色标记法出错？问题？写屏障？</p>
<pre tabindex="0"><code>“对象消失”问题：当增加了一条由黑色对象到白色对象的引用且灰色对象与该白色对象的引用被删除时，该白色对象无法被正确标记为黑色，导致该异常消亡。两种解决方案：增量更新：当黑色对象要指向白色对象时，使用写屏障将对象记录下来，扫描结束再以黑色对象为根重新扫描一次原始快照：当灰色要删除白色对象引用关系时，写屏障将对象引用关系记录下来，扫描结束再以灰色为根原关系重新扫描一次
写屏障：类似与AOP，虚拟机对“引用类型字段赋值”操作的切面，分为写前屏障和写后屏障
</code></pre><p>\7. synchronized原理，Monitor对象？</p>
<ul>
<li></li>
<li></li>
<li></li>
</ul>
<pre tabindex="0"><code>当重量级锁时，Mark word中会记录指向Monitor对象的指针。Monitor是基于C++的ObjectMonitor类，维护了当前线程，竞争链表、entryList、waitSet。Monitor enter方法通过CAS方式设置当前线程字段，自旋数次不行的话包装成ObjectWaiter对象加入竞争链表
</code></pre><ol start="9">
<li>虚拟内存的概念？</li>
</ol>
<p>\10. 父进程fork出来一个子进程，他们的物理地址是一样的吗？“写时复制“</p>
<p>\11. 缺页中断？支持的算法？</p>
<p>\12. 常见的IO模型</p>
<p>\13. 怎么理解阻塞IO和非阻塞IO</p>
<p>\14. 异步IO和同步IO</p>
<p>\15. IO多路复用由哪些？select、poll、epoll</p>
<p>\16. 怎么理解句柄</p>
<p>\17. Reactor和Proactor模型，nignx是那种？</p>
<p>\18. 异步IO使用场景？实现原理？</p>
<p>\19. Redis分布式集群是怎么实现的？</p>
<p>\20. Redis选主？如何避免脑裂？</p>
<p>\21. 如果有个leader宕机，选举出来一个新的leader，这时候旧leader恢复了，怎么办？</p>
<p>\22. 在Raft中怎么解决选不出来节点的问题？</p>
<p>\23. Raft同步日志</p>
<p>\24. 使用Spring Cloud 时候的架构设计，best practice</p>
<p>\25. 注册中心用的啥？怎么快速上线和下线？注册节点很多的时候会不会有性能问题？注册中心节点之间是怎么同步的？</p>
<p>\26. 讲讲做的比较好的项目？</p>
<p>\27. 算法题：139. 单词拆分</p>
<p>\1. 自我介绍</p>
<p>\2. 长时间深挖实习（项目难点，后续优化，思考）</p>
<p>\3. 智力题（过段时间回来更）</p>
<p>\4. 算法题：84. 柱状图中最大的矩形</p>
<p>\1. hashmap原理，底层实现，线程不安全的原因，怎么扩容，底层数组大小为什么是2^n，扩容死锁产生的过程（不会）, 1.7和1.8的区别</p>
<p>\2. concurrenthashmap原理，结构，为什么线程安全，分段锁怎么实现</p>
<p>\3. synchronized和lock区别, volatile原理了解吗</p>
<p>\4. Lock底层实现原理, AQS怎么实现的</p>
<p>\5. Redis数据类型，删除策略，持久化方案，分布式方案，redis cluster方案原理（没看具体的架构内容），分布式一致hash知道吗？</p>
<p>\6. IO模型：IO模型有哪些，select和epoll原理，select的缺点（搞Java，如果没有高并发场景的经历，IO这块也就不怎么了解了，基本都是复习多线程的知识去了）</p>
<p>\7. OSI模型（五层和七层）</p>
<p>\8. 介绍下tcp和udp</p>
<p>\9. tcp握手，挥手</p>
<p>\10. 慢启动，快速重传，快速恢复</p>
<p>\11. time-wait介绍下</p>
<p>\16. 算法：三数之和，要求给出时间复杂度和空间复杂度，刚开始暴力三重循环，后来要求优化</p>
<p>\2. 其他项目经历，反射、注解的原理，有用过线程池吗？Java线程池有哪几种？Java线程池的构造参数？什么是阻塞队列？Java有哪些阻塞队列？</p>
<p>\3. https建立连接的过程是怎样的？</p>
<p>\4. 了解中间人攻击和跨域攻击吗？</p>
<p>\5. 进程与线程的区别和联系</p>
<p>\6. 进程的切换发生了什么</p>
<p>\7. 线程的切换为什么比进程的切换代价小</p>
<p>\8. 进程通信的方式和举例</p>
<p>\14. Linux的shell用的怎么样？grep、sed、awk有用过吗？（只会grep&hellip;）</p>
<p>\15. 怎么监控机器性能？</p>
<p>\16. Linux文件系统了解吗？软连接和硬连接？</p>
<p>\17. 矩阵顺时针旋转90°和逆时针旋转90° 股票买卖（几个变种问题没做出来，但是基本的应该还行）</p>
<p>\2. 设计热榜，动态展示top K</p>
<p>\3. N个线程交替打印，怎么实现，写出来，跑一下</p>
<p>\4. 设计长短地址转换</p>
<p>讲一下time-wait状态 2. http和https区别 3. https里的数字证书签发和验证流程 4. redis内存淘汰策略 5. 什么是缓存雪崩 6. mysql的索引用的什么数据结构 7. 创建索引时需要注意什么 8. 算法：LC498. 对角线遍历</p>
<p>守护进程 2. double占多少个字节，double为什么会精度丢失 3. java的垃圾回收算法 4. hash冲突的解决 5. 红黑树的性质，为什么增删改查都是O(logn) 6. 什么是稳定的排序 快排和归并排序稳定吗？ 7. 拥塞避免里的慢开始算法 8. HTTP常见状态码 9. HTTP的Keep-Alive  13. 项目里redis的作用，存了什么数据 14. 为什么不用memcached 15. 项目中消息队列的作用</p>
<ol start="17">
<li>介绍常用的设计模式 18. 算法：LC402 改成使剩下的数字最大  <strong>【三面】</strong> 1. java的hashCode和equals 2. hashCode的设计原则（怎么保证离散性） 3. 线程安全的Map 4. 怎么自己设计一个Synchronized 5. ReentrantLock 6. CAS 7. volatile 8. 尽可能得写出多种单例模式 9. 算法：买卖股票1 2</li>
</ol>
<p>\1. 讲讲你的即时通讯项目发布订阅模式怎么实现的redis也有topic吗？你确定说的不是消息队列？嗯？？？那redis的topic底层原理怎么实现的——PUBLISH、SUBSCRIBE、PSUBSCRIBE，订阅方式有两种，名字订阅和模式订阅，底层实现分别基于字典（key：频道名，value：订阅者）+链表/字典（key：订阅者，value：模式）实现</p>
<p>\2. RPC项目呢，说一说  RPC也实现了ACK？</p>
<p>\3. TCP连接过程HTTP呢？HTTP底层基于TCP，实际就是TCP的连接过程  那你说说websocket呢？同样基于TCP三次握手 面试官说不是想问的</p>
<p>\4. HTTPS连接过程？CA证书怎样判断合法性——CA机构根据服务器传过来的信息按照加密算法生成一个hash值并用私钥加密，嵌入数字证书中传给服务端；客户端校验时按照同样的加密算法生成hash，再用浏览器或操作系统内置的公钥解密证书，取出里面的hash，比较两个hash是否相等</p>
<p>\5. 数组、链表、栈、队列的区别 使用场景</p>
<p>\6. 那Java中常用的数组/链表结构  ArrayList扩容过程 线程安全的ArrayList怎么办</p>
<p>\7. HashMap实现原理 线程安全的map，concurrentHashMap实现原理</p>
<p>\8. 做过最恶心的算法题，一度怀疑是不想要我故意算法劝退：一道是实现加减乘除带括号的计算器，申请换了另一道题：</p>
<p>leetcode 2035：将数组分成两个数组并最小化数组和的差</p>
<p>\1. 讲讲即时通讯项目 这种即时通讯的项目有啥注意的地方</p>
<p>\2. 发布订阅模式怎么实现的 为什么用redis不用其他</p>
<p>\3. 消息丢了或者乱序怎么办 ACK，序列号，本地整流  你这个ACK为啥要在应用层上设计</p>
<p>\4. 谈一下Netty  主要讲了Netty的Reactor模型和零拷贝机制mmap+write / sendfile那普通的IO过程是怎样的  你说Netty在应用层上实现了零拷贝，具体怎么实现的</p>
<p>\5. 再问一个关于IO的问题，Java里的IO以及操作系统里的select、poll、epoll你了解吗  epoll平时用过没，知道是怎么实现的不  没用过，但是简单了解epoll和select的实现原理balabala</p>
<p>\6. 然后来讲讲RPC吧</p>
<p>\7. TCP三次握手四次挥手</p>
<p>\8. TCP拥塞控制算法 这里说的比较多，自己拓展了为什么超时重传和快速重传采用不同的恢复算法  流量控制，滑动窗口协议详细说 这里细节存在问题，面试官让下来可以再学习下</p>
<p>\9. 死锁是什么，怎样解决银行家算法，事务回滚 这里举例说redis的事务回滚，然后面试官问redis事务回滚怎么实现，这才反应过来redis事务不支持回滚</p>
<p>死锁产生的四个必要条件</p>
<p>\14. 数据结构学过吧？说说循环队列直接来写吧 手写循环队列</p>
<p>\15. 好，再来下一道，给定一个数组和一个数n，求出这个数组里的数字组成的小于n的最大数（数字可重复使用）  开始只能想到枚举，但根本不可能让写枚举，面试官给了点提示最后写了个大概，有点小bug面试官说大问题没有，没问题。（md，两次字节面试都遇到生僻hard或者原创hard&hellip;）</p>
<p>\2. 假设让你来设计一个校园即时通讯应用，IM服务器集群哈，你们学校假设现在有两万人，应该怎么设计，考虑哪些问题 高并发数据库压力过大、负载均衡  怎么解决？具体怎样实现？ 说了加缓存，面试官深问这种场景下哪些数据要加缓存，凭什么缓存？</p>
<p>\3. 假设现在我们有两台机器A和B在互相发消息，中间连接的是不同的IM服务器，这个消息收发过程是怎样的  说了需要IM服务器集群之间同步消息，面试追问这样的话需要注意什么？ 结合后面RPC注册中心集群的实现讲了最终一致性，引入消息总线的设计</p>
<p>\4. 来看微信案例，我们PC微信端登录时会生成一个二维码要求手机端扫描，手机端扫描完毕后PC端才可以登录成功，请你描述这个过程发生了什么并详细阐述每个过程需要携带哪些信息</p>
<p>\5. 你这个项目实现过群聊消息功能吗哪些点需要注意</p>
<p>\6. 写道题：最大连续子数组（2） 返回所有最大子数组</p>
<p>\7. 场景设计题：</p>
<p>一个停车场，4*50大小，汽车只能按行放置</p>
<p>小汽车占一个车位，收费10元</p>
<p>中汽车占两个车位，收费25元</p>
<p>大汽车占三个车位，收费50元</p>
<p>设计方案求最大利润？</p>
<p>类似于OS内存分配，说了思路最后还问能不能写代码出来，实在高看我了哈哈哈</p>
<p>3、一致性哈希</p>
<p>4、分布式系统、rpc调用过程、了解dubbo吗？</p>
<p>5、http和https的区别？https加密的过程？</p>
<p>6、tcp三次握手、拥塞控制、time_wait状态</p>
<p>操作系统执行一个程序的过程？</p>
<p>算法题：链表快排</p>
<p>1.进程和线程</p>
<p>2.进程的通信
3.数组和链表
4.在链表中间插入一个节点时间复杂度是多少On，链表插入节点的平均复杂度On（1+2+…+n）/ n
5.冒泡 快排 归并 最坏时间复杂度和平均时间复杂度，稳定性是什么意思，是否稳定
6.无序数组中寻找第k大个元素，讲思路从最简单开始直到最优。第一，直接排序找，问sort的底层实现是啥 _插入快排归并。第二，使用优先队列，指定k大小是什么堆 _小根堆。第三，使用快排思想，找索引为len-k的元素，此时时间复杂度是 _On
7.java基础，判断true false
8.为什么重写equals要重写hashcode方法
9.hashmap为什么要是2的n次幂
10.算法题力扣143重排链表</p>
<p><strong>【二面】</strong>
1.数据库存储引擎以及它们的区别</p>
<p>4.进程的地址空间是啥，它是属于进程的资源吗？
5.协程，为什么要有协程，线程已经是独立调度的基本单位了，为什么还要有协程？
6.虚拟内存是什么
7.堆和栈的区别，堆怎么存储的，在操作系统里堆和栈怎么体现，堆和栈里面分别存放什么信息？
8.算法题：二叉搜索树转为双向链表，空间复杂度O1，如果不使用全局变量怎么做</p>
<p>操作系统一度问到奔溃。第二天上午hr告诉说通过了。</p>
<p><strong>【三面】</strong></p>
<p>1.哈希表为什么查询，插入时间复杂度O(1)</p>
<p>2.hashmap在jdk1.7在多线程下会发生什么，1.8下会发生吗</p>
<p>3.算法题：一个链表奇数位节点为升序，偶数位节点为降序，将链表转换为整体升序。</p>
<p>4.redis中有哪些数据结构</p>
<p>5.zset怎么实现的？</p>
<p>6.跳表怎么做的，如果插入一个值，跳表怎么做，如何裂变，如果让你自己实现这个，你会怎么做，什么情况下会发生裂变等等。</p>
<p>2、DNS域名解析过程</p>
<p>3、HTTP请求消息结构</p>
<p>4、GET和POST方法的区别</p>
<p>5、网络层和传输层的区别</p>
<p>6、进程间通信的方式</p>
<p>算法题 1、二叉树的最大宽度（太菜，做了挺长时间）</p>
<p>2、求浮点数的平方根（想了很久， 没时间写了，最后给了个思路—牛顿迭代，感觉也没说清楚）</p>
<p><strong>【二面】</strong></p>
<p>1、问了实验室项目</p>
<p>2、根据实验室项目问了路由相关的知识，两台设备之间数据包传输为什么用MAC地址，用IP地址行吗</p>
<p>3、进程与线程的区别，哪些内存资源是线程隔离的，哪些是共享的，局部变量，成员变量，方法参数，类变量分别存在什么区域，什么是类变量</p>
<p>4、见过的排序算法，说一下归并排序的原理，归并排序一个单链表，并去重</p>
<p>5、进程间通信方式，线程间通信方式，信号有哪些？进程终止的信号谁来接收，Init进程是什么。用过哪种通信方式？信号量。信号量是用于线程还是进程，线程里的信号量能用于进程吗</p>
<p>6、消息队列和redis用在项目什么地方</p>
<p>7、看过什么分布式场景的解决方案？MySQL与Redis的缓存一致性问题。怎么解决（这个问题问了半天，层层递进，最后懵了）</p>
<p>7、讲一下虚拟内存</p>
<p>8、什么是用户态、内核态</p>
<p>9、常见的页面置换算法</p>
<p>9、算法：对称二叉树</p>
<p>10、长链接变短链接</p>
<p>13.说一说volatile？</p>
<p>14.volatile怎么实现的，说一说内存屏障</p>
<p>15.聊一聊计算机网络吧，http的状态码有哪些？http请求头有哪些？</p>
<p>16cookie和session的区别？顺带还给说了token</p>
<p>17.Redis是怎么用的？项目中用的什么数据类型？Redis有什么数据类型</p>
<p>18.Redis的SDS和跳表？跳表是怎么维护这个层级的？我忘记了只记得是有一个随机，然后面试官问了我两下你不太记得了，只知道有一个随机是吧？</p>
<p>19.Redis的数据过期策略，你了解吗</p>
<p>20.接着出了一道智力题，挺长的题目，在面试官的引导下也许说了下思路</p>
<p>21.算法题：二叉树的z字形遍历 先简单的沟通了下思路，使用队列+dfs 面试官说：不使用队列，想想其他数据结构，然后我说栈可以吗？用两个栈可以吗？（这个题目之前也是使用队列做的，临时想的）你自己分析一下嘛？然后说了一下思路，就开始写了，不用main方法写完给他看看就好，最后看了一下，你这少了return（粗心）面试结束</p>
<p>1.简单题：数组中的重复数字，不过要将数字和下标输出，心里窃喜。本来想用map，结果不让用Java自带的map；那好使用int模拟map，结果又说试试其他方法吗？那也好 我说排序吗？接着用排序做了一下</p>
<p>2.中等题：lc61旋转链表，没有为难我了，这就搞成一个环然后打破了可以（两题都做过）</p>
<p>写两个题大概花费25分钟左右，到输入输出的时候，第一题我看（使用的是牛客）里面有输入输出的框，在代码里写了Scanner，面试官那边运行报错了，我截了个图示意从这输入，面试官说：你在代码里构造输入输出，那行。到了第二个题 我心想链表怎么输入输出，面试官说（打字）：你直接运行提交就可以呀。我回了两遍我说这里有main方法，接着视频电话接通了，批评我了两分钟，我问他是不是要自己构造链表，面试官：公司里面写代码谁会给你先写好，是不是不太懂我的话意思？是不是不会写链表？吧啦吧啦</p>
<p>内心已经有了些许不太高兴，但是还是陪笑道歉说我之前做题做的都是那种有输入输出的。。。（其实确实是自己这边这种思维导致的，但是他也是沟通没到位啊，他只要说一句你自己写一个链表早就完事了，这个过程至少浪费了10分钟，而且写题过程中一直都是打字，开个视频沟通不好嘛！）</p>
<p>面试开始：</p>
<p>3..你认为你最熟悉的课程是啥？然后我说我学的是网络工程（立马打断我，你只要说你最熟悉的是啥就可以了）（我真想给他说路由与交换）我说数据结构吧，不行这已经出过题了，接着我说计算机网络（被问到炸）</p>
<p>4.计算机网络主要解决什么问题的？</p>
<p>5.TCP/IP协议栈和OSI五层模型，他们的区别是啥，为什么要划分这两个标准（心态已经有点炸）</p>
<p>6.TCP主要解决什么问题，我说 IP层不保证可靠，需要靠TCP来保证</p>
<p>7.什么叫做可靠？怎么保证可靠的，然后我说了一堆，面试官：概括一下：大概就是序号、滑动窗口、流量控制、拥赛控制、确认重传机制</p>
<p>8.说说慢开始算法吧？</p>
<p>9Socket三元组是怎么保证传输到对方的，怎么回来的？给他讲了讲下面这个图的过程，随时打断我问问题</p>
<p><figure><a class="lightgallery" href="https://mmbiz.qpic.cn/mmbiz_png/vM5wwpuERkjn1oBQNicuwhIJZDvKUnw2p87T3XUC3k0BemhvQ1sI0YOTiciaiaMJdPW3QIItpTXfPeLGYiclOhjNhUw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" title="Image" data-thumbnail="https://mmbiz.qpic.cn/mmbiz_png/vM5wwpuERkjn1oBQNicuwhIJZDvKUnw2p87T3XUC3k0BemhvQ1sI0YOTiciaiaMJdPW3QIItpTXfPeLGYiclOhjNhUw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1">
        <img
            
            loading="lazy"
            src="https://mmbiz.qpic.cn/mmbiz_png/vM5wwpuERkjn1oBQNicuwhIJZDvKUnw2p87T3XUC3k0BemhvQ1sI0YOTiciaiaMJdPW3QIItpTXfPeLGYiclOhjNhUw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"
            srcset="https://mmbiz.qpic.cn/mmbiz_png/vM5wwpuERkjn1oBQNicuwhIJZDvKUnw2p87T3XUC3k0BemhvQ1sI0YOTiciaiaMJdPW3QIItpTXfPeLGYiclOhjNhUw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1, https://mmbiz.qpic.cn/mmbiz_png/vM5wwpuERkjn1oBQNicuwhIJZDvKUnw2p87T3XUC3k0BemhvQ1sI0YOTiciaiaMJdPW3QIItpTXfPeLGYiclOhjNhUw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1 1.5x, https://mmbiz.qpic.cn/mmbiz_png/vM5wwpuERkjn1oBQNicuwhIJZDvKUnw2p87T3XUC3k0BemhvQ1sI0YOTiciaiaMJdPW3QIItpTXfPeLGYiclOhjNhUw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1 2x"
            sizes="auto"
            alt="Image">
    </a></figure></p>
<p>10.怎么获取到ip的？DNS，怎么获取到下一跳的ip地址的？Ospf或者其他协议，维护路由表</p>
<p>11.期间我说了mac地址？怎么获取到mac地址的？APR，mac地址表</p>
<p>12.如果说一个主机在局域网内怎么传输的？讲了讲NAT的原理</p>
<p>13.说说三次握手吧？如果发送方接收方同时发送SYN请求报文，那么是一次连接还是两次连接？</p>
<p>14.我说两次，肯定吗？可以从接收方和发送方的状态来考虑？这个问题请大佬回答啊我一开始说的是两次连接因为因为每次连接的序号都是随机的互不影响，但是状态的话都会变到SYN SEND啊，如果在TCP里面会去判断状态的话，那就是一次</p>
<p>15.TCP的保活机制了解吧？发个探测报文，能说的具体点嘛？没操作过</p>
<p>16.为什么有了TCP的保活机制还要有应用层的保活机制？两者的区别知道吗？不太懂，我说HTTP具备保活机制，但是其他的应用层协议也许就没有了，所以还要有TCP的保活机制？他说不对？</p>
<p>17.你知道CICD嘛？我忘记问的啥了？我说是持续部署持续集成的那个CICD嘛，他说不是，然后反问你不是在xxx实习嘛？这个云技术很重要的，我说可能部门的侧重点不一样，我在这做数据库的</p>
<p>18.那你说说说TCP四次挥手的几个状态吧？不太记得了，我只知道有time-wait这个状态</p>
<p>19.那如果发送方和接收方同时发送FIN报文呢？会怎么样？我小声嘀咕了一下同时发送会同时到达嘛 请大佬回答</p>
<p>20.那你知道TCP的保活机制的缺点吗？我说不了解，但是我现在知道了为什么要有应用层的保活机制，面试官笑了两声，然后给我说对的，技术就是这样的，我也笑了</p>
<p>21.那你说说三次握手嘛，它的状态是怎么变化的？</p>
<p>22.对计算网络你还有那块比较熟悉吗？我说这个不敢说熟悉，肯定还会有不知道的点，面试官又笑了两声</p>
<p>23.那再问一个问题吧，你还有什么课程比较熟悉吗？操作系统，行那你说说LInux的负载指数是怎么呀的？我说就是那个top下来有一个指标，这个忘记了啊</p>
<p>24.说说你的实习吧？</p>
<p>25.你有什么要问的吗？我说我没有。你对你今天的表现怎么样？我说不是很好，不能只是停留在理论吧啦吧啦我说了一点，然后我反问他：请问您刚才提到的问题，发送方和接收方同时发送SYN报文，怎么去模拟这个场景？对方：沉默20秒，模拟还是能模拟的吗？哈哈，那今天就到这</p>
<p>26.然后你接下来把那个题完成吧，我抽空回看看的，然后花了点时间写了下链表。结束了</p>
<p>1.在请求体里除了使用json格式，还能使用啥格式，我当时答的是xml</p>
<p>接下来就是智力题轰炸了，我搞错了是三道智力题+一个算法：</p>
<p>2.100个相同的球，分成A、B、C、一共3堆（每一堆至少0个球），一共有多少种分堆方式？（排列和组合吧，我说是什么C310，就是那个C，老忘记了）</p>
<p>3.在岛上有85只老虎和1只羊，老虎可以吃草，但他们更愿意吃羊。如果每次只有一只老虎可以吃羊，而且一旦他吃了羊，他自己就变成羊；而且所有的老虎都是聪明而且完全理性的，他们的第一要务是生存。请问这只羊会不会被吃？（推理了一下，老虎吃完羊之后自己变成羊，又会被别人吃那就是不符合聪明和生存了，所以羊不会被吃？）</p>
<p>4.有100个饺子，A和B轮流吃，每次可以选择吃1~3个，谁吃完最后一个则获胜，如果A先吃，A有必胜的策略？如果没有？B有必胜的策略？（当时说的是没有必胜的策略，采用枚举啊，就6中情况，后来想了想，可以这样，假设A吃x，B吃y，那么A要必胜就意味着 100 % ( x + y ) &lt;= x 才可以，但是100 % ( x + y ) &lt;= x + y s所以要成立的话就有( x + y ) &lt;= x，那么只有A不吃才行）</p>
<p>5.给定m个不重复的字符 [a, b, c, d]，以及一个长度为n的字符串tbcacbdata，问能否在这个字符串中找到一个长度为m的连续子串，使得这个子串刚好由上面m个字符组成，顺序无所谓，返回任意满足条件的一个子串的起始位置，未找到返回-1。比如上面这个例子，acbd，3（当时是使用双指针+哈希暴力解了一下，面试官说下去在优化优化，就结束了）</p>
<p>\3. 八股文，http状态码，tcp/udp区别</p>
<p>\4. 算法题：上台阶(n个台阶一次走一步or两步问走到n阶的方案数)
我说有三种解法(递推、矩阵快速幂、多项式全家桶)，写了前两种</p>
<p>\4. 算法题1：三数之和https://leetcode-cn.com/problems/3sum/</p>
<p>\5. 算法题2：n个数字，问怎么排列使得最后的字符串最大。(记得学过是个贪心，但是忘记怎么贪的了，面试官给提示了一下)</p>
<p>\3. http1.0和1.1的区别</p>
<p>\4. http1.1建立连接后，服务端怎么区分发过来的请求(????)</p>
<p>\5. 进程和线程的区别</p>
<p>\6. 算法题：字符串找回文(要求:1. 字符相邻 2. 必须先增后减)，比如abcdedc，可行的是cdedc</p>
<p>\1. TCP中time_wait状态</p>
<p>\2. HTTP2.0的特性</p>
<p>\3. HTTP的长连接和短连接</p>
<p>\7. sql场景题</p>
<p>\8. 求图书馆中指定的一本书最热门的5个标签</p>
<p>\9. 智力题</p>
<p>100个苹果，两个人A和B轮流吃苹果，每个人每轮能吃2个或3个苹果，谁吃完最后一个苹果谁赢有无必胜策略？如果有，谁必胜?</p>
<p>\10. 算法题</p>
<p>对一个先递增后递减的数组去重。 双指针O(n)</p>
<p>\6. 操作系统</p>
<p>\7. 假如你的电脑正在运行一些程序，突然把硬盘从电脑中***，程序的运行状态如何？</p>
<p>\8. Linux的ctrl+Z作用</p>
<p>\9. 用户态和内核态区别</p>
<p>\10. 计算机网络</p>
<p>\11. TCP拥塞控制流程</p>
<p>12 视频和实时语音用的传输层协议？理由？（拿牛客的面试视频做例子，结果不小心给自己挖坑，扯到RTP了）</p>
<p>\13. 算法题</p>
<p>01二维矩阵 求由1组成的最大正方形面积（力扣221）</p>
<p>\4. 由于做了一个DNS解析的项目 (有点忘了，答得一般)</p>
<p>\5. 问了DNS解析的过程</p>
<p>\6. 权威域名服务器和根域名服务器的定义</p>
<p>\7. 迭代查询是先查域名后缀还是前缀？</p>
<p>\10. 算法题</p>
<p>力扣42接雨水的变种题,把柱子变成隔板</p>
<p>\11. 开始想用单调栈做，没想出来。换成dp，快做完了，</p>
<p>\3. sync介绍</p>
<p>\4. 日志文件写入时断电了怎么办 怎么处理</p>
<p>\5. http怎么保证顺序传输</p>
<p>复制代码</p>
<table>
<thead>
<tr>
<th>1</th>
<th><code>int``*a = ``int``*b;</code></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>\6. 这行代码的底层实现 编译、汇编、内存寻址啥的都扯了一遍</p>
<p>\7. 虚拟内存</p>
<p>\8. 链接阶段发生了什么</p>
<p>\9. 静态编译和动态编译</p>
<p>\10. 其他八股文</p>
<p>\11. 算法题：给一个小写字母的数组，删除其中连续的abc</p>
<p>\12. edababccd -&gt; edd</p>
<p>\3. 进程间通信</p>
<p>\4. 信号量、消息队列怎么实现</p>
<p>\5. redis的几种结构和底层实现</p>
<p>\6. 持久化原理</p>
<p>\7. redis键过期删除策略，既然是单线程，那删除的时候会影响性能吗 怎么解决的</p>
<p>\8. redis作为缓存有哪些指标</p>
<p>\9. redis性能优化</p>
<p>\10. 算法题：1、二叉树层序遍历 2、接雨水</p>
<p>\3. cpu读取数据访问次数</p>
<p>\4. 基本八股文</p>
<p>\5. 算法：给定一个数字，不限制移动次数，输出给定数字下一个比它大的数字 类似力扣一个原题</p>
<p>\1. TCP中time_wait状态</p>
<p>\2. HTTP2.0的特性</p>
<p>\3. HTTP的长连接和短连接</p>
<p>\10. 算法题</p>
<p>对一个先递增后递减的数组去重。 双指针O(n)</p>
<p>进程与线程的区别</p>
<p>\4. 进程间和线程间的通信方式</p>
<p>\5. 进线程切换对比</p>
<p>\6. Linux用Shell命令统计常用的三个命令</p>
<p>\7. 场景：100G的文件当中，存放的都是IP地址。统计出现次数最多的IP地址，不限方式。</p>
<p>\8. Linux Shell命令的具体实现存在哪里？具体哪个目录下。</p>
<p>\9. 场景：写出数据结构和伪代码。每24小时，每个人不允许查询超过5次。</p>
<p>\10. 场景※：从网页上下载服务器的文件
具体怎么通过IP地址找到服务器</p>
<p>\11. 过桥问题：夜间有四个人需要过桥，每个人的过桥时间不等。过桥需要的手电筒只有一个，并且每次只能两人一起过，过桥时间取两人中最大值，说出你的思路。</p>
<p>\12. 了解过分布式CAP吗？无</p>
<p>\13. 算法题：
NC135 股票交易的最大收益（二）
NC14 按之字形顺序打印二叉树
做了一会儿没动规出来，说了一下自己的思路，然后面试官说要不我们换个题吧，换个题就好了，只要不考动态规划我们就是好朋友。</p>
<p>\2. 为什么选择硬件转软件：看了回放，感觉提出这个问题是因为面试官对我的研究方向有误解2333，我本身也是搞软件开发的，当时没get到他的思考方式。</p>
<p>\3. 项目背景、项目角色与职责：具体产出、未来目标。</p>
<p>\4. 对互联网技术栈的了解</p>
<p>\5. 场景：从APP传PDF文件到APP Server的请求链路包含哪些结点，结点之间的协议。
现场听不懂题意，全是瞎答的。</p>
<p>\6. HTTP/HTTPS的区别</p>
<p>\7. TCP协议：三次握手与四次挥手的细节。</p>
<p>\8. 长连接</p>
<p>\9. 通信过程中，同步、异步、阻塞和非阻塞。</p>
<p>\10. epoll</p>
<p>\11. Linux常用命令</p>
<p>\12. 测试的性能指标</p>
<p>\13. 场景：Linux服务器内部下载文件的过程，文件下到桌面。
涉及到网络完全不懂，复习漏洞。</p>
<p>\14. 用户态与内核态</p>
<p>\15. 零拷贝</p>
<p>\16. 场景：从文件当中读取数据并进行计算后存到另一个文件，CPU和文件是如何交互的。</p>
<p>\17. volatile</p>
<p>\18. static</p>
<p>\19. rocksdb读写机制
可以感觉到我们之间实在是无什么共同业务可聊，开始瞎扯了。</p>
<p>\20. 算法题：无重复字符的最长子串
和我上上场面试撞题了，同样是输出最长子串，给了三个测试用例，运行并输出结果。</p>
<p>\1. 浏览器访问网站过程，顺带TCP/IP，HTTP和HTTPs相关题目</p>
<p>\2. DNS工作过程</p>
<p>\3. C++萃取器的理解</p>
<p>\6. 多态的实现</p>
<p>\7. 虚表指针放在哪里</p>
<p>\8. 算法题：奇偶链表重排</p>
<p>\1. DNS劫持</p>
<p>\2. 说一说TCP、IP报文段的一些标志位意义</p>
<p>\4. 讲一讲ARP</p>
<p>\8. Linux比较不同文件 输出不同的行</p>
<p>\9. 算法题：链表排序</p>
<p>很快啊，三面挂的很快，上来就是我们只有40分钟抓紧点时间，然后就是自己实现智能指针，fork底层原理，几种进程通讯的实现，selec poll epoll底层，然后就说你这基础不行，写了两道算法题，写出来之后他说你这c++基础堪忧，实践太少，转行不动手，然后就这样吧</p>
<p>1.linux如何杀掉一个进程，具体的系统调用是怎样的
2.32位和64位操作系统处理浮点数有什么区别
3.www.douyin.com浏览器提示找不到ip地址，分析一下可能的原因。
4.DNS解析 递归vs迭代
5.DNS主要使用的传输层协议是什么？为什么不用TCP?
6.TCP time_wait？这个状态的设计目的是什么？</p>
<p>8.手撕1.给定正整数n，找到若干个完全平方数使得他们的和等于n，求最少的个数。
9.手撕2.给定一个未排序的整数数组，找出其中没有出现的最小正整数。O(N)时间，O(1)空间。</p>
<p>1.手撕1.判断是否是二叉搜索树
2.手撕2.带精度的开平方根
4.static，编译原理
5.内存的组织结构
6.智力题.7瓶药水和3只小白鼠，找出有毒的一瓶
7.粘包，keepalive</p>
<p>4.B+树，红黑树
5.hash方式，冲突解决
6.map和unordered_map
7.redis数据持久化方法
8.系统调用方法
9.HTTPS，详细说两种加密方法
10.手撕：1-n的数字序列，求所有子序列。</p>
<ol>
<li>
<p>项目中的博客网站登录认证逻辑</p>
</li>
<li>
<p>Session、cookie和token</p>
</li>
<li>
<p>CSRF攻击</p>
</li>
<li></li>
<li></li>
<li></li>
<li>
<p>Go的channel了解吗，可以存储什么类型的数据</p>
</li>
<li>
<p>Channel的作用是什么</p>
</li>
<li>
<p>Channel的底层实现</p>
</li>
<li>
<p>Go的协程调度模型</p>
</li>
<li>
<p>创建一个goroutine时会给它分配什么数据</p>
</li>
<li>
<p>DNS的机理</p>
</li>
<li>
<p>DNS用的是TCP还是UDP</p>
</li>
<li>
<p>http和https分别描述一下过程</p>
</li>
<li>
<p>常见的排序算法及其复杂度</p>
</li>
<li>
<p>描述一下快排和归并的过程</p>
</li>
<li></li>
<li>
<p>场景题：长链转短链系统</p>
</li>
<li>
<p>算法题：接雨水</p>
</li>
</ol>
<p><strong>字节上海一面（10.27）</strong></p>
<ol>
<li>
<p>线程和协程的区别</p>
</li>
<li>
<p>用户态和内核态</p>
</li>
<li>
<p>Go的channel支持多协程访问吗，底层是怎么实现的</p>
</li>
<li>
<p>除了channel还有什么方法进行并发</p>
</li>
<li>
<p>Channel和锁的应用场景有什么区别</p>
</li>
<li>
<p>使用shell命令取出文件中的第一万至两万行</p>
</li>
<li></li>
<li></li>
<li>
<p>Python的装饰器是什么</p>
</li>
<li>
<p>有用c++进行过程序调优相关吗</p>
</li>
<li>
<p>介绍项目</p>
</li>
<li>
<p>点赞表怎么实现的</p>
</li>
<li>
<p>点赞表不断增长怎么办</p>
</li>
<li>
<p>介绍项目</p>
</li>
<li>
<p>了解过哪些大数据组件</p>
</li>
<li>
<p>算法题：k级链表反转</p>
</li>
<li>
<p>Sql题：</p>
</li>
</ol>
<p>表1 “id,score,type”   type中存有1，2，3三种类型</p>
<p>将其转换成表2 “id,score_1,score_2,score_3”</p>
<ol start="26">
<li>算法题：力扣53-最大子数组和</li>
</ol>
<p>面试官点评：基础知识掌握的还行，但是对其他工具了解的太少</p>
<p><strong>字节上海二面（10.28）</strong></p>
<ol>
<li>
<p>项目介绍</p>
</li>
<li>
<p>如果用户短时间内一直按点赞键，怎么处理</p>
</li>
<li>
<p>恶意用户大量发送请求怎么处理</p>
</li>
</ol>
<p>（答了个ban掉ip地址被说不行）</p>
<ol start="9">
<li>算法题：函数fn()会以P概率返回0，(1-P)概率返回1，写一个函数f()将fn()封装起来，以等概率返回0和1</li>
</ol>
<p>二面结束后面试官马上告诉我过了</p>
<ol>
<li>
<p>操作系统有几层cache</p>
</li>
<li>
<p>寄存器和内存之间的cache有什么作用</p>
</li>
<li>
<p>你觉得内存和磁盘之间有cache吗？</p>
</li>
<li>
<p>说说LRU的数据结构设计</p>
</li>
<li>
<p>如果想改用LFU，可以怎么在LRU的数据结构上进行修改</p>
</li>
<li>
<p>代码题：打印给定的vector list的所有组合形式</p>
</li>
</ol>
<p>举例：vector&lt;vector<!-- raw HTML omitted --> &gt; v{{1,2},{3},{4,5}}</p>
<p>输出：</p>
<p>1 3 4</p>
<p>1 3 5</p>
<p>2 3 4</p>
<p>2 3 5</p>
<p>hr告诉我三面是leader面，本来以为会很难的，结果出的题目都挺简单，面完后面试官也是马上告诉我通过了</p>
<p>对垃圾回收的了解(自我发挥)</p>
<p>死锁的四个条件和避免死锁条件</p>
<p>算法题:</p>
<p>一棵二叉树, 将其中序遍历转成双链表的形式, 只可以使用树中结点的左右儿子指针, 不可以开新空间</p>
<p>5.redis满足acid吗，仔细讲讲哪些满足哪些不满足？</p>
<p>6.http和https的区别？</p>
<p>8.rocketmq为什么不用zookeeper做注册中心？谈谈你的理解</p>
<p>9.谈谈netty对堆外内存的管理，如何回收堆外内存？</p>
<p>算法：</p>
<p>1.二叉树的最大宽度</p>
<p>2.和为k的子数组</p>
<p>2.zookeeper做分布式锁和redis做分布式锁的区别？zookeeper如何实现分布式锁？</p>
<p>3.rocketmq延时队列如何实现？</p>
<p>4.谈谈AQS？</p>
<p>5.并发环境使用原子整形计数会有什么问题？longAddr有了解吗？</p>
<p>6.redis集群谈一谈？</p>
<p>算法：</p>
<p>1.接雨水</p>
<p>2.回文串的数量</p>
<p>1.CAS如何实现的？</p>
<p>2.三次握手第一次握手的报文问丢失会怎么样？有做过实验吗？</p>
<p>3.要一次性发送10mb数据，用tcp还是udp？</p>
<p>4.软中断和硬中断的区别？</p>
<p>5.数据从用户空间到发送出去需要经过哪些步骤？</p>
<p>6.智力题，具体搞忘了</p>
<p>7.epoll和select讲一讲？</p>
<p>8.rocketmq的存储结构讲一讲？消息消费失败会怎么样？</p>
<p>9.拥塞控制和流量控制的区别？</p>
<p>算法：</p>
<p>1.第一个缺失的正数</p>
<p>上来首先直接手撕算法，说代替笔试：</p>
<ul>
<li>10亿个数据中筛选出最大的100个（小顶堆）</li>
<li>判断字符串x2是否包含x1（包含指x2的一个子串内容和长度和x1一样，但是顺序可变）</li>
</ul>
<p>第一题开始思路错了，面试官提醒后完成了，第二题开始题目看错了，面试官提醒后改过来了（第一次面试有点紧张，😂）</p>
<p>接下来是八股：</p>
<ul>
<li>
<p>tcp time_wait状态讲讲</p>
</li>
<li>
<p>如果一个服务器出现很多time_wait状态可能是什么情况</p>
</li>
<li>
<p>tcp如何实现可靠传输</p>
</li>
<li>
<p>线程同步的方式</p>
</li>
<li>
<p>堆排序稳定吗（这个忘记了，现推说不稳定）</p>
</li>
<li>
<p>怎么实现智能搜索，例如输入ha，弹出哈工大，输入s，弹出深圳（我说哈希表，这题没有底）</p>
</li>
<li>
<p>如何检测垃圾文本，例如“啊啊啊啊啊啊，屁股屁股，没有没有”，就是很多重复的字词，没有意义（不太会，就说了查重，面试官也没有给我垃圾文本准确定义）</p>
</li>
<li>
<p>6.824的raft实现</p>
</li>
<li>
<p>tcp和udp区别</p>
</li>
<li>
<p>如何基于udp实现可靠传输（刚好144是基于udp的用户态tcp协议栈，我详细的讲了下实现细节）</p>
</li>
<li>
<p>进程线程、协程区别（从os的底层实现到go的gmp模型）</p>
</li>
</ul>
<p>上来首先自我介绍（和上面一样），然后写算法</p>
<ul>
<li>最大子序和</li>
</ul>
<p>然后开始八股：</p>
<ul>
<li>进程和线程的区别</li>
<li>什么时候会从用户态陷入内核态，具体细节</li>
<li>io密集型和计算密集型分别适合多线程还是多进程（和上面的两个问题层层递进，好，这里给了点提示）</li>
<li>进程通信方式（我很详细的讲，最后讲到套接字的时候可能讲的太久了，面试官说不用说了，我们问其他的😂）</li>
<li>tcp为什么要三次握手（这里说我没有说出关键点）</li>
<li>tcp time_wait要等多久，为什么</li>
<li>线性一致性是什么</li>
<li>除了raft你还了解哪些分布式协议，paxos知道吗（听过，没有了解，我说raft就是为优化paxos而生）</li>
</ul>
<p>算法题：</p>
<ul>
<li>从长度为n的数组里找出最大的k个数（和一开始的一面那题很像，但是这个我是用快排）</li>
</ul>
<p>然后问我说，看你os是用rust写的，然后技能树说自己擅长go，讲讲go和rust异同（内存管理，主要讲这个）</p>
<p>八股：</p>
<ul>
<li>浏览器输入网址发生什么（从dhcp，到dns解析，到http，到tcp，到arp，到nat、到局域网，因特网，我很详细地说了）</li>
<li>tcp udp区别</li>
<li>time_wait和close_wait细讲下（tcp11状态机在写144时就滚瓜烂熟了）</li>
<li>epoll poll select讲讲（从底层linux源码机制到对比我都详细讲了）</li>
<li>红黑树会吗（刚刚epoll提到红黑树，我说完全不会，这个题目应该所有面试里是唯一一个完全不知道说的）</li>
</ul>
<p>晚上面的，所以第二天9点多告诉我过了</p>
<p>最后写智力题</p>
<p>变色龙问题，三种颜色变色龙，两只颜色不一样的遇到一起会变成另一种颜色，输入三种变色龙的数量，判断最终能否都是一个颜色</p>
<p>3.操作系统中进程从运行到就绪发生了什么？</p>
<p>4.进程为什么从进程态转成就绪状态？</p>
<p>5.运行状态中，在进行IO操作，IO操作完进去什么状态，接下来到什么状态</p>
<p>6.TCP中的Time_wait作用。</p>
<p>7.怎么查看一个进程建立了多少连接？</p>
<ul>
<li></li>
</ul>
<p>16.redis有哪些数据结构，用过哪些？</p>
<p>17.发起一个请求域名，这中间发送什么？</p>
<p>18.用到的应用层协议是什么？</p>
<p>19.HTTP请求头，请求行，请求体分别存放的是什么？</p>
<p>20.响应状态码12345开头的含义？</p>
<p>21.502，504区别，403，404区别？</p>
<p>22.三数之和</p>
<p>\1. 一般有哪些路由协议？</p>
<p>\2. TCP和UDP的差别？</p>
<p>\3. TCP断开连接是什么？</p>
<p>\4. 快排的思想，时间复杂度，空间复杂度？</p>
<p>\5. 平衡二叉树是什么树？</p>
<p>\6. 二叉排序树什么树？</p>
<p>\7. 缓存有了解吗，分布式锁相关？</p>
<p>\8. redis了解什么？</p>
<p>\9. 热点Key是怎么解决的？</p>
<p>\10. 热点Key访问量比较大怎么解决？</p>
<p>\11. redis有哪些持久化机制，具体说一下？</p>
<p>\12. 快照？快照是怎么工作？</p>
<p>13.雪崩，击穿，穿透，解决方式？</p>
<p>\14. 为什么要用布隆过滤器啊？</p>
<p>\15. 布隆过滤器工作原理？</p>
<p>\16. 平常用的什么语言？</p>
<p>\17. AQS有了解吗？</p>
<p>\18. AQS底层锁是怎么实现的？</p>
<p>\19. 有哪些垃圾回收算法？</p>
<p>\20. 一般要实现线程执行完，然后执行另一个线程，怎么实现？</p>
<p>\21. 哈希冲突是怎么解决的？</p>
<ul>
<li></li>
</ul>
<p>\33. 用过什么消息队列吗？</p>
<p>\34. 延迟队列用过吗？</p>
<p>\35. CPU使用率比较高怎么解决？</p>
<p>\36. 具体怎么查？</p>
<p>\37. 自己开发的服务CPU使用率较高？</p>
<p>\38. ConcurrentHashMap是怎么加锁的？</p>
<p>\39. 缓存和数据库的一致性？</p>
<p>二叉树所有路径表示数字之和</p>
<p>\1. HashMap底层实现
\2. 解释一下volatile
\3. volite能保证线程安全吗</p>
<ul>
<li>\11. Redis有哪些数据结构？
\12. list是怎么实现的？
\13. zset，怎么插入数据，跳表插入数据流程
\14. redis内存淘汰策略
\15. 缓存雪崩的解决方案
\16. 击穿的解决方式
\17. 布隆过滤器工作方式，能解决击穿吗
\18. timewait状态作用
\19. 为啥要等两倍时间
\20. 快速重传介绍一下
\21. 进程线程的区别
\22. 内核态和用户态的区别？
\24. http1，2，3（quic)各个版本区别？
\25. 服务器配置相关？
\26. 商城是自己做的吗</li>
</ul>
<p>\27. 两数相加，</p>
<h2 id="分布式对象存储项目" class="headerLink">
    <a href="#%e5%88%86%e5%b8%83%e5%bc%8f%e5%af%b9%e8%b1%a1%e5%ad%98%e5%82%a8%e9%a1%b9%e7%9b%ae" class="header-mark"></a>分布式对象存储项目</h2><ul>
<li>数据去重算法怎么做的？怎么判断具体的数据怎么重的？复杂度？哈希表存储在内存？内存爆满怎么办？用redis做缓存，如果redis缓存中key过期数据不存在，是否存储到数据服务？O(n)判断？</li>
<li>断点续传怎么实现的？</li>
</ul>
<h2 id="计算机网络和操作系统" class="headerLink">
    <a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c%e5%92%8c%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f" class="header-mark"></a>计算机网络和操作系统</h2><ul>
<li></li>
<li>
<p>进程和线程有什么区别？一个进程有什么数据段？同一个线程有哪些数据段可以共享的？你觉得栈区会共享吗？栈区和堆区有什么区别？</p>
</li>
<li>
<p>进程的通信方式？哪些方式比较快？为什么共享内存比较快？管道为啥慢？</p>
</li>
<li>
<p>版本号对比，version1和version2.大于返回1，小于返回-1，其他返回0.001和0001比较的时候都视为1；1.0.0和1.0是相等的返回0</p>
</li>
<li>
<p>直接给的main函数，没有其他东西</p>
</li>
</ul>
<p>6.tcp为什么安全</p>
<p>7.tcp的超时重传机制</p>
<p>8.golang的GC</p>
<p>9.三色标记法的灰色、黑色有什么区别</p>
<p>10.为什么区分灰色和黑色，灰色存在的意义？</p>
<p>11.写屏障是什么？</p>
<p>12.进程、线程、协程的区别</p>
<p>13.什么时候用线程，什么时候用协程</p>
<p>算法：最大岛屿数量</p>
<p>7.代码题：1）K 个一组翻转链表，非递归和递归实现，如1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6-&gt;7-&gt;8-&gt;NULL，k=3，变为3-&gt;2-&gt;1-&gt;6-&gt;5-&gt;4-&gt;8-&gt;7-&gt;NULL</p>
<p>2）给定一个数组，判断可以积水的容量，如{ 5，2，1，4，3 } ，积水容量为5， <a href="https://leetcode.cn/problems/trapping-rain-water/" target="_blank" rel="noopener noreferrer">42. 接雨水</a></p>
<p>二面面试官小哥哥人也超级好，不嫌弃我菜愿意和我一起讨论，代码题我思路错了还会举例子告诉我这方法可能行不通，最后经他一步步引导发现其实就是双指针，感觉之前好像还做过这题，但一开始看到代码题的时候思路完全偏了</p>
<h3 id="heading-1" class="headerLink">
    <a href="#heading-1" class="header-mark"></a></h3><ol>
<li></li>
</ol>
<p>2.实现带timeout的read接口，原来的 ssize_t read(int fd, void * buf, size_t count) 改为ssize_t read(int fd, void * buf, size_t count, int timeout)，可以调用原来的read函数（其实就是封装一下原来的read函数，一开始没理解面试官意思懵了很久）</p>
<p>3.c++11新特性哪些对你很实用，auto，lambda，std::move</p>
<p>std::string byte = &ldquo;xxx&rdquo;</p>
<p>auto s = byte</p>
<p>问auto是拷贝还是引用，会推导成什么类型</p>
<p>1、使用过线程池吗？有什么参数？怎么设置参数？为什么要这样设置？具体场景呢？ 2、进程切换具体切换的是什么？线程切换呢？ 3、能讲一讲NIO吗？它的非阻塞具体在哪里？ 4、了解过AIO吗？讲一讲 5、Netty是用来做什么的？为什么说它高性能？具体讲一下 6、你觉得TCP协议有什么缺陷吗？（应该是一个开放性问题？）  9、算法题 <a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/" target="_blank" rel="noopener noreferrer">3. 无重复字符的最长子串</a> <strong>变式：求至多有k个不同字符</strong> 10、反问环节</p>
<p>3、项目介绍
4、你的项目里面用到了redis，具体谈一谈为什么？
5、为什么不用mysql？
6、redis是线程安全的吗？并发环境下，redis跟mysql哪个好？如何去做选择？
7、redis实现点赞功能是线程安全的吗？如何实现的？
8、redis持久化策略？mysql持久化方法？</p>
<p>12、redis事务与mysql事务的区别是什么？
13、Linux内核了解过吗？
14、内存是怎么分配的？
15、 redis内存满了怎么办？
16、redis集群如何扩容？如何分片？客户端如何直到分片之后，该去寻找哪一个key。
17、虚拟内存和物理内存？为什么要用虚拟内存技术？
18、算法：最长递增子序列（********300）,acm模式，写完之后，面试官问执行流程，口述debug过程。
19、算法提问，你的算法找到的递增序列是唯一的吗？
20、时间复杂度，空间复杂度，为什么要使用二分查找，你说你的算法用了动态规划，是怎么体现的？
21、有什么要问我的？
我的反问：
1、你们部门是主要写golang吗，我技术栈主要是java，会不会有影响，
答：没事可以学
2、问面试表现？
答：没什么特别的感受，觉得还行，还好。
3、问什么时候出结果？
答：以往都是三个工作日，具体要问hr。</p>
<p>后记：一次非常哈人的面试，总结下来就是全程在问数据库，我都怀疑我面的是数据库部门， redis集群的一些东西基本都没答全。
字节面经10次有9次出现的TCP一点没问，准确来说是计网一点没问，而且所有的问题都是从项目出发的，很苦恼唉
问的操作系统的内存分配也没答上来，说了半天，快表慢表和段页式存储，结果面试官说偏了，不过没关系。唯一自信的就是算法题，因为之前做过类似的，其实十分钟就写出来了，但是又花了一点时间假装没写出来，自己思考了一下代码流程和时间复杂度什么的，果然后面面试官追着问这些。</p>
<p>一面 约60min
项目：
项目热编译如何实现？
Go：
Slice扩容机制
Sync包mutex实现
GPM调度与垃圾回收
网络：
7层网络模型
应用层协议了解哪些
传输层协议了解哪些
TCP/UDP区别
TCP如何使传输可靠</p>
<p>算法：
前缀树实现（主要是因为我项目有前缀树相关的东西）
前缀树系列及题解：https://labuladong.github.io/algo/2/23/61/</p>
<p>算法1:https://www.nowcoder.com/discuss/post/353159649622958080
算法1想了半天没思路，面试官说换道题
算法2:股票买卖问题：https://labuladong.github.io/algo/3/28/96/， 我做的是最简单版，然后问了限制交易数量的思路
算法2 A了</p>
<p>总结：二面纯项目 + 3道题，算法做的不是很好，项目也没有说很清楚
面完想了想算法1的两个解法：1.回溯，直接每个数都拼一拼，返回小于n的最大数；2.贪心 + 二分，这个算法边界条件比较多</p>
<p>linux查看进程</p>
<p>linux查看线程</p>
<p>top命令信息（要求详细）</p>
<p>进程与线程与协程（三个的区别）</p>
<p>线程之间共享哪些信息（页表，全局变量，常量）说我没说完整</p>
<p>跳跃表插入过程(要求详细)</p>
<p>http长连接实现细节(要求详细)</p>
<p>redis的数据结构</p>
<p>bitMap的好处</p>
<p>redis存在高并发问题吗？（不考虑日志同步）</p>
<p>UUID和自增ID各自优缺点（至少说四点）</p>
<h2 id="redis-1" class="headerLink">
    <a href="#redis-1" class="header-mark"></a>Redis</h2><p>数据结构</p>
<p>zset数据结构</p>
<p>压缩列表 跳表</p>
<p>大K问题</p>
<h2 id="java" class="headerLink">
    <a href="#java" class="header-mark"></a>Java</h2><p>线程池</p>
<p>线程池参数,线程池流程</p>
<p>线程池拒绝策略</p>
<h2 id="算法" class="headerLink">
    <a href="#%e7%ae%97%e6%b3%95" class="header-mark"></a>算法</h2><p>长度最小的子数组</p>
<h2 id="redis-2" class="headerLink">
    <a href="#redis-2" class="header-mark"></a>Redis</h2><p>redis的事务</p>
<p>分布式锁</p>
<p>项目里redis用来干嘛的</p>
<h2 id="计网" class="headerLink">
    <a href="#%e8%ae%a1%e7%bd%91" class="header-mark"></a>计网</h2><p>TCP的拥塞控制</p>
<p>输入一个url会发生什么</p>
<p>三次握手为什么不能是两次</p>
<p>四次挥手为什么不能是三次</p>
<p>三次握手安全吗(syn泛洪攻击)</p>
<p>如何用短连接建立和长链接的映射</p>
<p>限流方式(令牌桶 漏桶)</p>
<h2 id="算法-1" class="headerLink">
    <a href="#%e7%ae%97%e6%b3%95-1" class="header-mark"></a>算法</h2><p>链表排序</p>
<p>spring的bean是单例吗</p>
<p>什么情况下使用非单例</p>
<p>java怎么实现线程私有数据</p>
<p>线程池和<strong>ThreadLocal的底层原理</strong></p>
<p>手写订阅发布模式</p>
<p>java里常见的GCroot</p>
<p>TCP和IP分别是那两层的</p>
<p>网络层和传输层分别解决了什么问题</p>
<p>查看80端口被那个进程占用(没答出来我麻了)</p>
<p>起了个进程看服务怎么起来</p>
<p>算法</p>
<p>二叉树的最近公共祖先</p>
<p><strong>总结:一二面感觉都问的很常规,并不是所有问题都答出来了,三面感觉是面试官随心问,想到啥问啥,估计是个leader,三面面试体验都很好.</strong></p>
<p><strong>写面经也是为了我和兄弟们攒人品,我兄弟一直运气不好两次碰到的面试官都是感觉态度特别差也没有反问环节,心态有点小炸,要是有大佬知道这是个什么情况求解答..</strong></p>
<p>.tcp为什么安全</p>
<p>7.tcp的超时重传机制</p>
<p>8.golang的GC</p>
<p>9.三色标记法的灰色、黑色有什么区别</p>
<p>10.为什么区分灰色和黑色，灰色存在的意义？</p>
<p>11.写屏障是什么？</p>
<p>12.进程、线程、协程的区别</p>
<p>13.什么时候用线程，什么时候用协程</p>
<p>算法：最大岛屿数量</p>
<p><strong>项目</strong></p>
<ol>
<li>介绍一下自己最熟悉的项目？</li>
<li>项目使用的技术栈？项目的微服务是怎么划分的？</li>
<li>项目的签到功能是怎么实现的？</li>
<li>项目的搜索附近的人功能是怎么实现的？</li>
</ol>
<p><strong>Java基础</strong></p>
<ol>
<li>final、finally、finalize的区别？</li>
<li>异常有哪些分类？</li>
<li>Error 和 Exception都是谁的子类？</li>
</ol>
<p><strong>JUC</strong></p>
<ol>
<li>线程和进程有什么区别？</li>
<li>有多少种实现线程的方法？</li>
<li>ThreadLocal是什么?</li>
<li>ThreadLocal的实现原理？</li>
<li>使用ThreadLocal有什么问题吗？如何解决？</li>
</ol>
<p><strong>JVM</strong></p>
<ol>
<li>讲一下JVM内存结构？</li>
<li>垃圾回收算法了解多少？</li>
</ol>
<p><strong>Redis</strong></p>
<ol>
<li>单线程的Redis的QPS是多少？</li>
<li>单线程的Redis为什么这么快？</li>
<li>Redis的持久化机制？</li>
<li>Redis切片集群？数据和实例之间的如何进行映射？</li>
<li>Redis扩容之后，哈希槽的位置是否发生变化？</li>
<li>Redis缓存和数据库不一致解决方法？</li>
</ol>
<p><strong>设计模式</strong></p>
<ol>
<li>了解哪些设计模式？</li>
<li>单例模式有几种实现方式？</li>
<li>单例模式最常用的实现方式是哪种？为什么？</li>
</ol>
<p><strong>数据结构</strong></p>
<ol>
<li>讲一下冒泡排序和快速排序的区别，从平均时间，最好，最好，稳定性上来说？</li>
</ol>
<p><strong>算法</strong></p>
<ol>
<li>LeetCode 543. 二叉树的直径</li>
</ol>
<h2 id="二面11月23日45min左右" class="headerLink">
    <a href="#%e4%ba%8c%e9%9d%a211%e6%9c%8823%e6%97%a545min%e5%b7%a6%e5%8f%b3" class="header-mark"></a>二面（11月23日，45min左右）</h2><p><strong>自我介绍</strong></p>
<p><strong>实习经历（20min）</strong></p>
<ol>
<li>介绍一下实习期间做的项目？</li>
<li>对实习项目做了提问。</li>
</ol>
<p><strong>Redis</strong></p>
<ol>
<li>对redis的数据结构是否熟悉？</li>
<li>讲一下Sorted set的底层数据结构实现？</li>
<li>什么是缓存穿透？</li>
<li>什么是缓存击穿？</li>
<li>什么是缓存预热？</li>
<li>Redis如何实现分布式锁？</li>
</ol>
<p><strong>计网</strong></p>
<ol>
<li>说说OSI七层模型？</li>
<li>用户输入网址到显示对应页面的全过程？</li>
<li>DNS 的解析过程？</li>
<li>HTTP有多少版本？</li>
<li>HTTP/1.1和HTTP/2.0的主要区别是什么？</li>
<li>目前使用最广泛的是哪个HTTP版本？</li>
<li>什么是幂等？幂等方法了解哪些？</li>
<li>除了Get方法之外还了解其他幂等方法吗？</li>
<li>一个TCP连接可以发送多少次HTTP请求?</li>
</ol>
<p><strong>算法</strong></p>
<ol>
<li>LeetCode 15. 三数之和 （带输入输出）</li>
</ol>
<p><strong>反问</strong></p>
<ol>
<li>是否要学习大数据相关知识？</li>
<li>之后的面试流程？</li>
</ol>
<p>字节后端日常实习一面</p>
<p>\3. 跳表了解吗？</p>
<p>\4. 快表了解吗</p>
<p>\5. TCP流量拥塞控制怎么控制的，快重传讲解一下</p>
<p>\6. TCP怎么保证能够面向连接（不是三次握手）</p>
<p>\7. 三次握手，四次握手讲一下，怎么处理半连接攻击</p>
<p>\8. 怎么判断链表里有没有环</p>
<p>\9. 算法：贪心，给若干段子区间，找到最少子区间，使得right-left&gt;给定的某个值。</p>
<p>空类占几个字节；字节对齐的好处；Malloc的原理</p>
<ol>
<li>
<p>项目中的博客网站登录认证逻辑</p>
</li>
<li>
<p>Session、cookie和token</p>
</li>
<li>
<p>CSRF攻击</p>
</li>
<li>
<p>Sql注入攻击</p>
</li>
<li>
<p>项目数据库的表组成</p>
</li>
<li>
<p>Go的channel了解吗，可以存储什么类型的数据</p>
</li>
<li>
<p>Channel的作用是什么</p>
</li>
<li>
<p>Channel的底层实现</p>
</li>
<li>
<p>Go的协程调度模型</p>
</li>
<li>
<p>创建一个goroutine时会给它分配什么数据</p>
</li>
<li>
<p>DNS的机理</p>
</li>
<li>
<p>DNS用的是TCP还是UDP</p>
</li>
<li>
<p>http和https分别描述一下过程</p>
</li>
<li>
<p>常见的排序算法及其复杂度</p>
</li>
<li>
<p>描述一下快排和归并的过程</p>
</li>
<li>
<p>操作系统的系统调用是什么</p>
</li>
<li>
<p>为什么要分用户态和内核态</p>
</li>
<li>
<p>场景题：长链转短链系统</p>
</li>
<li>
<p>算法题：接雨水</p>
</li>
<li>
<p>线程和协程的区别</p>
</li>
<li>
<p>用户态和内核态</p>
</li>
<li>
<p>Go的channel支持多协程访问吗，底层是怎么实现的</p>
</li>
<li>
<p>除了channel还有什么方法进行并发</p>
</li>
<li>
<p>Channel和锁的应用场景有什么区别</p>
</li>
<li></li>
<li>
<p>使用shell命令取出文件中的第一万至两万行</p>
</li>
<li>
<p>介绍项目</p>
</li>
<li>
<p>点赞表怎么实现的</p>
</li>
<li>
<p>点赞表不断增长怎么办</p>
</li>
<li>
<p>介绍项目</p>
</li>
<li>
<p>了解过哪些大数据组件</p>
</li>
<li></li>
<li>
<p>算法题：k级链表反转</p>
</li>
<li></li>
<li>
<p>算法题：力扣53-最大子数组和</p>
</li>
<li>
<p>如果用户短时间内一直按点赞键，怎么处理</p>
</li>
<li>
<p>恶意用户大量发送请求怎么处理</p>
</li>
</ol>
<p>（答了个ban掉ip地址被说不行）</p>
<ol start="4">
<li></li>
<li>
<ol start="9">
<li>算法题：函数fn()会以P概率返回0，(1-P)概率返回1，写一个函数f()将fn()封装起来，以等概率返回0和1</li>
</ol>
</li>
<li></li>
<li>
<p>操作系统有几层cache</p>
</li>
<li>
<p>寄存器和内存之间的cache有什么作用</p>
</li>
<li>
<p>你觉得内存和磁盘之间有cache吗？</p>
</li>
<li>
<p>说说LRU的数据结构设计</p>
</li>
<li>
<p>如果想改用LFU，可以怎么在LRU的数据结构上进行修改</p>
</li>
<li>
<p>代码题：打印给定的vector list的所有组合形式</p>
</li>
</ol>
<p>举例：vector&lt;vector<!-- raw HTML omitted --> &gt; v{{1,2},{3},{4,5}}</p>
<p>输出：</p>
<p>1 3 4</p>
<p>1 3 5</p>
<p>2 3 4</p>
<p>2 3 5</p>
<p>hr告诉我三面是leader面，本来以为会很难的，结果出的题目都挺简单，面完后面试官也是马上告诉我通过了</p>
<p>从10.08投出第一份简历开始，长达一个月的找实习终于结束了，感觉确确实实学到了许多东西吧，希望后面的实习一</p>
<ol>
<li>
<p>JAVA源码 HASHMAP底层机制</p>
</li>
<li>
<p>TCP的细节，怎么建立连接的，拥塞控制，流量控制的区别</p>
</li>
<li>
<p>JVM的垃圾回收，全过程，新生代，老年代，balabala的细节</p>
</li>
<li>
<p>进程间通信</p>
</li>
<li>
<p>.写一道算法题，贪心，应该是leetcode原题</p>
</li>
</ol>
<p>浏览器输入一个网址经过的过程</p>
<p>这个过程中涉及到的网络安全的问题了解吗</p>
<p>​    https</p>
<p>​    ddos</p>
<p>平时用linux吗</p>
<p>非常详细地讲一下ConcurrentHashMap的扩容流程</p>
<p>削峰和超卖怎么解决</p>
<p>一致性与回滚</p>
<p>final关键词的用法</p>
<p>进程之间的通信方式</p>
<p>哪种通信方式最快，为什么</p>
<p>其他通信方式主要消耗的时间消耗在哪</p>
<p>内核态和用户态的区别</p>
<p>kill -9原理</p>
<p>代码：判断一个树是否是完全二叉树</p>
<p>两个人轮流抛硬币，先抛到正面的赢，第一个人先抛赢的概率</p>
<p>一个概率生成器构造等概率器</p>
<ul>
<li></li>
</ul>
<h2 id="网络" class="headerLink">
    <a href="#%e7%bd%91%e7%bb%9c" class="header-mark"></a>网络</h2><ul>
<li>
<ul>
<li>osi 七层模型描述一下。</li>
</ul>
</li>
<li>
<p>描述每一个层，大概干什么作用，有什么协议即可。同理可以扩展5层，5层是把哪些合并了等等。</p>
</li>
<li>
<p>当时复习没注意这个点，网络层传输层还说反了，答得不是很好。</p>
</li>
<li>
<ul>
<li>tcp udp有哪些区别？对应哪些应用场景？</li>
</ul>
</li>
<li>
<p>这个建议好好读计算机网络自顶向下，说的挺清楚的。</p>
</li>
<li>
<p>最起码的有链接无连接，tcp的一些特性（可靠数据传输、拥塞机制、流量控制），比如应用场景 实时通信，比如报文头区别等等，可以涉及很多。</p>
</li>
<li>
<ul>
<li>tcp udp 哪个传输效率更高？</li>
</ul>
</li>
<li>
<p>效率更高这个我无从下手，当时就说 咱们评判效率标准是什么？比如我是追求传输的快？还是追求质量？按照我的框架下给出对应的答案。</p>
</li>
<li>
<ul>
<li>能不能基于udp完成可靠数据传输呢？</li>
</ul>
</li>
<li>
<p>这个问题就是顺着我说的质量，接着往下问的。应用层上可以做到的，书上也会讲到。</p>
</li>
</ul>
<h2 id="多线程" class="headerLink">
    <a href="#%e5%a4%9a%e7%ba%bf%e7%a8%8b" class="header-mark"></a>多线程</h2><ul>
<li>
<ul>
<li>进程 线程 协程的区别</li>
</ul>
</li>
<li>
<p>​    这个是因为我的简历上有go语言，协程，所以问了这个问题。</p>
</li>
<li>
<ul>
<li>多进程 多线程的区别</li>
</ul>
</li>
<li>
<p>​    本科老师教授过openmp和mpi，我就按照这两个的区别回答了一下。其实网上面经回答应该也挺好的，没有固定答案，可能是看个人思考吧。</p>
</li>
<li>
<p>​    比如多个之间如何合作，共享变量怎么办，消息通信等等。java的也可以聊聊thread local，锁啊，进程通信（ip+port）等等。</p>
</li>
</ul>
<h2 id="算法-最大栈" class="headerLink">
    <a href="#%e7%ae%97%e6%b3%95-%e6%9c%80%e5%a4%a7%e6%a0%88" class="header-mark"></a>算法 最大栈</h2><p>最大栈，最大队列。和剑指offer的题目应该类似吧。</p>
<p>最大栈就是新建一个额外的栈，保存最大值；最大队列这样干的不是最好，得有一些操作，反正当时是没想到。</p>
<p>然后灵机一动，讨了个巧，用两个栈 实现一个队列，原来o(n)，用两个栈的话最多也就o(2n)=o(n)，符合要求，实现出来了。</p>
<h2 id="redis-3" class="headerLink">
    <a href="#redis-3" class="header-mark"></a>redis</h2><ul>
<li>谈一谈常用的数据结构。</li>
</ul>
<p>其实就是5个基本的，string，list，set，hash，zset。大概说说用途。</p>
<p>还有几个有意思的结构，hyperloglog，这个涉及到伯努利试验，桶分布等等，我觉得本科同学学过概率论的真的可以好好研究下，说出来很加分的。</p>
<p>以及geo 地理位置的结构。</p>
<p>顺着string也可以提bloom过滤器，应用场景，黑名单，顺着还可以下击穿穿透雪崩等等等等，只是串联起来 什么都能说了。</p>
<ul>
<li>五大数据结构怎么实现的，有了解过吗？</li>
</ul>
<p>没看过源码，直说了。</p>
<ul>
<li>提到了跳表，有没有替代方案？</li>
</ul>
<p>zset用到跳表，大概讲讲跳表怎么回事，降低了查询时间啊，以及mysql为什么不用跳表而是b+树，两个的区别等等，可以说很多也是。</p>
<ul>
<li>redis物理集群怎么搭建，怎么部署 有了解吗？</li>
</ul>
<p>只要是集群，就要意识到，要么主从那种高可靠集群，解决单点故障，要么解决压力过大的沙丁分片。有了这个框架什么都好说了，比如二者区别，大概是什么意思等等。</p>
<ul>
<li>redis分布式锁有了解吗？</li>
</ul>
<p>这个建议好好看看，有很多权衡的点。</p>
<p>首先结论是，redisson 都帮我们解决实现了，他解决 有许多需要考量的点，概括上来讲可以包括：</p>
<p>【basic】本地锁</p>
<p>1、死锁</p>
<p>2、重复锁</p>
<p>3、正确的删除</p>
<p>4、性能问题</p>
<p>5、可靠性问题</p>
<p>6、红锁和红锁的缺点。</p>
<ul>
<li>redis有许多开源的 偏集群的方案，有了解吗？</li>
</ul>
<p>不了解。但是只要是集群，就可以从AKF这个角度去考虑，那就可以提到redis在AKF上的考量。同时集群有集群理论，比如CAP BASE理论等等。</p>
<ul>
<li>redis集群在cap关注的是哪两点呢？</li>
</ul>
<p>p分区容错性一定是有的；集群的话，比如主从，信息可能同步不上来，不一致；所以AP。</p>
<ul>
<li>base理论，和CAP 提出了什么新鲜玩意？</li>
</ul>
<p>阐述一下base理论是什么，比如一致性，就可以说 强一致性、弱一致性、最终一致性，kafka特殊的一致性（ISR,OSR）等等，很多。</p>
<h2 id="zookeeper" class="headerLink">
    <a href="#zookeeper" class="header-mark"></a>zookeeper</h2><ul>
<li>zk在CAP上是怎么的一个选择。</li>
</ul>
<p>马上意识到选举过程200ms，是没法干其他事情的，所以在这个时间是不可用的，CP。那zk和eureka都可以作为注册中心，eureka在掉的时候有自我保护机制，心跳等等，保证可用但不是一致的；同样还可以说zk的目录树结构，隔离等等。</p>
<ul>
<li>PAXOS协议有具体了解吗？</li>
</ul>
<p>讲自己知道的就行，比如背后论文的故事，大概流程，角色等等。</p>
<ul>
<li>除了PAXOS，业界常用的RAFT有了解吗？</li>
</ul>
<p>没具体了解，后续会了解一下。</p>
<ul>
<li>zk的脑裂问题听过吗？</li>
</ul>
<p>当时答得不太对，正确的是指集群里面，因为一些问题 产生两个主，不知道听谁的，具体见下一面，下一面面试官问到了。</p>
<h2 id="算法-层次遍历" class="headerLink">
    <a href="#%e7%ae%97%e6%b3%95-%e5%b1%82%e6%ac%a1%e9%81%8d%e5%8e%86" class="header-mark"></a>算法 层次遍历</h2><p>层次遍历改一下，一行从左往右，一行从右往左这样遍历。</p>
<p>对垃圾回收的了解(自我发挥)</p>
<p>死锁的四个条件和避免死锁条件</p>
<p>算法题:</p>
<p>一棵二叉树, 将其中序遍历转成双链表的形式, 只可以使用树中结点的左右儿子指针, 不可以开新空间</p>
<h2 id="一面-技术面" class="headerLink">
    <a href="#%e4%b8%80%e9%9d%a2-%e6%8a%80%e6%9c%af%e9%9d%a2" class="header-mark"></a>一面 技术面</h2><p>LC：纯数字字符串拆分成所有可能的ip</p>
<p>64匹马，每8匹可以进行一次比赛，如果要取前4名需要比几轮？</p>
<h2 id="二面-技术面" class="headerLink">
    <a href="#%e4%ba%8c%e9%9d%a2-%e6%8a%80%e6%9c%af%e9%9d%a2" class="header-mark"></a>二面 技术面</h2><p>LC：递增的气温</p>
<p>LC：z型遍历树</p>
<p>1000瓶水，其中1瓶有毒，如果在1轮中需要测出哪瓶有毒，需要几只小鼠？ 如果2轮呢？</p>
<h2 id="掰巧克力问题" class="headerLink">
    <a href="#%e6%8e%b0%e5%b7%a7%e5%85%8b%e5%8a%9b%e9%97%ae%e9%a2%98" class="header-mark"></a>掰巧克力问题</h2><p>问题：一块N * M大小的巧克力，每次掰一块的一行或一列，全部掰成 1 * 1 大小的巧克力需要掰多少次？</p>
<p>回答：N * M - 1次；不管怎么掰，每次只能把一个大块掰成两个小块，即每次掰只能增加1块巧克力； 那么将1块巧克力掰成N * M块小巧克力就需要掰N * M - 1次。</p>
<h2 id="辩论赛问题" class="headerLink">
    <a href="#%e8%be%a9%e8%ae%ba%e8%b5%9b%e9%97%ae%e9%a2%98" class="header-mark"></a>辩论赛问题</h2><p>问题：1000个人参加辩论赛，1对1进行辩论，淘汰输掉的一方，问需要安排多少场比赛才能角出冠军？ 回答：每场辩论赛只能淘汰一个人，要淘汰999个人则需要安排999场比赛。</p>
<h2 id="在24小时里面时针分针秒针可以重合几次" class="headerLink">
    <a href="#%e5%9c%a824%e5%b0%8f%e6%97%b6%e9%87%8c%e9%9d%a2%e6%97%b6%e9%92%88%e5%88%86%e9%92%88%e7%a7%92%e9%92%88%e5%8f%af%e4%bb%a5%e9%87%8d%e5%90%88%e5%87%a0%e6%ac%a1" class="header-mark"></a>在24小时里面时针分针秒针可以重合几次</h2><p>24小时中时针走2圈，而分针走24圈，时针和分针重合24-2=22次， 而只要时针和分针重合，秒针一定有机会重合，所以总共重合22次</p>
<h2 id="n只蚂蚁走树枝问总距离或者总时间" class="headerLink">
    <a href="#n%e5%8f%aa%e8%9a%82%e8%9a%81%e8%b5%b0%e6%a0%91%e6%9e%9d%e9%97%ae%e6%80%bb%e8%b7%9d%e7%a6%bb%e6%88%96%e8%80%85%e6%80%bb%e6%97%b6%e9%97%b4" class="header-mark"></a>N只蚂蚁走树枝，问总距离或者总时间</h2><p>问题：放N只蚂蚁在一条长度为M树枝上，蚂蚁与蚂蚁之间碰到就各自往反方向走，问总距离或者时间为多少？ 回答：这个其实就一个诀窍：蚂蚁相碰就往反方向走，可以直接看做没有发生任何事：大家都相当于独立的，A蚂蚁与B蚂蚁相碰后你可以看做没有发生这次碰撞，这样无论是求时间还是距离都很简单了。</p>
<h2 id="旅馆的1元钱问题" class="headerLink">
    <a href="#%e6%97%85%e9%a6%86%e7%9a%841%e5%85%83%e9%92%b1%e9%97%ae%e9%a2%98" class="header-mark"></a>旅馆的1元钱问题</h2><p>问题：有三个人去住旅馆，住三间房，每一间房10元，于是他们一共付给老板30，第二天，老板觉得三间房只需要25元就够了于是叫小弟退回5给三位客人，谁知小弟贪心,只退回每人1，自己偷偷拿了2，这样一来便等于那三位客人每人各花了九元，于是三个人一共花了27，再加上小弟独吞了不2，总共是29。可是当初他们三个人一共付出30那么还有$1呢？ 回答：他们所消费的27元里已经包括小弟贪污的2元了，再加退还的3元=30元；这30元现在的分布是：老板拿25元，伙计拿2元，三人各拿1元，正好</p>
<h2 id="砝码称轻重" class="headerLink">
    <a href="#%e7%a0%9d%e7%a0%81%e7%a7%b0%e8%bd%bb%e9%87%8d" class="header-mark"></a>砝码称轻重</h2><p>问题：有一个天平，九个砝码，其中一个砝码比另八个要轻一些，问至少要用天平称几次才能将轻的那个找出来？</p>
<p>回答：2次</p>
<p>问题：十组砝码每组十个，每个砝码都是10g重，但是现在其中有一组砝码每个都只有9g重，现有一个能显示克数的秤，最少称几次能找到轻的那组？</p>
<p>回答：1次</p>
<p>问题：有一个天平，九个砝码，一个轻一些，用天平至少几次能找到轻的？</p>
<p>回答：至少2次：第一次，一边3个，哪边轻就在哪边，一样重就是剩余的3个；第二次，一边1个，哪边轻就是哪个，一样重就是剩余的那个； 问题：有十组砝码每组十个，每个砝码重10g，其中一组每个只有9g，有能显示克数的秤最少几次能找到轻的那一组砝码？</p>
<p>回答：将砝码分组1~10，第一组拿一个，第二组拿两个以此类推。第十组拿十个放到秤上称出克数x，则y = 550 - x，第y组就是轻的那组。</p>
<h2 id="高楼扔鸡蛋问题" class="headerLink">
    <a href="#%e9%ab%98%e6%a5%bc%e6%89%94%e9%b8%a1%e8%9b%8b%e9%97%ae%e9%a2%98" class="header-mark"></a>高楼扔鸡蛋问题</h2><p>项目的表结构</p>
<p>linux常用命令
redis为什么快</p>
<p>2.根据我的实习项目对我进行提问，问的较为仔细，需要对自己的项目有较深的理解  <br>
3.OSI7层网络了解吗？说说具体有哪些层，并且每一层起到什么作用？互相之间如何协作？  <br>
4.应用层，传输层，网络层，数据链路层都有哪些协议？它们都起到了什么作用？  <br>
5.MAC地址在传输过程中会改变吗？  <br>
6.CSMA/CD协议作用于哪一层？如何工作的？如何降低碰撞几率的？  <br>
7.TCP三次握手，四次挥手聊一聊？  <br>
8.进程，线程，协程了解吗？说说他们的特性和区别。  <br>
9.select，poll，epoll的区别？  <br>
10.进程间的通信方式有哪些？共享存储的优点和缺点分别是什么？消息队列与管道相比有什么优势？  <br>
11.JDK8默认使用的垃圾收集器有哪些？新生代为什么普遍采用复制算法？老年代为什么普遍采用标记清除算法？  <br>
12.虽迟但到的算法题环节：  <br>
（1）接雨水  <br>
（2）链表每k个进行反转</p>
<p>用redis怎么做的分布式锁？线程取到锁之后的业务判断是什么？
2 用setnx做分布式锁的缺点？ 获得锁和设置锁的持有时间不是原子性会有什么问题？如何解决。
3 zk能解决吗 进程挂了如何解决？
4 锁的持有时间你给了多少？为什么这么给</p>
<p>5 java中做同步控制的锁
6 volatile的作用 能像锁一样保证原子性吗
7 synchronized锁静态方法和实例方法有何区别？
8 ==和equals区别
9 equals和hashcode的区别 hashcode相等equals一定相等吗 反之呢
10 遇到过内存泄漏吗
11 泛型的底层原理
12 tcp和udp区别
13 为什么需要端口号
14 tcp怎么确定每次传多少
15 假如接收窗口和发送窗口最小值有10K 我会把这10k全部发走吗
16 tcp包很大 到ip层要分两个包发 那我这两个ip包都要包含tcp头部吗
17 场景题：有一台服务器10个核 在上面运行一个采集1w台交换机信息的程序 每采集一台需要有1s的网络io 这个io是同步阻塞 为了提高采集效率 那么我设置5个进程还是10个进程还是20个进程</p>
<p>1 在项目设计过程中 有没有考虑过消息的实时性 存到哪 怎么输送到对端 消息的存储 协议选型 基于哪些评判去做？
2 项目分布式锁的使用场景 技术实现 架构设计是怎么设计的
3 项目中zk用来干嘛的
4 锁的持有时间少于业务时间如何 获得锁的线程崩溃怎么办
5 gc算法 标记清除里面 标记是怎么标记（什么样的标记 什么样的不标记 标记遍历的时候是BFS和DFS
6 堆中是用哪种gc算法 为什么选择分代收集
7 二叉树的pq结点的最近公共祖先 和 重排链表的题 10min一道
8 mysql底层架构 索引怎么存储 查询是怎么运用的索引的 以及我们能做的索引优化
9 B+树和B树的区别 从查询方式来说有什么区别
10 聚簇索引结点的形式 非聚簇索引第一遍查到的是什么值</p>
<p>os的内存管理方式
进程之间通信方式
客户端 服务器端通信 socket编程会涉及到哪些函数
使用过哪些锁
fork函数的原理 是干嘛的 返回值的意义
大端小端存储分别是什么意思 如何编程去判断是大端还是小端
讲讲缺页中断
innodb和myisam的区别 存储的叶子结点分别是什么
主机1主机2 主机2提供一个800服务 说一下主机1请求该服务的一个过程
dns的两种实现方式
主机1 往 主机2发送过程中 ip地址和mac地址的一个变化过程
tcp三次握手讲一下
四次挥手时为什么要等待2msl时间
如果说服务器端请求断开连接请求时 来了一个新连接 旧数据来到了新连接会发生什么问题
io多路复select和epoll的区别 时间复杂度分别是多少
tcp报文比较大 分为两个ip数据报 这两个ip数据报的哪些字段会不同
每个分完的ip数据报都要有tcp头部吗
traceroute的原理 用了icmp的哪个报文</p>
<p>算法题
1亿个数找最大的10000个数 讲两种 讲了堆排和外排 又让我讲用归并怎么做这题
搜索旋转排序数组</p>
<p>2.也是针对项目进行提问，相较于一面更为深入，例如会问</p>
<p>3.TCP和UDP区别是什么？TCP依据什么来保证可靠性？TCP是面向什么进行传输？</p>
<p>4.HTTPS和HTTP的区别？HTTPS协议链接建立流程是什么？HTTPS中的S代表什么？介于拿两层之间起作用？对于应用层透明吗？</p>
<p>5.数据链路层为网络层提供了哪些服务？ARP协议是哪一层的协议？</p>
<p>6.ICMP报文能起到哪些作用？分别是如何起作用的？</p>
<p>7.虚拟内存了解吗？有什么作用？</p>
<p>18.智力题</p>
<p>有36匹马，6赛道，每条赛道之间的名次不可知，只能获知单条赛道马的名次，问最少比多少次能知道前三名？</p>
<p>19.算法题</p>
<p>（1）LRU（后面又让改成带过期时间的LRU，我使用的惰性删除）</p>
<p>（2）查找旋转数组（时间复杂度要求O(logn)）</p>
<p>3.HashMap如何是如何实现的呢？JDK8HashMap的散列算法能不能从源码层面来介绍一下？为什么扩容是两倍呢？自己手写实现过HashMap吗？</p>
<p>4.我看之前答垃圾收集器答的蛮好的，你能介绍一下CMS垃圾收集器的优缺点吗？为什么CMS会将serial old作为后备垃圾回收器？</p>
<p>5.对象只会被分配到堆吗？（答：不是，还有可能会栈上分配）</p>
<p>6.什么时候会进行栈上分配？</p>
<p>7.ThreadLocal的作用？如何实现？会不会出现内存泄漏？如何避免内存泄漏？</p>
<p>8.Spring AOP 的作用？如何实现的？</p>
<p>9.Spring 自动注入如何实现？（这个涉及的方面就比较多，讲了好久）</p>
<p>10.了解SSD的原理吗？（答：不知道，只知道磁盘，所以就讲了下磁盘存储原理和寻道算法）</p>
<p>11.操作系统是如何判定内存访问越界的？</p>
<p>12.访问越界后操作系用会如何进行处理？</p>
<p>13.用户态转换到核心态的过程？</p>
<p>14.进程切换过程？线程切换过程？</p>
<p>15.当我们ping的时候发送的是什么包？</p>
<p>16.TCP协议头部长度是使用哪个字段？如何计算的？</p>
<p>17.TCP如何实现流量控制和拥塞控制？</p>
<p>18.TCP的滑动窗口移动流程你能具体讲讲吗？</p>
<p>20.智力题</p>
<p>（1） 一个桶能存储5升水，一个桶能存储3升水，如何操作能量出4升水？</p>
<p>（2）两根质地不均匀的木头，从一端烧到另一端需要60分钟，如何操作能准确量出15分钟？</p>
<p>21.算法题</p>
<p>你之前说了解析器，那我现场出一道算法题吧，我会输入一个SQL语句，你需要将where后面的查询条件解析为一棵规则树</p>
<p>例如：where (a == b and c == d) or (e == f or (g == h))</p>
<p>我需要生成一棵树，结构为</p>
<p>or</p>
<p>- and</p>
<p>- a == b</p>
<p>- c == d</p>
<p>- or</p>
<p>- e == f</p>
<p>- g == h</p>
<h2 id="一项目" class="headerLink">
    <a href="#%e4%b8%80%e9%a1%b9%e7%9b%ae" class="header-mark"></a>一、项目</h2><p>1.微服务注册与发现机制？</p>
<p>2.服务之间的通信？</p>
<p>3.负载均衡实现方式？原理？</p>
<p>Java的notify()底层实现原理？</p>
<p>3.equals与==与hashcode</p>
<p>4.equals没有重写，调用时会调用hashcode方法吗？</p>
<p>5.Threadlocal原理？</p>
<p>6.Threadlocal和 synchronized的比较，优缺点？应用场景？</p>
<p>10.虚拟机与docker对比，各自的用途和优缺点</p>
<p>11.docker与k8s的区别</p>
<p>12.docker的COPY指令和ADD指令区别</p>
<p>13.普通的二叉树寻找第k小的方法？时间复杂度？优化？</p>
<p>14.线程的上下文是什么？栈容量是多少？</p>
<p>15.介绍一下零拷贝</p>
<p>16.虚拟地址空间的作用？进程独占or全局共享？</p>
<p>17.页表存储的位置？内存不够了怎么办（多级页表与局部性原理）？</p>
<p>18.linux io模型</p>
<p>一面谈项目比较多，二面三面八股多</p>
<p>4、OpenAPI和rpc区别</p>
<p>6、Docker有什么认识</p>
<p>7、用户态和内核态是什么，如何切换</p>
<p>8、HTTP有哪些常用头部</p>
<p>9、cookie和session</p>
<p>10、cookie如何设置</p>
<p>11、cookie有哪些参数</p>
<p>12、HTTP状态码</p>
<p>13、GET和POST</p>
<p>14、POST能模拟GET吗</p>
<p>15、Redis持久化方式</p>
<p>16、Redis的rehash如何实现</p>
<p>21、项目中redis使用场景</p>
<p>22、Nginx理解</p>
<p>0.你用了reactor模式，那reactor模式的工作线程是异步还是同步IO呢?同步IO异步IO定义是什么
（工作线程是用线程池实现的，reactor半同步半反应堆所以应该是同步?定义是内核返回给应用程序的是就绪的还是完成事件）
1.项目中用了epoll，说说Epoll和select，poll的区别
（答:在内核表里创建一项，边沿模式，返回的已就绪数组不用轮询）
2.epoll底层数据怎么管理组织的呢
（答:噢，select是传入三个数组分别代表可读可写异常事件，epoll是都在一个event里注册，然后检测revents）
3.TCP,UDP的区别,一般通讯软件是用什么
（被误导了，本来想分开文本和视频的结果面试官补充说了一句不管什么文本还是图像视频，我就说都用udp&hellip;然后面试官说通讯软件不会单一地用哪一个，文本tcp视频音频udp&hellip;）
4.我看你用了小根堆定时器挺感兴趣，小根堆定时器怎么工作的（只提到了LRU&hellip;细节部分忘光了&hellip;）
5.线程池里用了请求队列，有什么办法避免锁的消耗
（答:无锁编程cas，面试官说没什么太大问题,不过你可以了解下无锁队列&hellip;&hellip;）
6.聚焦索引和非聚焦索引（一个叶子节点是数据页，另一个是键值）
7.聚焦索引和非聚焦索引多少个(1个和很多?然后面试官说聚焦索引存放主键唯一，sql其余所有索引都是非聚焦索引&hellip;)
6.sql查找某一列最大值（我居然没答MAX函数答了个orderby&hellip;.）
7.redis数据结构，排行榜用哪一个实现
8.跳表skiplist什么实现的，查询复杂度多少，原理(只知道跳表隔一层会有两个节点，缩短了链表长度&hellip;)
9.两道题:简单的前序遍历和多线程交替打印
我连前序都没写出来&hellip;完全不知道我在干什么，多线程还差一点一小时到了考官和我说了拜拜，然后语重心长地跟我说字节很看重写题和代码编写的逻辑思维能力，我还要加强&hellip;&hellip;
总结:单单看书东西真的不入脑，再加上表述能力差直接寄，然面试官感觉人挺好了，问的题目也非常简单了.，唉，话说做题我真的完全不行，每一次题目数字一出来我就开始脑壳发热了居然连简单题都做不出来&hellip;</p>
<p>&hellip;&hellip;以为挂了居然收到了二面通知&hellip;&hellip;卧槽，这二面会问啥啊</p>
<p>4.14 二面
虚函数是什么?运行多态有什么好处？
epoll底层怎么实现的?
epoll的ET模式和水平模式区别。
binlog干什么用的?
说一下MySQL隔离级别哪几种，对应解决的问题是什么?
说说对Redis的理解，把能想到的都说一说。
为什么Redis单线程还那么快?
算法题:
1.查询有两个order的用户
2.二叉树的最大宽度(问我时间复杂度多少)</p>
<p>如何把问题交给上级</p>
<ol>
<li>redis具体为什么以及怎么优化论坛项目中网站的性能？</li>
<li>​    redis单实例还是多实例部署的？</li>
<li>​    有调研过多实例部署的方式吗？</li>
<li>​    多实例部署的优势？可以解决什么样的问题？（不会。面试官：IO密集型进行分散IO，内存的存储容量增加）</li>
<li>​    如何保证key到达的一个redis实例</li>
<li>​    敲下<a href="https://www.nowcoder.com/discuss/post/www.douyin.com" target="_blank" rel="noopener noreferrer">www.douyin.com</a>中间发生什么？越详细越好</li>
<li>​    根域名服务器查的是哪个解析的结果？</li>
<li>​    顶级呢？</li>
<li>​    TCP三次握手和状态变化？</li>
<li>​    第二次握手的状态转化可以再详细讲一下吗？</li>
<li>​    http请求报文格式</li>
<li>​    常见的http头部有哪些？</li>
<li>​    http缓存有了解过吗？</li>
<li>​    那你思考一下，缓存一个大的页面（很多年不会变），缓存时应该记录哪些信息呢？</li>
<li>​    nginx可以提供什么样的功能有了解过吗？</li>
<li>​    es倒排索引原理</li>
<li>​    kafka生产消费模式</li>
<li>​    怎么确保消费被消费了可以丢弃掉？   s</li>
</ol>
<p>需要分布式锁的场景，然后又说锁的性能不好，怎么设计可以在无锁的情况下满足分布式锁的业务需求</p>
<p>分布式事务(经常被问到)
1、两阶段提交(2PC) 第一阶段:事务协调器要求每个涉及到事务的数据库预提交(precommit)此操作，并反映是 否可以提交.
第二阶段:事务协调器要求每个数据库提交数据。
优点: 尽量保证了数据的强一致，适合对数据强一致要求很高的关键领域。(其实也不能 100%保证强一致)
缺点: 实现复杂，牺牲了可用性，对性能影响较大，不适合高并发高性能场景，如果分布 式系统跨接口调用，目前 .NET 界还没有实现方案。
2、补偿事务(TCC) 针对每个操作，都要注册一个与其对应的确认和补偿(撤销)。Try、Confirm、Cancel 优点: 跟 2PC 比起来，实现以及流程相对简单了一些，但数据的一致性比 2PC 也要差一些 缺点: 缺点还是比较明显的，在 2,3 步中都有可能失败。TCC 属于应用层的一种补偿方式， 所以需要程序员在实现的时候多写很多补偿的代码，在一些场景中，一些业务流程可能用 TCC 不太好定义及处理。
3、本地消息表(异步确保) 核心思想是将分布式事务拆分成本地事务进行处理，消息生产方，需要额外建一个消息表， 并记录消息发送状态。消息表和业务数据要在一个事务里提交，也就是说他们要在一个数据 库里面。然后消息会经过 MQ 发送到消息的消费方。如果消息发送失败，会进行重试发送。 优点: 一种非常经典的实现，避免了分布式事务，实现了最终一致性。在 .NET 中 有现成 的解决方案。
缺点: 消息表会耦合到业务系统中，如果没有封装好的解决方案，会有很多杂活需要处理。 4、MQ 事务消息
RocketMQ 支持，RabbitMQ 和 Kafka 都不支持，一次发送消息和一次确认消息，生产方需 要实现一个 check 接口(确认消息或者回滚)
优点: 实现了最终一致性，不需要依赖本地数据库事务。
缺点: 实现难度大，主流 MQ 不支持，没有.NET 客户端，RocketMQ 事务消息部分代码也未 开源。
5、Sagas 事务模型 长时间运行的事务，该模型其核心思想就是拆分分布式系统中的长事务为多个短事务，或者 叫多个本地事务，然后由 Sagas 工作流引擎负责协调，如果整个流程正常结束，那么就算是业务成功完成，如果在这过程中 实现失败，那么 Sagas 工作流引擎就会以相反的顺序调用补偿操作，重新进行业务回滚。 输入一个 URL 按下回车发生了什么?
像 DNS 服务器请求解析域名对应的 IP 地址
建立 HTTP 连接，因为应用层的 HTTP 协议是基于网络层的 TCP 协议的，因此需要建立 TCP</p>
</div>

        <div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2023-08-12</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share"><button title="分享到 Twitter" data-sharer="twitter" data-url="https://sad-man-shang.github.io/interview/" data-title="Interview" data-via="Sadman_sq" data-hashtags="面试"><span class="fab fa-twitter fa-fw"></span></button><button title="分享到 Facebook" data-sharer="facebook" data-url="https://sad-man-shang.github.io/interview/" data-hashtag="面试"><span class="fab fa-facebook-square fa-fw"></span></button><button title="分享到 Linkedin" data-sharer="linkedin" data-url="https://sad-man-shang.github.io/interview/"><span class="fab fa-linkedin fa-fw"></span></button><button title="分享到 Evernote" data-sharer="evernote" data-url="https://sad-man-shang.github.io/interview/" data-title="Interview"><span class="fab fa-evernote fa-fw"></span></button></div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/%E9%9D%A2%E8%AF%95/">面试</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/parkmate/" class="prev" rel="prev" title="Parkmate"><i class="fas fa-angle-left fa-fw"></i>Parkmate</a>
            <a href="/ios/" class="next" rel="next" title="IOS">IOS<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank" rel="noopener noreferrer">Sad man</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
            <div class="footer-line"></div>
            <div class="footer-line">
            </div>
        </div></footer></div>

    <div id="fixed-buttons"><a href="#back-to-top" id="back-to-top-button" class="fixed-button" title="回到顶部">
            <i class="fas fa-arrow-up fa-fw"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
            <i class="fas fa-comment fa-fw"></i>
        </a>
    </div><div class="assets"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/katex/copy-tex.min.css">
        <noscript><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"></noscript><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"distance":0,"findAllMatches":false,"fuseIndexURL":"/index.json","highlightTag":"em","ignoreFieldNorm":true,"ignoreLocation":false,"isCaseSensitive":false,"location":0,"maxResultLength":10,"minMatchCharLength":2,"noResultsFound":"没有找到结果","snippetLength":50,"threshold":0.9,"type":"fuse","useExtendedSearch":false},"sharerjs":true,"table":{"sort":true}};</script><script type="text/javascript" src="/lib/tablesort/tablesort.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js" defer></script><script type="text/javascript" src="/lib/katex/auto-render.min.js" defer></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js" defer></script><script type="text/javascript" src="/lib/katex/mhchem.min.js" defer></script><script type="text/javascript" src="/js/katex.min.js" defer></script><script type="text/javascript" src="/js/theme.min.js" defer></script></div>
</body>

</html>