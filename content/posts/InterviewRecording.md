---
title: "Interview Recording"
date: 2023-09-05T17:52:27+08:00
draft: false
authors: [Sad_man]
tags: []
categories: []
series: [面试复盘]
series_weight: 1
---

# AK1

关于如何学习java

JUC中的两个类：ThreadLocal、AQS

源码讲解：Spring bean初始化流程、AOP

JVM的gc

redis的数据结构？为什么支持高并发？zset的底层是什么？如何判断热key？项目中哪里用到了redis？

如何保证rabbitMQ的顺序消费？rabbitmq就是一个queue啊！？只需要只有一个消费者就可以了。模型是什么？所有消息队列都是生产消费模型，不过面试官真正想问的是rabbitmq有哪些部分组成，生产者、消费者、交换机、队列、broker。



OAuth2.0的授权流程？

MySQL的索引有哪些？为什么不用B+树？

Canal的原理是什么？

场景题：一个部门有子部门，子部门还有子部门，如何实现快速查询一个部门有哪些子部门？可以优化的思路有：java代码优化、sql优化、缓存优化、表设计优化

点赞相关的表如何设计？





# AK2



项目询问

mysql索引结构

sql语句执行流程

如何进行分页

缓存雪崩是什么？如何解决？

rabbitmq的原理

消息积压如何解决？





# MT1

美团一面

raft角色有哪些，职责是什么？

raft日志同步的流程

redis支持的数据类型

zset的使用场景

redis如何加锁？

缓存雪崩解决方式

StringBuilder和String的区别

重写hashcode、equals的使用场景

LinkedHashMap如何保证有序性？

ConcurrentHashMap如何保证线程安全？

 volatile关键字解决了什么问题？可以保证原子性吗？

synchronized和lock的区别

synchronized可以被中断吗？

乐观锁的实现方式

CAS

类加载流程、委派双亲机制、能不能加载java.long.Object类？

堆内存和栈内存存了什么？

堆内存溢出以及栈溢出的常见原因

覆盖索引使用举例、为什么效率高？

MySQL主从同步机制

索引失效的场景

手撕归并排序



# MT2

经历拷问

项目难点

手撕循环打印





# TX qqIOS1

个人介绍

spring源码看了多少？

mybatis从编码到查询数据库到返回结果的全过程

如果查询时间较长是什么原因？如何解决？

mysql和redis数据不一致如何处理？

tcp四次挥手

http几个版本

https的加密过程

手撕：2题，一个回文判断，一个反转整数

最近看过什么开源项目？具体看的哪一部分？

消息队列的使用场景？了解哪个消息队列？具体说说？

项目中为什么要使用gRPC？

了解其他的语言吗？

linux如何查看cpu使用情况？

进程间通信方式

1亿个无序数字找出最大的1000个

# TX qqIOS2

gc、
什么是内存泄漏、
synchronized底层原理
闲聊一会接一个手撕目标和为k的子数组个数



# TX wd1

个人介绍

spring源码看了多少？

mybatis从编码到查询数据库到返回结果的全过程

如果查询时间较长是什么原因？如何解决？

mysql和redis数据不一致如何处理？

tcp四次挥手

http几个版本

https的加密过程

手撕：2题，一个回文判断，一个反转整数

最近看过什么开源项目？具体看的哪一部分？

消息队列的使用场景？了解哪个消息队列？具体说说？

项目中为什么要使用gRPC？

了解其他的语言吗？

linux如何查看cpu使用情况？

进程间通信方式

1亿个无序数字找出最大的1000个





# TX wxg1

大数相加

前k大

tcp三次握手

HashMap、ConcurrentHashMap

项目中难点

智力题：1000杯水一瓶毒药，喝了一小时会死，可以无限稀释。有十只小老鼠一小时找到毒药





# TX wxg2

锁

java内存共享

项目中难点

手撕

# TX wxg3

一个点是否在一个图形内？算法思路，如何优化？

手撕：3结点最小公公祖先





# DW 1

springcloud的服务发现，nacos的作用？

如何判断服务掉线？

心跳信号的实现方式？定时任务（线程池 or 阻塞队列

负载均衡有哪些类型？

讲讲一致性哈希使用场景？数据风暴就是啊，怎么没想起来啊可恶

用户表、商品表，保存用户对商品的关注关系，如何处理？为什么不是加一个fk？

有一个读用户关注的品牌列表接口，如何提高接口性能？索引+多级缓存

如何处理用户取关？包括表和缓存，以及java中如何实现？表，加一列是否关注，缓存，根据具体情况双删或者canal+rabbitmq同步

如果表需要频繁的修改，如何提高写性能？

首先要充分使用mysql的innodb存储引擎的特性，比如合并io，比如刷新邻接页

考虑水平拆分表？但是这个操作太重了，并且表拆分之后想合并

读写分离，降低数据库要处理的读请求，为写请求让出资源

在这之后，我在犹豫之中说了一个自认为离谱的操作，异步操作，比如写入消息队列，没想到面试官说这种思想才是最常见的。

我说起线程，面试官说起线程耗资源，我说用线程池。使用java自带的**CompletableFuture**

讲讲线程池参数，来的线程会被拒绝还是进入队列

在主线程中起一个线程，让它去执行任务，2秒内要得到结果，两秒后，无论结果怎么样，这个线程都要结束如何实现？使用Feature的get(long timeout, TimeUnit unit)



